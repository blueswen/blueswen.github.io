{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-]","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"tags/","title":"Tags","text":""},{"location":"tags/#api","title":"API","text":"<ul> <li>JSON end with newline</li> <li>OpenAPI \u2013 An eBay Perspective</li> <li>OpenAPI / Swagger Resource List for API Developers</li> <li>Why we switched from Flask to FastAPI for production machine learning</li> <li>Implementing request-based autoscaling for machine learning workloads</li> </ul>"},{"location":"tags/#architecture","title":"Architecture","text":"<ul> <li>Saving Files In A Database Or In A File System?</li> </ul>"},{"location":"tags/#bitwise","title":"Bitwise","text":"<ul> <li>Number of 1 Bits</li> <li>Pseudo-Palindromic Paths in a Binary Tree</li> </ul>"},{"location":"tags/#business-thinking","title":"Business Thinking","text":"<ul> <li>\u200b\u6280\u8853\u200b\u5de5\u4f5c\u8005\u200b\u7684\u200b\u5546\u696d\u200b\u601d\u7dad\u200b</li> </ul>"},{"location":"tags/#css","title":"CSS","text":"<ul> <li>MkDocs CSS \u200b\u5b57\u9ad4\u200b\u4e2d\u82f1\u6587\u200b\u5206\u5225\u200b\u8a2d\u5b9a\u200b</li> </ul>"},{"location":"tags/#cloud-native","title":"Cloud Native","text":"<ul> <li>Principles of container-based application design</li> </ul>"},{"location":"tags/#container","title":"Container","text":"<ul> <li>10 things to avoid in docker containers</li> <li>Container Timezone</li> </ul>"},{"location":"tags/#devops","title":"DevOps","text":"<ul> <li>Ledge - DevOps \u200b\u77e5\u8b58\u200b\u5e73\u53f0\u200b</li> <li>Differences Between Junior DevOps and Senior DevOps Engineers</li> <li>The Future of Ops Jobs</li> <li>Technologies &amp; Tools to Watch in 2021</li> </ul>"},{"location":"tags/#django","title":"Django","text":"<ul> <li>Django Multiple Files Upload</li> <li>Django Custom User with DRF and Simple JWT</li> </ul>"},{"location":"tags/#docker","title":"Docker","text":"<ul> <li>The best Docker base image for your Python application</li> <li>\u200b\u9632\u6b62\u200b Container \u200b\u555f\u52d5\u200b\u5f8c\u200b\u9000\u51fa\u200b</li> <li>R Plumber - API Service</li> <li>Install the Microsoft ODBC driver for SQL Server (Linux)</li> <li>Nginx with Docker Compose</li> <li>Use Local Images in Minikube</li> <li>Docker Multi-Stage Build</li> <li>10 things to avoid in docker containers</li> <li>Container Timezone</li> <li>Connect docker host from inside a docker container</li> </ul>"},{"location":"tags/#frontend","title":"Frontend","text":"<ul> <li>iframe access parent URL query string</li> <li>CORS</li> <li>JavaScript Promise</li> </ul>"},{"location":"tags/#gis","title":"GIS","text":"<ul> <li>TWD97TM2 to WGS84</li> </ul>"},{"location":"tags/#gitbook","title":"GitBook","text":"<ul> <li>GitBook Base Path</li> </ul>"},{"location":"tags/#go","title":"Go","text":"<ul> <li>Why we\u2019re writing machine learning infrastructure in Go, not Python</li> <li>Race Condition</li> </ul>"},{"location":"tags/#grafana","title":"Grafana","text":"<ul> <li>Grafana Stat Panel \u200b\u540c\u6642\u200b\u986f\u793a\u200b\u6700\u65b0\u200b\u7684\u200b\u503c\u200b\u8207\u200b Sparkline</li> </ul>"},{"location":"tags/#jwt","title":"JWT","text":"<ul> <li>Django Custom User with DRF and Simple JWT</li> </ul>"},{"location":"tags/#jasperreport","title":"JasperReport","text":"<ul> <li>JasperReports with Spring</li> </ul>"},{"location":"tags/#java","title":"Java","text":"<ul> <li>Maven block http repositories</li> </ul>"},{"location":"tags/#javascript","title":"JavaScript","text":"<ul> <li>iframe access parent URL query string</li> <li>JavaScript Promise</li> </ul>"},{"location":"tags/#jenkins","title":"Jenkins","text":"<ul> <li>Jenkins with Git Operation</li> <li>Move all files including hidden</li> </ul>"},{"location":"tags/#k8s","title":"K8s","text":"<ul> <li>Istio in Production</li> <li>Principles of container-based application design</li> <li>GitOps for Kubernetes with Jenkins</li> <li>K8s \u200b\u7bc0\u9ede\u200b\u8cc7\u6e90\u8017\u200b\u76e1\u200b</li> <li>Kubernetes Probes</li> <li>Use Local Images in Minikube</li> <li>10 most common mistakes using kubernetes</li> <li>Kubernetes Operator for Beginners \u2014 What, Why, How</li> <li>Implementing request-based autoscaling for machine learning workloads</li> </ul>"},{"location":"tags/#linux","title":"Linux","text":"<ul> <li>Container Timezone</li> </ul>"},{"location":"tags/#maven","title":"Maven","text":"<ul> <li>Maven block http repositories</li> </ul>"},{"location":"tags/#misc","title":"Misc","text":"<ul> <li>Hello World</li> </ul>"},{"location":"tags/#nginx","title":"Nginx","text":"<ul> <li>Nginx with Docker Compose</li> </ul>"},{"location":"tags/#nodejs","title":"Node.js","text":"<ul> <li>npm ERR! code SELF_SIGNED_CERT_IN_CHAIN</li> <li>Install node-sass without download the binding.node file from GitHub</li> </ul>"},{"location":"tags/#openapi","title":"OpenAPI","text":"<ul> <li>OpenAPI \u2013 An eBay Perspective</li> <li>OpenAPI / Swagger Resource List for API Developers</li> <li>Prism OpenAPI Mock Server</li> <li>Disable 'Try it out' in Swagger UI</li> </ul>"},{"location":"tags/#prometheus","title":"Prometheus","text":"<ul> <li>Grafana Stat Panel \u200b\u540c\u6642\u200b\u986f\u793a\u200b\u6700\u65b0\u200b\u7684\u200b\u503c\u200b\u8207\u200b Sparkline</li> </ul>"},{"location":"tags/#python","title":"Python","text":"<ul> <li>The best Docker base image for your Python application</li> <li>Understanding Best Practice Python Tooling by Comparing Popular Project Templates</li> <li>JSON end with newline</li> <li>Python package include command line tools</li> <li>Race Condition</li> <li>AIOHTTP - asynchronous HTTP client/server for python</li> <li>TWD97TM2 to WGS84</li> <li>Django Custom User with DRF and Simple JWT</li> <li>Why we switched from Flask to FastAPI for production machine learning</li> <li>Implementing request-based autoscaling for machine learning workloads</li> </ul>"},{"location":"tags/#r","title":"R","text":"<ul> <li>R Plumber - API Service</li> </ul>"},{"location":"tags/#roadmap","title":"Roadmap","text":"<ul> <li>The 2020 Web Developer Roadmap</li> </ul>"},{"location":"tags/#rules-of-thumb","title":"Rules of thumb","text":"<ul> <li>Rules of thumb for a 1x developer</li> <li>\u200b\u6280\u8853\u200b\u5de5\u4f5c\u8005\u200b\u7684\u200b\u5546\u696d\u200b\u601d\u7dad\u200b</li> </ul>"},{"location":"tags/#sre","title":"SRE","text":"<ul> <li>How we implemented RED and USE metrics for monitoring</li> </ul>"},{"location":"tags/#ssl","title":"SSL","text":"<ul> <li>HTTPS, SSL and TLS</li> </ul>"},{"location":"tags/#scraper","title":"Scraper","text":"<ul> <li>AIOHTTP - asynchronous HTTP client/server for python</li> </ul>"},{"location":"tags/#spring-boot","title":"Spring Boot","text":"<ul> <li>JasperReports with Spring</li> </ul>"},{"location":"tags/#testing","title":"Testing","text":"<ul> <li>We need to talk about testing</li> </ul>"},{"location":"tags/#thread","title":"Thread","text":"<ul> <li>Race Condition</li> </ul>"},{"location":"tags/#toolbox","title":"Toolbox","text":"<ul> <li>OpenVPN for Docker</li> </ul>"},{"location":"tags/#traefik","title":"Traefik","text":"<ul> <li>Serving Traefik\u2019s internal dashboard behind Traefik itself</li> <li>Traefik with config hot reload</li> </ul>"},{"location":"tags/#tree","title":"Tree","text":"<ul> <li>Sum of Left Leaves</li> <li>Balance a Binary Search Tree</li> <li>Pseudo-Palindromic Paths in a Binary Tree</li> <li>Populating Next Right Pointers in Each Node</li> <li>Binary Tree Coloring Game</li> <li>Distribute Coins in Binary Tree</li> </ul>"},{"location":"tags/#unix","title":"Unix","text":"<ul> <li>split large csv file</li> <li>Install the Microsoft ODBC driver for SQL Server (Linux)</li> <li>Move all files including hidden</li> <li>Until curl success</li> <li>Open JDK Download</li> <li>Get column index of field in CSV file</li> </ul>"},{"location":"tags/#vue","title":"Vue","text":"<ul> <li>Vue Bootstrap Admin Menu</li> <li>Vue vs React: Best Choice for Startups</li> <li>vxe-table with filter search and pagination</li> <li>Vue Select</li> </ul>"},{"location":"tags/#web-development","title":"Web Development","text":"<ul> <li>HTTPS, SSL and TLS</li> <li>Chrome ERR_UNSAFE_PORT</li> </ul>"},{"location":"tags/#git","title":"git","text":"<ul> <li>Jenkins with Git Operation</li> </ul>"},{"location":"tags/#jupyter-notebook","title":"jupyter notebook","text":"<ul> <li>Nginx with Docker Compose</li> <li>Arrow keys not working in vim in Jupyter console</li> </ul>"},{"location":"blog/2020/04/05/hello-world/","title":"Hello World","text":"<pre><code>jekyll s # serve\n</code></pre> <pre><code>jekyll b #build\n</code></pre>","tags":["Misc"]},{"location":"blog/2020/04/06/sum-of-left-leaves/","title":"Sum of Left Leaves","text":"<p>404. Sum of Left Leaves</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def sumOfLeftLeaves(self, root: TreeNode) -&gt; int:\n        return sum_left_node(root, False)\n\ndef sum_left_node(root:TreeNode, is_left:bool) -&gt; int:\n    if root is None:\n        return 0\n    if root.left or root.right:\n        return sum_left_node(root.left, True) + sum_left_node(root.right, False)\n    else:\n        if is_left:\n            return root.val\n        else:\n            return 0\n</code></pre> <p>\u200b\u7528\u200b recursive \u200b\u89e3\u200b\uff0c\u200b\u900f\u904e\u200b is_left \u200b\u7576\u200b flag \u200b\u5224\u65b7\u200b\u662f\u5426\u200b\u8981\u200b\u52a0\u8a72\u200b node \u200b\u7684\u200b\u503c\u200b</p>","tags":["Tree"]},{"location":"blog/2020/04/07/istio-in-production/","title":"Istio in Production","text":"<p>Everything We Learned Running Istio In Production \u2014 Part 1 Everything We Learned Running Istio In Production \u2014 Part 2</p> <p>\u200b\u5206\u4eab\u200b\u5c0e\u5165\u200b Istio \u200b\u7684\u200b\u4e00\u4e9b\u200b\u505a\u6cd5\u200b\u8207\u200b\u5efa\u8b70\u200b</p> <ol> <li>Istio \u200b\u63d0\u4f9b\u200b\u8a31\u200b\u591a\u529f\u80fd\u200b\uff0c\u200b\u5148\u200b focus \u200b\u5728\u200b\u4e00\u200b\u5169\u500b\u200b\u6700\u200b\u9700\u8981\u200b\u7684\u200b\uff0c\u200b\u518d\u200b\u9010\u6b65\u200b\u52a0\u5165\u200b\u5176\u4ed6\u200b\u529f\u80fd\u200b</li> <li>\u200b\u4e0d\u662f\u200b\u6240\u6709\u200b application \u200b\u90fd\u200b\u8207\u200b Istio \u200b\u76f8\u5bb9\u200b\uff0cchecklist</li> <li>Istio \u200b\u7684\u200b\u5c0e\u5165\u200b\u6578\u91cf\u200b\u4f5c\u70ba\u200b OKR</li> </ol>","tags":["K8s"]},{"location":"blog/2020/04/08/mkdocs-css-%E5%AD%97%E9%AB%94%E4%B8%AD%E8%8B%B1%E6%96%87%E5%88%86%E5%88%A5%E8%A8%AD%E5%AE%9A/","title":"MkDocs CSS \u200b\u5b57\u9ad4\u200b\u4e2d\u82f1\u6587\u200b\u5206\u5225\u200b\u8a2d\u5b9a","text":"<p>MkDocs \u200b\u8207\u200b gitbook \u200b\u7686\u200b\u70ba\u200b\u4f7f\u7528\u200b markdown \u200b\u7de8\u5beb\u200b\u6587\u6a94\u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u4f46\u200b gitbook cli \u200b\u5728\u200b 2018 \u200b\u5e74\u5e95\u200b\u7684\u200b\u6642\u5019\u200b\u56e0\u70ba\u200b\u5718\u968a\u200b\u6c7a\u5b9a\u200b\u96c6\u4e2d\u200b\u8cc7\u6e90\u200b\u5728\u200b GitBook.com \u200b\u5e73\u53f0\u200b\u800c\u200b\u505c\u6b62\u200b\u7dad\u8b77\u200b\uff0cMkDocs \u200b\u4ecd\u6301\u7e8c\u200b\u5728\u200b\u66f4\u65b0\u200b\u4e26\u4e5f\u200b\u6709\u200b\u5404\u7a2e\u200b Plugin\u3001Theme\uff0c\u200b\u5982\u200b Material for MkDocs\b\u3002</p> <p>\u200b\u5728\u200b\u7d14\u200b\u82f1\u6587\u200b\u6216\u200b\u4f7f\u7528\u200b Mac \u200b\u7684\u200b\u72c0\u6cc1\u200b\u4e0b\u200b Material for MkDocs \u200b\u7684\u200b\u95b1\u8b80\u200b\u9ad4\u9a57\u200b\u5f88\u200b\u597d\u200b\uff0c\u200b\u9810\u8a2d\u200b\u597d\u200b\u7684\u200b\u5b57\u9ad4\u200b\u7121\u8ad6\u200b\u662f\u200b\u6587\u5b57\u200b\u6bb5\u843d\u200b\u6216\u200b Code Block \u200b\u90fd\u200b\u80fd\u200b\u6709\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u5448\u73fe\u200b\u3002\u200b\u4f46\u200b\u5728\u200b Windows \u200b\u7684\u200b\u74b0\u5883\u200b\u4e0b\u6703\u200b\u4ee5\u200b\u65b0\u200b\u7d30\u660e\u9ad4\u200b\u4f5c\u70ba\u200b\u4e2d\u200b\u6587\u5b57\u200b\u9ad4\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5e0c\u671b\u200b\u53ef\u4ee5\u200b\u91dd\u5c0d\u200b\u4e2d\u200b\u6587\u5b57\u200b\u9ad4\u55ae\u200b\u7368\u5207\u63db\u200b\uff0c\u200b\u800c\u200b\u82f1\u6587\u200b\u90e8\u5206\u200b\u4ecd\u200b\u4fdd\u7559\u200b\u539f\u672c\u200b\u9810\u8a2d\u200b\u7684\u200b\u5b57\u9ad4\u200b\u3002</p> <p>CSS3 \u200b\u7684\u200b unicode-range \u200b\u53ef\u4ee5\u200b\u91dd\u5c0d\u200b\u6307\u5b9a\u200b\u7684\u200b\u6587\u5b57\u200b\u6216\u200b\u6587\u5b57\u200b\u7bc4\u570d\u200b\u8a2d\u5b9a\u200b\u5b57\u9ad4\u200b\uff0c\u200b\u800c\u200b MkDocs \u200b\u652f\u63f4\u200b\u589e\u52a0\u200b\u984d\u5916\u200b\u7684\u200b CSS \u200b\u8a2d\u5b9a\u200b(Additional stylesheets)\uff0c\u200b\u53ea\u8981\u200b\u5728\u200b mkdocs.yml \u200b\u589e\u52a0\u200b extra_css \u200b\u5373\u53ef\u200b\uff0c\u200b\u7d50\u5408\u200b\u5169\u8005\u200b\u5373\u53ef\u200b\u9054\u5230\u200b\u9700\u6c42\u200b\u3002</p> <pre><code>extra_css:\n    - \"stylesheets/extra.css\"\n</code></pre> <p>\u200b\u4ee5\u4e0b\u200b\u70ba\u8abf\u200b\u6574\u5b57\u200b\u9ad4\u5f8c\u7684\u200b extra.css</p> <pre><code>@import url('https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&amp;display=fallback');\n\n@font-face {\n  font-family: 'custom Roboto';\n  src: local('Microsoft JhengHei');\n  unicode-range: U+4E00-9FFF;\n}\n\n@font-face {\n  font-family: 'custom Roboto';\n  src: local('Roboto');\n  unicode-range: U+00-024F;\n}\n\n@font-face {\n  font-family: 'custom Roboto Mono';\n  src: local('Microsoft JhengHei');\n  unicode-range: U+4E00-9FFF;\n}\n\n@font-face {\n  font-family: 'custom Roboto Mono';\n  src: local('Roboto Mono');\n  unicode-range: U+00-024F;\n}\n\nbody,input{\n  font-family: \"custom Roboto\", \"Roboto\", \"Helvetica Neue\",Helvetica,Arial,sans-serif;\n}\n\ncode,kbd,pre{\n  font-family: \"custom Roboto Mono\", \"Roboto Mono\",\"Courier New\",Courier,monospace;\n}\n</code></pre> <p>Ref:</p> <ol> <li>CSS \u200b\u8a2d\u5b9a\u200b\u4e2d\u82f1\u6587\u200b\u4e0d\u540c\u200b\u7684\u200b\u5b57\u9ad4\u200b</li> </ol>","tags":["CSS"]},{"location":"blog/2020/04/10/the-best-docker-base-image-for-your-python-application/","title":"The best Docker base image for your Python application","text":"<p>The best Docker base image for your Python application</p> <p>\u200b\u4e00\u822c\u200b Docker Base Image \b \u200b\u5927\u591a\u200b\u6578\u200b\u6587\u7ae0\u200b\u90fd\u200b\u6703\u200b\u63a8\u85a6\u200b\u4f7f\u7528\u200b Alpine Linux\uff0c\u200b\u56e0\u70ba\u200b\u975e\u5e38\u200b\u7684\u200b\u5c0f\u200b\uff0c\u200b\u4f46\u200b\u5be6\u969b\u200b\u4e0a\u7528\u200b\u8d77\u4f86\u200b\u6703\u200b\u9047\u5230\u200b\u8a31\u591a\u200b\u7684\u200b\u554f\u984c\u200b\uff0c\u200b\u5982\u200b Docker Build \u200b\u5f88\u200b\u6162\u200b\uff0cDependencies \u200b\u6771\u7f3a\u200b\u897f\u7f3a\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f5c\u8005\u200b\u4e0d\u5efa\u8b70\u200b\u4f7f\u7528\u200b Alpine\u3002</p> <p>\u200b\u6587\u4e2d\u200b\u5217\u51fa\u200b\u5728\u200b\u9078\u64c7\u200b Base Image \u200b\u6642\u61c9\u200b\u8003\u91cf\u200b\u5230\u200b\u7684\u200b\u5e7e\u500b\u200b\u91cd\u9ede\u200b</p> <ol> <li>\u200b\u7a69\u200b\u5b9a\u6027\u200b\uff1aOS \u200b\u6240\u200b\u63d0\u4f9b\u200b\u7684\u200b library \u200b\u8ddf\u67b6\u69cb\u200b\u4e0d\u6703\u200b\u96a8\u8457\u200b\u7248\u672c\u200b\u66f4\u52d5\u200b\u6709\u200b\u5927\u5e45\u200b\u8b8a\u52d5\u200b\uff0c\u200b\u5426\u5247\u200b\u57fa\u5e95\u200b\u66f4\u65b0\u200b\u6642\u7121\u6cd5\u200b\u4f7f\u7528\u200b\u76f8\u540c\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5efa\u7f6e\u200b Image</li> <li>\u200b\u5b89\u5168\u6027\u200b\u66f4\u65b0\u200b\uff1a\u200b\u7576\u200b OS \u200b\u6709\u200b\u5b89\u5168\u6f0f\u6d1e\u200b\u6642\u80fd\u5920\u200b\u53ca\u200b\u6642\u200b\u5730\u200b\u66f4\u65b0\u200b</li> <li>\u200b\u5de5\u5177\u200b\u76f8\u4f9d\u200b\u6027\u200b\uff1a\u200b\u6709\u200b\u4e00\u4e9b\u200b\u57fa\u790e\u200b\u7684\u200b Tool (e.g. gcc, g++)\uff0c\u200b\u4e5f\u200b\u8981\u200b\u80fd\u200b\u652f\u63f4\u200b\u4e00\u4e9b\u200b\u6bd4\u8f03\u200b\u5c11\u898b\u200b\u7684\u200b Tool</li> <li>\u200b\u65b0\u7248\u200b\u7684\u200b Python\uff1a\u200b\u53ef\u4ee5\u200b\u7701\u53bb\u200b\u81ea\u5df1\u200b\u5b89\u88dd\u200b Python \u200b\u7684\u200b\u6b65\u9a5f\u200b</li> <li>\u200b\u8d8a\u5c0f\u8d8a\u200b\u597d\u200b\uff1a\u200b\u5728\u200b\u90e8\u7f72\u200b\u670d\u52d9\u200b\u7684\u200b\u80fd\u5920\u200b\u6709\u200b\u66f4\u597d\u200b\u7684\u200b\u6548\u80fd\u200b</li> </ol> <p>\u200b\u64da\u6b64\u200b\u4f5c\u8005\u200b\u7d66\u4e86\u200b\u5169\u7a2e\u200b\u5efa\u8b70\u200b\u9078\u9805\u200b</p> <ol> <li>\u200b\u4ee5\u200b Ubuntu LTS\u3001CentOS\u3001Debian \u200b\u70ba\u200b\u57fa\u5e95\u200b\u518d\u200b\u53bb\u200b\u5b89\u88dd\u200b\u6240\u200b\u9700\u200b\u7684\u200b Python</li> <li>Docker Hub \u200b\u4e0a\u200b\u63d0\u4f9b\u200b\u7684\u200b Python Image\uff0c\u200b\u5982\u200b slim-buster \u200b\u662f\u200b Debian Buster \u200b\u8f15\u91cf\u200b\u7684\u200b\u7248\u672c\u200b</li> </ol> <p>\u200b\u4e4b\u524d\u200b\u90fd\u200b\u4f7f\u7528\u200b Ubuntu \u200b\u70ba\u200b base\uff0c\u200b\u9084\u8981\u200b\u53e6\u5916\u200b\u81ea\u5df1\u200b\u5b89\u88dd\u200b\u7279\u5b9a\u200b\u7248\u672c\u200b\u7684\u200b python\uff0c\u200b\u76ee\u524d\u200b\u4f7f\u7528\u200b\u4e86\u200b slim-buster \u200b\u7684\u200b\u7248\u672c\u200b\u4f5c\u70ba\u200b base image\uff0c\u200b\u9664\u4e86\u200b make \u200b\u662f\u200b\u6c92\u200b\u6709\u200b\u5167\u5efa\u200b\u9700\u8981\u200b\u984d\u5916\u200b\u5b89\u88dd\u5916\u200b\uff0c\u200b\u4f7f\u7528\u200b\u9ad4\u9a57\u200b\u5f88\u200b\u4e0d\u932f\u200b\uff0c\u200b\u5b89\u88dd\u200b tensorflow \u200b\u4e5f\u200b\u5f88\u200b\u9806\u5229\u200b\u4e0d\u7528\u200b\u984d\u5916\u200b\u591a\u5b89\u88dd\u200b\u4ec0\u9ebc\u200b\u6771\u897f\u200b\u3002</p>","tags":["Docker","Python"]},{"location":"blog/2020/04/13/number-of-1-bits/","title":"Number of 1 Bits","text":"<p>191. Number of 1 Bits</p> <pre><code>class Solution:\n    def hammingWeight(self, n: int) -&gt; int:\n        count = 0\n        while (n != 0):\n            if (n &gt;&gt; 1 &lt;&lt; 1 != n): # \u200b\u53f3\u79fb\u200b\u518d\u200b\u5de6\u79fb\u200b\u5f8c\u200b\u4e0d\u200b\u76f8\u7b49\u200b\u8868\u793a\u200b\u6709\u200b\u4e00\u500b\u200b 1 \u200b\u88ab\u200b\u4e1f\u6389\u200b\n                count +=1\n            n &gt;&gt;= 1\n        return count\n</code></pre> <p>\u200b\u8f38\u5165\u200b\u70ba\u200b int\uff0c\u200b\u5224\u65b7\u200b\u70ba\u200b\u4e8c\u200b\u9032\u4f4d\u200b\u8868\u793a\u6cd5\u200b\u6642\u6709\u200b\u5e7e\u500b\u200b 1\u3002\u200b\u4f7f\u7528\u200b\u4e8c\u200b\u9032\u4f4d\u200b\u5de6\u79fb\u200b<code>&lt;&lt;</code> \u200b\u8ddf\u200b\u53f3\u79fb\u200b<code>&gt;&gt;</code>(BitwiseOperators)\uff0c\u200b\u53f3\u79fb\u200b\u518d\u200b\u5de6\u79fb\u200b\u5f8c\u200b\u4e0d\u200b\u76f8\u7b49\u200b\u8868\u793a\u200b\u6709\u200b\u4e00\u500b\u200b 1 \u200b\u88ab\u200b\u4e1f\u6389\u200b\uff0c\u200b\u4e00\u76f4\u200b\u53f3\u79fb\u200b\u5230\u200b n == 0 \u200b\u70ba\u6b62\u200b\u3002</p>","tags":["Bitwise"]},{"location":"blog/2020/04/14/understanding-best-practice-python-tooling-by-comparing-popular-project-templates/","title":"Understanding Best Practice Python Tooling by Comparing Popular Project Templates","text":"<p>Understanding Best Practice Python Tooling by Comparing Popular Project Templates</p> <p>\u200b\u4f5c\u8005\u200b\u5206\u6790\u200b\u4e86\u200b 18 \u200b\u500b\u200b github \u200b\u4e0a\u200b\u71b1\u9580\u200b\u7684\u200b python project template \u200b\u6240\u9078\u64c7\u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u5927\u90e8\u5206\u200b\u7684\u200b template \u200b\u90fd\u200b\u4f7f\u7528\u200b cookiecutter \u200b\u5efa\u7acb\u200b\uff0cpytest \u200b\u70ba\u200b\u4e3b\u8981\u200b\u7684\u200b test tool\u3002</p> <p>Up and Coming \u200b\u4e2d\u200b\u63d0\u5230\u200b Pyproject.toml \u200b\u4ee5\u53ca\u200b Poetry \u200b\u90fd\u200b\u6eff\u200b\u6709\u8da3\u200b\u7684\u200b\uff0c\u200b\u662f\u200b\u4ee5\u524d\u200b\u6c92\u6709\u200b\u6ce8\u610f\u200b\u5230\u200b\u7684\u200b\u65b0\u200b\u6771\u897f\u200b\uff0cPyproject.toml \u200b\u7528\u200b\u65bc\u200b\u53d6\u4ee3\u200b setup.py\uff0cPoetry \u200b\u7528\u200b\u65bc\u200b\u53d6\u4ee3\u200b pip\u3002</p> <p>\u200b\u6587\u7ae0\u200b\u4e2d\u200b\u4e5f\u200b\u63a8\u85a6\u200b\u4e86\u200b\u5e7e\u500b\u200b\u4e0d\u932f\u200b\u7684\u200b Data Science (kedro\u3001cookiecutter-data-science)\u3001Django \u200b\u7684\u200b template\uff0cData Science \u200b\u7684\u200b template \u200b\u5c0d\u200b\u65bc\u200b\u5c08\u6848\u200b\u4e0a\u200b\u7684\u200b\u7ba1\u7406\u200b\u4f3c\u4e4e\u200b\u6703\u6eff\u200b\u6709\u200b\u5e6b\u52a9\u200b\u7684\u200b\uff0c\u200b\u6709\u200b\u6a19\u6e96\u200b\u7684\u200b\u8cc7\u6599\u200b\u67b6\u69cb\u200b\u4e0b\u200b\u5728\u200b\u4ea4\u63a5\u200b\u5c08\u6848\u200b\u6642\u80fd\u5920\u200b\u8f15\u200b\u9b06\u200b\u8a31\u200b\u591a\u200b\u3002</p> <p>\u200b\u4f5c\u8005\u200b\u5728\u200b\u767c\u8868\u5f8c\u767c\u200b\u4e86\u200b\u4e00\u5247\u200b tweet tag Guido van Rossum \u200b\u60f3\u200b\u77e5\u9053\u200b\u4ed6\u200b\u7684\u200b\u770b\u6cd5\u200b\uff0cGuido van Rossum \u200b\u4e5f\u200b\u5f88\u5feb\u200b\u56de\u8986\u200b\u4e86\u200b\uff0c\u200b\u4ed6\u200b\u8a8d\u70ba\u200b Black \u200b\u904e\u8b7d\u200b\u4e86\u200b\uff0c\u200b\u9664\u975e\u200b\u5718\u968a\u200b\u5e38\u70ba\u200b\u4e86\u200b style \u200b\u5435\u67b6\u200b\u3002</p> <p>\u200b\u524d\u9663\u5b50\u200b\u4e5f\u200b\u958b\u59cb\u200b\u5617\u8a66\u200b\u7528\u200b\u4e00\u4e9b\u200b\u770b\u8d77\u200b\u4f86\u200b\u5f88\u200b\u53b2\u5bb3\u200b\u7684\u200b template \u200b\u5efa\u200b project\uff0c\u200b\u4f46\u5f8c\u4f86\u200b\u9084\u662f\u200b\u9078\u64c7\u200b\u6bd4\u8f03\u200b\u7cbe\u7c21\u200b\u7684\u200b template\uff0c\u200b\u7562\u7adf\u200b\u5de5\u5177\u200b\u4e0d\u505c\u200b\u63a8\u9673\u200b\u51fa\u65b0\u200b\uff0c\u200b\u7b49\u200b\u771f\u7684\u200b\u9700\u8981\u200b\u518d\u52a0\u200b\u9032\u4f86\u200b\u4e5f\u200b\u4e0d\u200b\u9072\u200b\uff0c\u200b\u904e\u65e9\u200b\u7684\u200b\u512a\u5316\u200b\u4f3c\u4e4e\u200b\u53ea\u662f\u200b\u5f92\u589e\u200b\u81ea\u5df1\u200b\u7684\u200b\u56f0\u64fe\u200b\u800c\u5df2\u200b\u3002</p>","tags":["Python"]},{"location":"blog/2020/04/15/split-large-csv-file/","title":"split large csv file","text":"<p>\u200b\u5206\u5272\u200b\u904e\u5927\u200b\u7684\u200b csv file \u200b\u4f9b\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5148\u200b\u4f7f\u7528\u200b <code>split</code> \u200b\u5207\u5206\u200b\uff0c\u200b\u518d\u200b\u900f\u904e\u200b <code>sed</code> \u200b\u63d2\u5165\u200b\u6a19\u982d\u200b\u3002</p> <pre><code># -l \u200b\u6bcf\u200b 3 \u200b\u884c\u200b\u5207\u5206\u200b\uff0c-d \u200b\u6539\u7528\u200b\u6578\u5b57\u200b\u7de8\u78bc\u200b\u5206\u5272\u200b\u5f8c\u200b\u6a94\u6848\u200b\nsplit -l 3 -d file.csv file.csv.part.\n\n# \u200b\u53d6\u5f97\u200b header\nheader=$(head -n 1 file.csv)\n\n# \u200b\u79fb\u9664\u200b\u7b2c\u4e00\u4efd\u200b\u7684\u200b header\ntail -n +2 file.csv.part.00 &gt; file.csv.part.00.tmp\nmv file.csv.part.00.tmp file.csv.part.00\nrm file.csv.part.00.tmp\n\n# \u200b\u5207\u5272\u200b\u5f8c\u200b\u7684\u200b\u8cc7\u6599\u200b\u5728\u200b\u7b2c\u4e00\u884c\u200b\u90fd\u200b\u52a0\u4e0a\u200b header\nsed -i '1i$header' file.csv.part.*\n</code></pre> <p>Reference:</p> <ol> <li>How to Split Large Text File into Smaller Files in Linux</li> <li>BASH: Prepend A Text / Lines To a File</li> <li>Split large csv file and keep header in each part</li> </ol>","tags":["Unix"]},{"location":"blog/2020/04/18/ledge---devops-%E7%9F%A5%E8%AD%98%E5%B9%B3%E5%8F%B0/","title":"Ledge - DevOps \u200b\u77e5\u8b58\u200b\u5e73\u53f0","text":"<p>Ledge Ledge Github</p> <p>\u200b\u5b98\u65b9\u200b\u4ecb\u7d39\u200b\uff1a</p> <p>Ledge \u2014\u2014 DevOps knowledge learning platform. DevOps\u3001\u200b\u7814\u53d1\u200b\u6548\u80fd\u200b\u77e5\u8bc6\u200b\u548c\u200b\u5de5\u5177\u200b\u5e73\u53f0\u200b\uff0c\u200b\u662f\u200b\u6211\u4eec\u200b\u57fa\u4e8e\u200b\u5728\u200b ThoughtWorks \u200b\u8fdb\u884c\u200b\u7684\u200b\u4e00\u7cfb\u5217\u200b DevOps \u200b\u5b9e\u8df5\u200b\u3001\u200b\u654f\u6377\u200b\u5b9e\u8df5\u200b\u3001\u200b\u8f6f\u4ef6\u5f00\u53d1\u200b\u4e0e\u200b\u6d4b\u8bd5\u200b\u3001\u200b\u7cbe\u76ca\u200b\u5b9e\u8df5\u200b\u63d0\u70bc\u200b\u51fa\u6765\u200b\u7684\u200b\u77e5\u8bc6\u200b\u4f53\u7cfb\u200b\u3002\u200b\u5b83\u200b\u5305\u542b\u200b\u4e86\u200b\u5404\u79cd\u200b\u6700\u4f73\u200b\u5b9e\u8df5\u200b\u3001\u200b\u64cd\u4f5c\u624b\u518c\u200b\u3001\u200b\u539f\u5219\u200b\u4e0e\u200b\u6a21\u5f0f\u200b\u3001\u200b\u5ea6\u91cf\u200b\u3001\u200b\u5de5\u5177\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5e2e\u52a9\u200b\u60a8\u200b\u7684\u200b\u4f01\u4e1a\u200b\u5728\u200b\u6570\u5b57\u5316\u200b\u65f6\u4ee3\u200b\u66f4\u597d\u200b\u5730\u200b\u524d\u8fdb\u200b\uff0c\u200b\u8fd8\u6709\u200b DevOps \u200b\u8f6c\u578b\u200b\u3002</p> <p>\u200b\u5982\u200b\u5b98\u65b9\u200b\u4ecb\u7d39\u200b\u6240\u200b\u8aaa\u200b Ledge \u200b\u5206\u4eab\u200b\u4e86\u200b\u5f88\u591a\u200b DevOps\u3001\u200b\u654f\u6377\u200b\u3001\u200b\u8edf\u9ad4\u200b\u958b\u767c\u200b\u7684\u200b\u76f8\u95dc\u200b\u77e5\u8b58\u200b\uff0c\u200b\u6574\u9ad4\u200b\u77e5\u8b58\u5eab\u200b\u9084\u5728\u200b\u6301\u7e8c\u200b\u589e\u88dc\u200b\u4e2d\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6703\u200b\u6709\u200b\u4e00\u4e9b\u200b\u5730\u65b9\u200b\u53ea\u6709\u200b\u6a19\u984c\u200b\u6c92\u6709\u200b\u5be6\u969b\u200b\u5167\u5bb9\u200b\uff0c\u200b\u4e0d\u904e\u200b\u6709\u200b\u4e86\u200b\u95dc\u9375\u200b\u5b57\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6709\u200b\u65b9\u5411\u200b\u77e5\u9053\u200b\u8981\u200b\u67e5\u8a62\u200b\u4ec0\u9ebc\u200b\uff0c\u200b\u4e14\u200b\u66f4\u65b0\u200b\u7684\u200b\u901f\u5ea6\u200b\u9084\u6eff\u200b\u5feb\u200b\u7684\u200b\uff0c\u200b\u7db2\u7ad9\u200b\u9ad4\u9a57\u200b\u4e5f\u200b\u4e0d\u505c\u200b\u512a\u5316\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u5176\u4e2d\u200b\u7684\u200b\u6848\u4f8b\u200b\u5b78\u7fd2\u200b\u6211\u200b\u8a8d\u70ba\u200b\u662f\u200b\u6700\u200b\u6709\u7528\u200b\u7684\u200b\u90e8\u5206\u200b\uff0c\u200b\u6574\u7406\u200b\u4e86\u200b\u5404\u5927\u200b\u516c\u53f8\u200b\u7684\u200b DevOps \u200b\u6848\u4f8b\u200b\u4e26\u200b\u9644\u4e0a\u200b\u8cc7\u6599\u200b\u4f86\u6e90\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c3\u8003\u200b\u4ed6\u5011\u200b\u7684\u200b\u8a2d\u8a08\u200b\u7406\u5ff5\u200b\u8207\u200b\u5de5\u5177\u200b\u9078\u64c7\u200b\uff0c\u200b\u5982\u679c\u200b\u5df2\u7d93\u200b\u6709\u73fe\u200b\u6709\u200b\u7684\u200b DevOps Pipeline \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u770b\u770b\u200b\u6709\u200b\u6c92\u200b\u6709\u200b\u7f3a\u6f0f\u200b\u9700\u8981\u200b\u88dc\u5145\u200b\u7684\u200b\u6216\u200b\u53ef\u4ee5\u200b\u9078\u64c7\u200b\u7684\u200b\u5de5\u5177\u200b\u3002</p> <p>\u200b\u6aa2\u200b\u67e5\u6e05\u200b\u55ae\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u65b0\u9805\u200b\u76ee\u6aa2\u200b\u67e5\u6e05\u200b\u55ae\u200b\u3001\u200b\u654f\u6377\u200b\u5be6\u8e10\u6aa2\u200b\u67e5\u6e05\u200b\u55ae\u200b\u3001DevOps \u200b\u6aa2\u200b\u67e5\u6e05\u200b\u55ae\u7b49\u200b\uff0c\u200b\u6211\u89ba\u200b\u5f97\u200b\u6574\u9ad4\u200b\u662f\u200b\u6bd4\u200b\u8f03\u200b\u504f\u5411\u200b\u7ba1\u7406\u200b\u8207\u200b\u9700\u6c42\u200b\u4e0a\u200b\u7684\u200b\u6e05\u55ae\u200b\uff0c\u200b\u4f46\u200b\u9084\u662f\u200b\u6709\u200b\u4e00\u4e9b\u200b\u504f\u6280\u8853\u9762\u200b\u7684\u200b\u6aa2\u67e5\u200b\u9805\u76ee\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9084\u662f\u200b\u503c\u5f97\u4e00\u770b\u200b\u3002</p> <p>\u200b\u76f8\u95dc\u200b\u8cc7\u6e90\u200b\u4e2d\u200b\u6709\u200b\u7f85\u200b\u5217\u51fa\u200b\u4e00\u4efd\u200b\u8b80\u66f8\u96f7\u9054\u200b\uff0c\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u66f4\u7cfb\u200b\u7d71\u5316\u200b\u7684\u200b\u77e5\u8b58\u200b\u53ef\u4ee5\u200b\u5f9e\u200b\u9019\u908a\u200b\u7684\u200b\u66f8\u7c4d\u200b\u4e0b\u624b\u200b\u3002</p>","tags":["DevOps"]},{"location":"blog/2020/04/20/single-number/","title":"Single Number","text":"<p>136. Single Number</p> <pre><code>class Solution:\n    def singleNumber(self, nums: List[int]) -&gt; int:\n        collect_set = set()\n        for n in nums:\n            if n in collect_set:\n                collect_set.remove(n)\n            else:\n                collect_set.add(n)\n        return collect_set.pop()\n</code></pre> <p>\u200b\u6642\u9593\u200b\u8907\u200b\u96dc\u5ea6\u200b\u70ba\u200b <code>O(n^2)</code>\uff0cfor loop \u200b\u8207\u200b in \u200b\u90fd\u200b\u6703\u200b\u57f7\u884c\u200b <code>O(n)</code> \u200b\u6b21\u200b\u3002</p> <p>\u200b\u7a7a\u9593\u200b\u8907\u200b\u96dc\u5ea6\u200b\u70ba\u200b <code>O(n)</code>\uff0ccollect_set \u200b\u9577\u200b\u53ef\u80fd\u200b\u70ba\u200b <code>O(n)</code>\u3002</p>","tags":[]},{"location":"blog/2020/04/22/%E9%98%B2%E6%AD%A2-container-%E5%95%9F%E5%8B%95%E5%BE%8C%E9%80%80%E5%87%BA/","title":"\u9632\u6b62\u200b Container \u200b\u555f\u52d5\u200b\u5f8c\u200b\u9000\u51fa","text":"<p>\u200b\u5728\u5efa\u200b\u7f6e\u200b\u5b8c\u200b Image \u200b\u5f8c\u200b\u6642\u5e38\u6703\u200b\u767c\u73fe\u200b Image \u200b\u4e0d\u5982\u200b\u9810\u200b\u671f\u4e2d\u200b\u904b\u4f5c\u200b\uff0c\u200b\u5982\u200b\u9810\u8a2d\u200b\u7684\u200b CMD \u200b\u83ab\u540d\u200b\u5730\u200b Crash \u200b\u7b49\u200b\uff0c\u200b\u9019\u6642\u5019\u200b\u5c31\u200b\u6703\u200b\u9700\u8981\u200b\u9032\u5165\u200b container \u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>tail -f /dev/null</code> \u200b\u4f5c\u70ba\u200b CMD \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8b93\u200b container \u200b\u4e00\u76f4\u200b\u8655\u200b\u65bc\u200b running \u200b\u7684\u200b\u72c0\u614b\u200b\uff0c\u200b\u96a8\u6642\u200b\u53ef\u4ee5\u200b\u9032\u5165\u200b\u6aa2\u6e2c\u200b\u3002\u200b\u53e6\u200b\u4e00\u500b\u200b\u5e38\u7528\u200b\u7684\u200b\u60c5\u5883\u200b\u662f\u200b\u900f\u904e\u200b\u9019\u500b\u200b\u65b9\u5f0f\u200b\u8d77\u4e00\u500b\u200b\u6c38\u4e45\u200b running \u200b\u7684\u200b container\uff0c\u200b\u9019\u6a23\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f5c\u70ba\u200b\u865b\u64ec\u200b\u74b0\u5883\u200b\u4f7f\u7528\u200b\u3002</p> <pre><code>docker run -d python tail -f /dev/null\n</code></pre> <p>\u200b\u5728\u200b Docker \u200b\u7684\u200b\u6a5f\u5236\u200b\u4e2d\u200b container \u200b\u7684\u200b\u904b\u4f5c\u200b\u72c0\u614b\u200b\u662f\u200b\u8ddf\u200b\u96a8\u5176\u200b CMD \u200b\u6216\u200b ENTRYPOINT \u200b\u6240\u200b\u57f7\u884c\u200b\u7684\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u7576\u200b\u7a0b\u5e8f\u200b\u610f\u5916\u200b\u505c\u6b62\u200b\u6216\u200b\u57f7\u884c\u200b\u5b8c\u6210\u200b\u6642\u200b\u5c31\u200b\u6703\u200b\u8b8a\u70ba\u200b Exited\uff0c\u200b\u56e0\u6b64\u200b\u8981\u200b\u8b93\u200b container \u200b\u8655\u200b\u65bc\u200b\u6c38\u4e45\u200b running \u200b\u7684\u200b\u72c0\u614b\u200b\u5c31\u200b\u9700\u8981\u200b\u57f7\u884c\u200b\u4e00\u500b\u200b\u6703\u200b\u4e0d\u505c\u200b\u57f7\u884c\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u3002</p> <p><code>tail -f</code> \u200b\u6703\u200b\u8ddf\u200b\u8e64\u200b\u4e26\u200b\u5370\u200b\u51fa\u200b\u6307\u5b9a\u200b\u6a94\u6848\u200b\u7684\u200b\u6700\u672b\u7aef\u200b\uff0c\u200b\u800c\u200b <code>/dev/null</code>  \u200b\u70ba\u200b Linux \u200b\u4e2d\u4e00\u500b\u200b\u7279\u6b8a\u200b\u7684\u200b\u6a94\u6848\u200b\uff0c\u200b\u6a94\u6848\u200b\u5167\u5bb9\u6c38\u9060\u200b\u53ea\u6709\u200b EOF\uff0c\u200b\u56e0\u6b64\u200b\u5408\u200b\u4f75\u200b\u5f8c\u200b\u7684\u200b\u6548\u679c\u200b\u5c31\u662f\u200b\u8ddf\u200b\u8e64\u200b\u4e00\u200b\u500b\u200b\u6c38\u200b\u9060\u200b\u70ba\u200b\u7a7a\u200b\u7684\u200b\u6a94\u200b\u6848\u200b\uff0c\u200b\u6210\u70ba\u200b\u4e00\u500b\u200b\u6c38\u4e45\u200b\u57f7\u884c\u200b\u4f46\u200b\u6d88\u8017\u200b\u6975\u5c11\u200b\u8cc7\u6e90\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u5229\u7528\u200b tail -f /dev/null \u200b\u547d\u4ee4\u200b\u9632\u6b62\u200b container \u200b\u542f\u52a8\u200b\u540e\u200b\u9000\u51fa\u200b</li> <li>Linux \u200b\u5b78\u7fd2\u200b\u2014\u2014/dev/null \u200b\u7684\u200b\u7c21\u4ecb\u53ca\u200b\u4f5c\u7528\u200b</li> <li>Linux tail command</li> </ol>","tags":["Docker"]},{"location":"blog/2020/04/23/principles-of-container-based-application-design/","title":"Principles of container-based application design","text":"<p>Principles of container-based application design</p> <p>\u200b\u9019\u7bc7\u200b\u662f\u200b\u7531\u200b Red Hat \u200b\u91dd\u5c0d\u200b container-based application \u200b\u63d0\u51fa\u200b\u7684\u200b\u767d\u76ae\u200b\u66f8\u200b\uff0c\u200b\u7c21\u8ff0\u200b\u4e86\u200b\u5e7e\u500b\u200b\u5efa\u8b70\u200b\u9075\u5b88\u200b\u7684\u200b\u539f\u5247\u200b\u3002\u200b\u5f9e\u200b\u4e0b\u8f09\u200b\u7684\u200b\u6a94\u6848\u200b\u540d\u7a31\u200b\u53ef\u4ee5\u200b\u767c\u73fe\u200b\u61c9\u8a72\u200b\u662f\u200b\u65bc\u200b 2017 \u200b\u5e74\u200b 10 \u200b\u6708\u200b\u6240\u200b\u767c\u8868\u200b\u7684\u200b\u7b2c\u4e09\u7248\u200b\uff0c\u200b\u4f46\u200b\u56e0\u70ba\u200b\u90fd\u200b\u662f\u200b\u5f88\u200b\u57fa\u790e\u200b\u7684\u200b\u539f\u5247\u200b\uff0c\u200b\u5230\u200b\u76ee\u524d\u200b\u70ba\u6b62\u200b\u9084\u6c92\u6709\u200b\u904e\u6642\u200b\u7684\u200b\u554f\u984c\u200b\u3002</p> <p>PRINCIPLES OF SOFTWARE DESIGN</p> <ul> <li>KISS \u200a\u2014 \u200a\u200aKeep it simple, stupid.</li> <li>DRY \u2014 Don\u2019t repeat yourself.</li> <li>YAGNI \u2014 You aren\u2019t gonna need it.</li> <li>SoC \u2014 Separation of concerns.</li> </ul> <p>Red Hat \u200b\u5728\u200b cloud-native \u200b\u7684\u200b\u60c5\u5883\u200b\u4e0b\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5e7e\u9ede\u200b\u539f\u5247\u200b\uff1a</p> <ul> <li>Single concern principle (SCP)\uff1a\u200b\u5982\u540c\u200b SOLID \u200b\u7684\u200b single responsibility principle (SRP)\uff0ccontainer \u200b\u61c9\u8a72\u200b\u53ea\u200b\u8ca0\u8cac\u200b\u57f7\u884c\u200b\u4e00\u500b\u200b process\b\u3002</li> <li>High observability principle (HOP)\uff1acontainer \u200b\u8981\u200b\u53ef\u4ee5\u200b\u5f88\u200b\u597d\u200b\u5730\u88ab\u200b\u89c0\u6e2c\u200b\uff0c\u200b\u5982\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u670d\u52d9\u200b (readiness)\u3001\u200b\u662f\u5426\u200b\u904b\u4f5c\u200b\u6b63\u5e38\u200b (liveness)\uff0clog \u200b\u61c9\u8a72\u200b\u8981\u200b\u4ee5\u200b standard error (STDERR) \u200b\u53ca\u200b standard output (STDOUT) \u200b\u8f38\u51fa\u200b\u3002</li> <li>Life-cycle conformance principle (LCP)\uff1a\u200b\u91dd\u5c0d\u200b container \u200b\u5728\u200b\u751f\u547d\u200b\u9031\u200b\u671f\u4e2d\u200b\u4e0d\u540c\u200b\u968e\u6bb5\u200b\u6240\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b Signal\uff0c\u200b\u57f7\u884c\u200b\u6307\u5b9a\u200b\u7684\u200b\u64cd\u4f5c\u200b\u3002\u200b\u5982\u200b container \u200b\u95dc\u9589\u200b\u524d\u91cb\u200b\u653e\u8cc7\u6e90\u200b\u6216\u200b\u628a\u200b\u7576\u4e0b\u200b\u672a\u200b\u5b8c\u6210\u200b\u7684\u200b\u4efb\u52d9\u200b\u5b8c\u6210\u200b\u7b49\u200b\uff0c\u200b\u85c9\u6b64\u200b\u9054\u5230\u200b graceful shutdown\u3002</li> <li>Image immutability principle (IIP)\uff1a\u200b\u5728\u200b\u4e0d\u540c\u200b\u74b0\u5883\u200b\u4e0b\u200b\u6240\u200b\u4f7f\u7528\u200b\u7684\u200b Image \u200b\u90fd\u200b\u70ba\u200b\u540c\u200b\u4e00\u4efd\u200b\uff0c\u200b\u8207\u200b\u74b0\u5883\u200b\u76f8\u95dc\u200b\u7684\u200b\u53c3\u6578\u200b\u8207\u200b\u8a2d\u5b9a\u200b\u6a94\u200b\u90fd\u200b\u61c9\u8a72\u200b\u900f\u904e\u200b Kubernetes ConfigMap \u200b\u9032\u884c\u200b\u8a2d\u5b9a\u200b\u3002</li> <li>Process disposability principle (PDP)\uff1acontainer \u200b\u61c9\u8a72\u200b\u8981\u200b\u70ba\u200b stateless \u200b\u6216\u662f\u200b\u5c07\u72c0\u614b\u200b\u4fdd\u5b58\u200b\u65bc\u200b\u5916\u90e8\u200b\uff0c\u200b\u9019\u6a23\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u96a8\u6642\u200b\u88ab\u200b\u92b7\u6bc0\u200b\u6216\u200b\u751f\u6210\u200b\uff0c\u200b\u85c9\u6b64\u200b\u9054\u5230\u200b auto-scaling \u200b\u7b49\u200b\u9700\u8981\u200b\u81ea\u52d5\u200b\u589e\u522a\u200b container \u200b\u7684\u200b\u529f\u80fd\u200b\u3002</li> <li>Self-containment principle (S-CP)\uff1acontainer \u200b\u53ea\u200b\u653e\u7f6e\u200b\u57f7\u884c\u200b\u6642\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b\u6771\u897f\u200b\uff0c\u200b\u5982\u200b language runtime\u3001dependencies \u200b\u7b49\u200b\uff0c\u200b\u6703\u200b\u96a8\u200b\u90e8\u7f72\u200b\u74b0\u5883\u200b\u8b8a\u52d5\u200b\u7684\u200b config \u200b\u900f\u904e\u200b Kubernetes ConfigMap \u200b\u5728\u200b\u57f7\u884c\u200b\u6642\u8f09\u5165\u200b\u3002</li> <li>Runtime confinement principle (RCP)\uff1acontainer \u200b\u6240\u200b\u9700\u200b\u4f7f\u7528\u200b\u7684\u200b\u786c\u9ad4\u200b\u8cc7\u6e90\u200b\u61c9\u200b\u6e05\u695a\u200b\u8aaa\u660e\u200b\uff0c\u200b\u5982\u200b CPU\u3001memory\u3001\u200b\u7db2\u8def\u200b\u3001\u200b\u786c\u789f\u200b\u7528\u91cf\u200b\u7b49\u200b\uff0c\u200b\u8b93\u200b\u5e73\u53f0\u200b\u80fd\u200b\u6709\u200b\u66f4\u597d\u200b\u7684\u200b\u8abf\u5ea6\u200b\u3002</li> </ul> <p>\u200b\u6587\u672b\u200b\u4e5f\u200b\u5217\u51fa\u200b\u4e86\u200b\u5e7e\u500b\u200b\u5e38\u898b\u200b\u7684\u200b best practice\uff0c\u200b\u5982\u76e1\u200b\u53ef\u80fd\u200b\u7e2e\u5c0f\u200b Image\u3001\u200b\u907f\u514d\u200b\u4f7f\u7528\u200b sudo \u200b\u6216\u200b\u7279\u5b9a\u200b userid \u200b\u57f7\u884c\u200b container \u200b\u7b49\u200b\uff0c\u200b\u90fd\u200b\u5f88\u200b\u503c\u5f97\u200b\u53c3\u8003\u200b\u5be6\u8e10\u200b\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u4f18\u96c5\u200b\u5730\u200b\u5173\u95ed\u200bkubernetes\u200b\u4e2d\u200b\u7684\u200bnginx</li> </ol>","tags":["K8s","Cloud Native"]},{"location":"blog/2020/04/24/json-end-with-newline/","title":"JSON end with newline","text":"<p>\u200b\u89e3\u6790\u200b JSON \u200b\u524d\u200b\u53ef\u4ee5\u200b\u9810\u5148\u200b\u900f\u904e\u200b\u7c21\u55ae\u200b\u7684\u200b\u6587\u5b57\u200b\u5224\u65b7\u200b\u662f\u5426\u662f\u200b\u5408\u6cd5\u200b\u7684\u200b JSON \u200b\u4f86\u200b\u7bc0\u7701\u200b\u8cc7\u6e90\u200b\u958b\u92b7\u200b\uff0c\u200b\u5982\u200b mayBeJSON \u200b\u6703\u4ee5\u200b\u7d50\u5c3e\u200b\u662f\u5426\u200b\u70ba\u200b <code>]</code> \u200b\u6216\u200b <code>}</code> \u200b\u5224\u65b7\u200b\u662f\u5426\u200b\u70ba\u200b JSON\uff0c\u200b\u56e0\u6b64\u200b\u6709\u63db\u884c\u200b\u7b26\u865f\u200b\u7684\u200b JSON \u200b\u5b57\u4e32\u200b\u6703\u200b\u88ab\u200b\u7576\u4f5c\u200b\u975e\u6cd5\u200b\u7684\u200b\u5b57\u4e32\u200b\uff0c\u200b\u5c0e\u81f4\u200b\u89e3\u6790\u200b\u5931\u6557\u200b\u3002\u200b\u4f46\u200b Python \u200b\u7684\u200b Flask Framework \u200b\u56de\u50b3\u200b JSON \u200b\u6642\u5019\u200b\u6703\u984d\u200b\u5916\u56de\u200b\u50b3\u63db\u884c\u200b\u7b26\u865f\u200b\uff0c\u200b\u672c\u7bc7\u200b\u91dd\u5c0d\u200b\u70ba\u200b\u4f55\u8981\u200b\u589e\u52a0\u200b\u63db\u884c\u200b\u9032\u884c\u200b\u7c21\u55ae\u200b\u4ecb\u7d39\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u63d0\u4f9b\u200b\u91dd\u5c0d\u200b\u9019\u7a2e\u200b\u7279\u5b9a\u200b\u5224\u65b7\u200b\u7684\u200b\u89e3\u6cd5\u200b\u3002</p>","tags":["Python","API"]},{"location":"blog/2020/04/24/json-end-with-newline/#json-newline","title":"JSON \u200b\u6700\u5f8c\u70ba\u200b\u4f55\u8981\u200b\u52a0\u5165\u200b newline","text":"<p>\u200b\u4e00\u822c\u200b\u5e38\u7528\u200b\u7684\u200b <code>json.dumps</code> \u200b\u662f\u200b\u4e0d\u6703\u200b\u6709\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\u7684\u200b\uff0c\u200b\u7562\u7adf\u200b\u53ea\u662f\u200b\u4e00\u500b\u200b\u666e\u901a\u200b\u5b57\u4e32\u200b\u3002\u200b\u6240\u4ee5\u200b\u5148\u4f86\u200b\u770b\u770b\u200b\u662f\u200b\u5728\u200b\u4ec0\u9ebc\u200b\u6642\u5019\u200b response \u200b\u7684\u200b JSON \u200b\u88ab\u200b\u52a0\u4e0a\u200b\u4e86\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\b\u3002Flask \u200b\u7684\u200b flask.json.jsonify \u200b\u662f\u200b\u5728\u200b response \u200b\u6700\u200b\u5f8c\u200b\u52a0\u5165\u200b\u63db\u884c\u200b</p> <pre><code>...\nreturn current_app.response_class(\n    dumps(data, indent=indent, separators=separators) + \"\\n\",\n    mimetype=current_app.config[\"JSONIFY_MIMETYPE\"],\n)\n...\n</code></pre> <p>\u200b\u800c\u200b Flask RestPlus \u200b\u4e5f\u200b\u540c\u6a23\u200b\u662f\u200b\u5728\u200b\u5305\u88dd\u200b response \u200b\u7684\u200b\u6642\u5019\u200b\u52a0\u5165\u200b\u63db\u884c\u200b\uff0cflask_restplus.representations.output.json</p> <pre><code>...\n# always end the json dumps with a new line\n# see https://github.com/mitsuhiko/flask/pull/1262\ndumped = dumps(data, **settings) + \"\\n\"\n...\n</code></pre> <p>\u200b\u6839\u64da\u200b source code \u200b\u4e2d\u200b\u63d0\u5230\u200b\u7684\u200b\u8a3b\u200b\u89e3\u200b\uff0c\u200b\u6211\u5011\u200b\u53ef\u4ee5\u200b\u6309\u5740\u200b\u7d22\u9a65\u200b\u767c\u73fe\u200b\u52a0\u5165\u200b\u7684\u200b\u7de3\u200b\u7531\u200b</p> <pre><code># always end the json dumps with a new line\n# see https://github.com/mitsuhiko/flask/pull/1262\n</code></pre> <p>\u200b\u5728\u200b Flask 1.0 \u200b\u524d\u200b jsonify \u200b\u6700\u5f8c\u662f\u200b\u4e0d\u6703\u200b\u52a0\u4e0a\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\u7684\u200b\uff0c\u200b\u7d93\u904e\u200b\u4e86\u200b Add JSONIFY_END_WITH_NEWLINE config variable #1262 \u200b\u9019\u6b21\u200b PR \u200b\u5f8c\u200b\u624d\u200b\u52a0\u4e0a\u200b\u4e86\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\uff0c\u200b\u589e\u52a0\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\u7684\u200b\u539f\u56e0\u200b\u662f\u200b\u53c3\u8003\u200b postmanlabs/httpbin#168 \u200b\u4ee5\u53ca\u200b Why should text files end with a newline?\u3002\u200b\u4e3b\u8981\u200b\u7684\u200b\u8ad6\u9ede\u200b\u70ba\u200b POSIX \u200b\u898f\u7bc4\u200b\u4e86\u200b\u5728\u200b\u6587\u4ef6\u200b\u4e2d\u7576\u200b\u4e00\u884c\u200b\u6587\u5b57\u200b\u4e0d\u662f\u200b\u4ee5\u200b newline character \u200b\u7d50\u5c3e\u6642\u200b\u4e0d\u6703\u200b\u88ab\u200b\u7576\u4f5c\u200b\u4e00\u884c\u200b\u6587\u5b57\u200b\uff0c\u200b\u800c\u200b\u6240\u6709\u200b UNIX tools \u200b\u90fd\u200b\u6703\u200b\u9810\u671f\u200b\u6587\u4ef6\u200b\u6709\u200b\u9075\u5faa\u200b\u9019\u500b\u200b\u898f\u7bc4\u200b\u3002\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u6c92\u6709\u200b\u9075\u5faa\u200b\u53ef\u80fd\u200b\u6703\u5c0e\u81f4\u200b\u975e\u200b\u9810\u671f\u200b\u7684\u200b\u554f\u984c\u200b\u6216\u200b\u932f\u8aa4\u200b\uff0c\u200b\u5982\u200b stackoverflow \u200b\u4e2d\u200b\u56de\u7b54\u200b\u7684\u200b\u7bc4\u4f8b\u200b\u3002</p> <p>\u200b\u96d6\u7136\u200b JSON \u200b\u5b57\u4e32\u200b\u4e26\u200b\u4e0d\u662f\u200b\u6587\u4ef6\u200b\uff0cPOSIX \u200b\u4e5f\u200b\u6c92\u91dd\u200b\u5c0d\u200b JSON \u200b\u9032\u884c\u200b\u898f\u7bc4\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u4e00\u4e9b\u200b\u64cd\u4f5c\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u6703\u200b\u900f\u904e\u200b UNIX tools \u200b\u8655\u7406\u200b\u56de\u50b3\u200b\u7684\u200b response\uff0c\u200b\u82e5\u200b\u662f\u200b\u6c92\u200b\u6709\u200b\u52a0\u4e0a\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\u5c31\u200b\u6703\u5c0e\u81f4\u200b\u5176\u4ed6\u200b\u554f\u984c\u200b\u3002\u200b\u800c\u200b\u5728\u200b\u6700\u200b\u5f8c\u200b\u52a0\u4e0a\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\u4e5f\u200b\u4e26\u4e0d\u9055\u200b\u53cd\u200b JSON \u200b\u672c\u8eab\u200b\u7684\u200b\u898f\u7bc4\u200b\uff0c\u200b\u56e0\u6b64\u200b\u82e5\u80fd\u200b\u52a0\u4e0a\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\u5c0d\u200b\u65bc\u200b\u4f7f\u7528\u200b UNIX Tools \u200b\u64cd\u4f5c\u200b response \u200b\u7684\u200b\u4f7f\u7528\u8005\u200b\u6703\u200b\u6bd4\u200b\u8f03\u200b\u53cb\u5584\u200b\u3002</p>","tags":["Python","API"]},{"location":"blog/2020/04/24/json-end-with-newline/#_1","title":"\u89e3\u6c7a\u200b\u65b9\u6848","text":"<p>\u200b\u5927\u591a\u200b\u6578\u7684\u200b\u60c5\u6cc1\u200b\u4e0b\u200b\u6211\u5011\u200b\u53ef\u80fd\u200b\u7121\u6cd5\u200b\u8981\u6c42\u200b API \u200b\u4f7f\u7528\u8005\u200b\u66f4\u63db\u200b\u4ed6\u5011\u200b\u539f\u672c\u200b\u7684\u200b JSON \u200b\u89e3\u6790\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u6240\u4ee5\u200b\b\u200b\u6211\u5011\u200b\u53ea\u80fd\u200b\u8a66\u8457\u200b\u5f9e\u200b Python \u200b\u7aef\u89e3\u6c7a\u200b\uff0c\u200b\u4ee5\u4e0b\u200b\u63d0\u4f9b\u200b Flask \u200b\u8207\u200b Flask-restplus \u200b\u7684\u200b\u89e3\u6cd5\u200b\u3002</p>","tags":["Python","API"]},{"location":"blog/2020/04/24/json-end-with-newline/#flask","title":"Flask \u200b\u89e3\u6c7a\u200b\u65b9\u6848","text":"<p>\u200b\u5ba2\u200b\u88fd\u200b\u4e00\u200b\u500b\u200b\u6c92\u200b\u6709\u200b\u52a0\u4e0a\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\u7684\u200b jsonify\uff0c\u200b\u4e4b\u6240\u4ee5\u200b\u4e0d\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b json.dumps \u200b\u662f\u200b\u56e0\u70ba\u200b response header \u200b\u7684\u200b Content-Type \u200b\u5c31\u200b\u53ea\u6703\u200b\u662f\u200b text/html \u200b\u800c\u200b\u4e0d\u662f\u200b application/json\uff0c\u200b\u5728\u200b\u56de\u50b3\u6642\u200b\u61c9\u8a72\u200b\u8981\u200b\u5229\u7528\u200b header \u200b\u6e05\u695a\u200b\u8868\u9054\u200b\u56de\u50b3\u200b\u7684\u200b\u5167\u5bb9\u200b\u3002</p>","tags":["Python","API"]},{"location":"blog/2020/04/24/json-end-with-newline/#flask-restplus","title":"Flask restplus \u200b\u89e3\u6c7a\u200b\u65b9\u6848","text":"<p>Flask-restplus \u200b\u662f\u200b\u900f\u904e\u200b api.make_response \u200b\u5305\u88dd\u200b response\uff0c flask_restplus.Api \u200b\u5728\u200b\u5efa\u7acb\u200b\u6642\u6703\u200b\u9810\u8a2d\u200b\u4e00\u7d44\u200b JSON \u200b\u7684\u200b representations\uff1a</p> <pre><code># flask_restplus/api.py\n...\nDEFAULT_REPRESENTATIONS = [('application/json', output_json)]\n...\nclass Api(object):\n    def __init__(self):\n        ...\n        self.representations = OrderedDict(DEFAULT_REPRESENTATIONS)\n        ...\n</code></pre> <p>\u200b\u56e0\u6b64\u200b\u89e3\u6cd5\u200b\u5c31\u662f\u200b\u628a\u200b DEFAULT_REPRESENTATIONS \u200b\u4e2d\u200b\u7684\u200b output_json \u200b\u63db\u6210\u200b\u6c92\u6709\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\u7684\u200b\u7248\u672c\u200b\u5373\u53ef\u200b\uff0c \u200b\u4f46\u200b self.representations \u200b\u6c92\u6709\u200b\u8fa6\u6cd5\u200b\u5728\u200b\u5efa\u7acb\u200b Api \u200b\u6642\u200b\u76f4\u63a5\u200b\u53d6\u4ee3\u200b\u6389\u200b\uff0c\u200b\u4e0d\u904e\u200b Flask-restplus \u200b\u63d0\u4f9b\u200b\u4e86\u200b representation \u200b\u9019\u500b\u200b decorator\uff0c\u200b\u539f\u610f\u200b\u662f\u200b\u8b93\u200b response \u200b\u80fd\u5920\u200b\u4f9d\u64da\u200b request \u200b\u56de\u50b3\u200b\u4e0d\u540c\u200b\u683c\u5f0f\u200b\uff0c\u200b\u5982\u200b xml \u200b\u6216\u200b csv \u200b\u7b49\u200b\uff0c\u200b\u4f46\u200b\u5176\u5be6\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u900f\u904e\u200b\u9019\u500b\u200b\u65b9\u5f0f\u200b\u76f4\u63a5\u200b\u8986\u5beb\u200b application/json \u200b\u9019\u7d44\u200b mediatype\uff0c\u200b\u9054\u5230\u200b\u66f4\u6539\u200b\u8f38\u51fa\u200b\u683c\u5f0f\u200b\u7684\u200b\u76ee\u7684\u200b\u3002</p> <pre><code>@api.representation(\"application/json\")\ndef output_json(data, code, headers=None):\n    \"\"\"Makes a Flask response with a JSON encoded body\"\"\"\n\n    settings = app.config.get(\"RESTPLUS_JSON\", {})\n    if app.debug:\n        settings.setdefault(\"indent\", 4)\n    # dumps without newline\n    dumped = dumps(data, **settings)\n\n    resp = make_response(dumped, code)\n    resp.headers.extend(headers or {})\n    return resp\n</code></pre>","tags":["Python","API"]},{"location":"blog/2020/04/27/balance-a-binary-search-tree/","title":"Balance a Binary Search Tree","text":"<p>1382. Balance a Binary Search Tree</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\n\nclass Solution:\n    def balanceBST(self, root: TreeNode) -&gt; TreeNode:\n        vals = get_node_vals(root)\n        return build_tree(vals)\n\n\ndef get_node_vals(root: TreeNode) -&gt; list:\n    if root is None:\n        return []\n    else:\n        # \u200b\u539f\u672c\u200b\u7684\u200b\u6a39\u70ba\u200b binary search tree\uff0c\u200b\u6240\u4ee5\u200b\u5de6\u908a\u200b\u5c0f\u53f3\u908a\u200b\u5927\u200b\uff0c\u200b\u7167\u9806\u5e8f\u200b\u5373\u200b\u70ba\u200b\u5c0f\u200b\u3001\u200b\u4e2d\u200b\u3001\u200b\u5927\u200b\n        return get_node_vals(root.left) + [root.val] + get_node_vals(root.right)\n\n\ndef build_tree(val_list):\n    list_len = len(val_list)\n    if list_len == 0:\n        return None\n    else:\n        root = TreeNode(val_list[list_len // 2])\n        # \u200b\u6700\u200b\u5de6\u908a\u200b\u5230\u200b\u4e2d\u9593\u200b\u7684\u200b list\n        root.left = build_tree(val_list[: list_len // 2])\n        # \u200b\u4e2d\u9593\u200b\u5230\u200b\u6700\u53f3\u908a\u200b\u7684\u200b list\n        root.right = build_tree(val_list[list_len // 2 + 1 :])\n        return root\n</code></pre> <p>\u200b\u5206\u5169\u6b65\u200b\u9a5f\u89e3\u200b\uff0c\u200b\u5148\u628a\u503c\u200b\u53d6\u51fa\u200b\u4f86\u200b\uff0c\u200b\u518d\u200b\u91cd\u5efa\u200b\u65b0\u200b\u7684\u200b\u6a39\u200b</p> <ol> <li>\u200b\u905e\u200b\u8ff4\u200b\u53d6\u503c\u200b    \u200b\u56e0\u70ba\u5f8c\u9762\u200b\u5efa\u6a39\u200b\u7684\u200b\u6642\u5019\u200b\u6703\u200b\u9700\u8981\u200b\u5df2\u7d93\u200b\u6392\u5e8f\u200b\u597d\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u900f\u904e\u200b\u905e\u200b\u8ff4\u200b\u5efa\u200b list \u200b\u7684\u200b\u6642\u5019\u200b\u8981\u200b\u4f9d\u7167\u200b\u5927\u5c0f\u200b\u9806\u5e8f\u200b    \u200b\u6642\u9593\u200b\u8907\u200b\u96dc\u5ea6\u200b\u70ba\u200b <code>O(n)</code>\uff0c\u200b\u8981\u200b\u904d\u6b77\u200b n \u200b\u500b\u200b node    \u200b\u7a7a\u9593\u200b\u8907\u200b\u96dc\u5ea6\u200b\u70ba\u200b <code>O(n)</code>\uff0c\u200b\u8981\u200b\u5132\u5b58\u9577\u200b\u5ea6\u200b\u70ba\u200b n \u200b\u7684\u200b list  </li> <li>\u200b\u905e\u200b\u8ff4\u200b\u5efa\u6a39\u200b    \u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u5e73\u8861\u200b\u7684\u200b\u6a39\u200b\u7684\u200b\u8a71\u200b\uff0c\u200b\u6703\u200b\u9700\u8981\u200b\u53d6\u200b list \u200b\u4e2d\u9593\u200b\u7684\u200b\u503c\u200b\u7576\u4f5c\u200b node\uff0c\u200b\u9019\u6a23\u200b\u5de6\u908a\u200b\u8ddf\u200b\u53f3\u908a\u200b\u7684\u200b\u6578\u91cf\u200b\u5c31\u200b\u6703\u200b\u76f8\u7b49\u200b\u6216\u200b\u53ea\u200b\u5dee\u200b\u4e00\u200b\uff0c\u200b\u905e\u200b\u8ff4\u200b\u9019\u6a23\u200b\u7684\u200b\u64cd\u4f5c\u200b\u5373\u53ef\u200b    \u200b\u6642\u9593\u200b\u8907\u200b\u96dc\u5ea6\u200b\u70ba\u200b <code>O(n)</code>\uff0c<code>2\\*T(n/2) + O(1)</code>\uff0c<code>n/2</code> \u200b\u70ba\u200b\u5c0d\u200b\u534a\u5206\u200b\uff0c<code>2\\*T(n/2)</code> \u200b\u70ba\u200b\u5de6\u53f3\u200b\u5404\u200b\u505a\u200b\u4e00\u904d\u200b\uff0c<code>O(1)</code> \u200b\u70ba\u5efa\u200b node \u200b\u7684\u200b\u64cd\u4f5c\u200b    \u200b\u7a7a\u9593\u200b\u8907\u200b\u96dc\u5ea6\u200b\u70ba\u200b <code>O(n))</code>\uff0cn \u200b\u500b\u200b\u7bc0\u9ede\u200b  </li> </ol> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 1382. Balance a Binary Search Tree - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP315</li> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 108 Convert Sorted Array to Binary Search Tree - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP306</li> </ol>","tags":["Tree"]},{"location":"blog/2020/04/28/openapi--an-ebay-perspective/","title":"OpenAPI \u2013 An eBay Perspective","text":"<p>OpenAPI \u2013 An eBay Perspective</p> <p>\u200b\u5728\u200b\u672c\u6587\u200b\u4e2d\u200b eBay \u200b\u8aaa\u660e\u200b\u4e86\u200b\u70ba\u200b\u4f55\u9078\u7528\u200b OpenAPI \u200b\u4f5c\u70ba\u200b\u4ed6\u5011\u200b\u7684\u200b API contract\uff0c\u200b\u4ee5\u53ca\u200b\u5982\u4f55\u200b\u5c07\u5f9e\u200b\u820a\u200b\u7684\u200b API contract \u200b\u9077\u200b\u79fb\u81f3\u200b OpenAPI\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u70ba\u200b\u9078\u7528\u200b\u7684\u200b\u539f\u56e0\u200b\u8207\u200b\u5e36\u200b\u4f86\u200b\u7684\u200b\u5f71\u97ff\u200b\uff1a</p> <p>\u200b\u9078\u64c7\u200b OpenAPI \u200b\u7684\u200b\u539f\u56e0\u200b\uff1a</p> <ol> <li>Structural integrity and richness\uff1a\u200b\u5177\u6709\u200b\u5b8c\u5584\u200b\u7684\u200b\u7d50\u69cb\u200b\u898f\u7bc4\u200b\u4ee5\u53ca\u200b\b\b\u200b\u5f37\u5927\u200b\u7684\u200b\u53ef\u200b\u64f4\u200b\u5145\u6027\u200b\uff1b\u200b\u5171\u7528\u200b\u7684\u200b\u8cc7\u6599\u200b\u7d50\u69cb\u200b\u80fd\u200b\u4ee5\u200b\u53c3\u7167\u200b\u5916\u90e8\u200b\u6a94\u6848\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5f15\u7528\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u8de8\u200b API \u200b\u5171\u7528\u200b\u8cc7\u6599\u200b\u7684\u200b\u53ef\u7ba1\u7406\u6027\u200b</li> <li>Futuristic and evolving\uff1aOpenAPI \u200b\u4ecd\u4e0d\u65b7\u200b\u5730\u200b\u5728\u200b\u767c\u5c55\u200b\u8207\u200b\u589e\u52a0\u200b\u529f\u80fd\u200b</li> <li>Tooling Support\uff1a\u200b\u5927\u91cf\u200b\u7684\u200b open source project \u200b\u8b93\u200b OpenAPI \u200b\u7684\u200b\u6613\u7528\u6027\u200b\u5927\u589e\u200b\uff0c\u200b\u5982\u200b Swagger UI \u200b\u63d0\u4f9b\u200b\u53ef\u4e92\u52d5\u200b\u64cd\u4f5c\u200b\u7684\u200b\u7db2\u9801\u200b\uff0cSwagger Codegen \u200b\u80fd\u5920\u200b\u751f\u6210\u200b 40 \u200b\u7a2e\u8a9e\u200b\u8a00\u200b\u7684\u200b servers side\u3001client side \u200b\u7a0b\u5f0f\u200b\u78bc\u200b</li> <li>\u200b\u900f\u904e\u200b OpenAPI \u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u7121\u8ad6\u200b\u662f\u200b code first \u200b\u6216\u662f\u200b contract first\uff0c\u200b\u90fd\u200b\u80fd\u5920\u200b\u5f97\u5230\u200b\u826f\u597d\u200b\u7684\u200b API \u200b\u8a2d\u8a08\u200b\u8207\u200b\u958b\u767c\u200b\u9ad4\u9a57\u200b</li> <li>Open Source\uff0c\u200b\u5b8c\u5168\u200b\u53ef\u63a7\u200b\uff0c\u200b\u80fd\u91dd\u200b\u5c0d\u200b\u7279\u6b8a\u200b\u9700\u6c42\u200b\u5ba2\u5236\u200b</li> </ol> <p>OpenAPI \u200b\u5c0d\u7cfb\u7d71\u200b\u8207\u200b\u7d44\u7e54\u200b\u5e36\u4f86\u200b\u7684\u200b\u5f71\u97ff\u200b\uff1a</p> <ol> <li>Standards and Compliance\uff1a\u200b\u6210\u70ba\u200b\u5171\u540c\u200b\u7684\u200b\u8cc7\u6599\u200b\u6a19\u6e96\u200b\uff0c\u200b\u56e0\u6b64\u200b\u80fd\u5920\u200b\u5c0e\u5165\u200b\u81ea\u52d5\u5316\u200b\u7684\u200b\u6aa2\u6838\u200b</li> <li>Bootstrapping development across technology stacks\uff1a\u200b\u8207\u200b\u8a9e\u8a00\u7121\u95dc\u200b\u7684\u200b API Spec \u200b\u53ef\u4ee5\u200b\u99ac\u200b\u4e0a\u200b\u878d\u5165\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u6280\u8853\u68e7\u200b\u4e2d\u200b\uff0c\u200b\u6709\u6548\u200b\u63d0\u9ad8\u200b\u4e86\u200b\u958b\u767c\u200b\u54c1\u8cea\u200b\u8207\u200b\u901f\u5ea6\u200b</li> <li>Downstream Service Integration\uff1a\u200b\u900f\u904e\u200b Swagger UI\u3001Swagger Codegen \u200b\u4f7f\u7528\u8005\u200b\u53ef\u4ee5\u200b\u5feb\u901f\u200b\u6e2c\u8a66\u200b API</li> <li>Continuous Delivery\uff1a\u200b\u56e0\u70ba\u200b API Contract \u200b\u8207\u200b\u8a9e\u8a00\u7121\u95dc\u200b\uff0c\u200b\u6240\u4ee5\u200b API \u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u540c\u6a23\u200b\u7684\u200b Pipeline \u200b\u9032\u884c\u200b\u6e2c\u8a66\u200b</li> <li>Application Security\uff1a\u200b\u8f38\u5165\u200b\u8207\u200b\u8f38\u51fa\u200b\u90fd\u200b\u6703\u200b\u660e\u78ba\u200b\u5217\u51fa\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u52a0\u4e0a\u200b\u6383\u200b\u7784\u200b\u6216\u200b\u904e\u6ffe\u200b\u7684\u200b\u6a5f\u5236\u200b\u907f\u514d\u200b\u4e0d\u660e\u200b\u7684\u200b\u53c3\u6578\u200b\u9032\u5230\u200b server \u200b\u7aef\u200b</li> </ol> <p>\u200b\u5728\u200b\u5fae\u670d\u200b\u52d9\u4e2d\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u6a5f\u5668\u200b\u53ef\u8b80\u200b\u7684\u200b API Spec \u200b\u80fd\u200b\u63d0\u9ad8\u200b\u6574\u9ad4\u200b\u7684\u200b\u53ef\u7dad\u8b77\u6027\u200b\uff0c\u200b\u800c\u200b\u8207\u200b\u8a9e\u8a00\u7121\u95dc\u200b\u80fd\u200b\u8b93\u200b\u7fa4\u96c6\u200b\u53ef\u5bb9\u7d0d\u200b\u4e0d\u540c\u200b\u6280\u8853\u200b\u751f\u6210\u200b\u7684\u200b\u670d\u52d9\u200b\uff0c\u200b\u5169\u8005\u200b\u90fd\u200b\u5927\u5e45\u200b\u63d0\u5347\u200b\u4e86\u200b\u5fae\u670d\u200b\u52d9\u200b\u7684\u200b\u53ef\u7ba1\u7406\u6027\u200b\u3002</p>","tags":["API","OpenAPI"]},{"location":"blog/2020/04/29/iframe-access-parent-url-query-string/","title":"iframe access parent URL query string","text":"<p>\u200b\u9700\u6c42\u200b\uff1a\u200b\u4e3b\u9801\u200b\u9762\u4ee5\u200b iframe \u200b\u5305\u88dd\u200b\u529f\u80fd\u200b\uff0c\u200b\u4e3b\u756b\u9762\u200b\u4e0d\u53ef\u200b\u66f4\u52d5\u200b\uff0ciframe \u200b\u8981\u200b\u53ef\u4ee5\u200b\u6839\u64da\u200b\u6307\u5b9a\u200b\u53c3\u6578\u200b\u52d5\u4f5c\u200b</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u4ee5\u5e36\u200b query string \u200b\u7684\u200b URL \u200b\u958b\u555f\u200b\u4e3b\u9801\u200b\u9762\u200b\uff0ciframe \u200b\u53d6\u5f97\u200b\u4e3b\u9801\u200b\u9762\u200b (parent) \u200b\u7684\u200b query string \u200b\u57f7\u884c\u200b\u52d5\u4f5c\u200b</p> <ol> <li> <p>iframe \u200b\u53d6\u5f97\u200b parent URL</p> <p>Access parent URL from iframe</p> <pre><code>var url = (window.location != window.parent.location)\n            ? document.referrer\n            : document.location.href;\n</code></pre> <p>\u200b\u6b64\u200b\u89e3\u6cd5\u200b\u4e3b\u8981\u200b\u662f\u200b\u907f\u200b\u540c\u6e90\u200b\u653f\u7b56\u200b\u7121\u6cd5\u53d6\u200b <code>window.parent.location.href</code>\uff0c\u200b\u4f46\u200b\u5982\u679c\u200b iframe \u200b\u88ab\u200b\u8f49\u5740\u904e\u200b document.referrer \u200b\u7121\u6cd5\u200b\u53d6\u5230\u200b\u5be6\u969b\u200b parent \u200b\u7684\u200b URL\u3002</p> <p>\u200b\u7576\u200b iframe \u200b\u8207\u200b parent \u200b\u90fd\u200b\u662f\u200b\u540c\u6e90\u200b\u7684\u200b\u8a71\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u7528\u200b <code>window.parent.location.href</code>\uff0c\u200b\u591a\u5c64\u200b\u7684\u200b iframe \u200b\u6642\u591a\u53d6\u200b\u5e7e\u6b21\u200b parent <code>window.parent.parent.location.href</code>\u3002</p> </li> <li> <p>\u200b\u89e3\u6790\u200b URL \u200b\u4e2d\u200b\u7684\u200b query string</p> <p>How can I get query string values in JavaScript?</p> <p>\u200b\u4f7f\u7528\u200b URLSearchParams\uff0c\u200b\u4f46\u200b IE \u200b\u8207\u200b\u8f03\u200b\u820a\u200b\u7248\u672c\u200b\u7684\u200b\u700f\u89bd\u5668\u200b\u4e0d\u200b\u652f\u63f4\u200b\uff08Ref\uff09</p> <pre><code>const urlParams = new URLSearchParams(window.location.search);\nconst myParam = urlParams.get('myParam');\n</code></pre> <p>Vanilla JS \u200b\u89e3\u6cd5\u200b\uff0c\u200b\u4f7f\u7528\u200b\u6b63\u5247\u200b\u628a\u200b query string \u200b\u53d6\u51fa\u200b</p> <pre><code>function getParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, '\\\\$&amp;');\n    var regex = new RegExp('[?&amp;]' + name + '(=([^&amp;#]*)|&amp;|#|$)'),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\n// query string: ?foo=lorem&amp;bar=&amp;baz\nvar foo = getParameterByName('foo'); // \"lorem\"\nvar bar = getParameterByName('bar'); // \"\" (present with empty value)\nvar baz = getParameterByName('baz'); // \"\" (present with no value)\nvar qux = getParameterByName('qux'); // null (absent)\n</code></pre> </li> </ol> <p>Reference:</p> <ol> <li>SecurityError: Blocked a frame with origin from accessing a cross-origin frame</li> </ol>","tags":["JavaScript","Frontend"]},{"location":"blog/2020/05/02/cors/","title":"CORS","text":"<p>\u200b\u8de8\u4f86\u6e90\u200b\u8cc7\u6599\u200b\u5171\u7528\u200b CORS (Cross-Origin Resource Sharing) \u200b\u8207\u200b\u540c\u6e90\u200b\u653f\u7b56\u200b (Same-origin policy)\uff0c\u200b\u662f\u200b\u524d\u7aef\u200b\u958b\u767c\u200b\u6642\u5e38\u6703\u200b\u8e29\u200b\u5230\u200b\u7684\u200b\u5751\u200b\u3002\u200b\u7576\u700f\u89bd\u5668\u200b\u5c0d\u200b\u4e0d\u540c\u200b\u4f86\u6e90\u200b\u767c\u51fa\u200b\u8acb\u6c42\u200b\u6642\u6703\u200b\u5efa\u7acb\u200b\u4e00\u500b\u200b\u8de8\u57df\u200b\u8acb\u6c42\u200b\uff08cross-origin HTTP request\uff09\uff0c\u200b\u4f8b\u5982\u200b\u5728\u200b http://domain-a.com HTML \u200b\u4f7f\u7528\u200b\u4e00\u500b\u200b src \u200b\u70ba\u200b http://domain-b.com/image.jpg \u200b\u7684\u200b img tag\uff0c\u200b\u9019\u6a23\u200b\u5373\u200b\u70ba\u200b\u4e00\u500b\u200b\u8de8\u57df\u200b\u8acb\u6c42\u200b\u3002\u200b\u5728\u200b\u4e00\u4e9b\u200b\u689d\u4ef6\u200b\u4e0b\u200b\u8de8\u57df\u200b\u8acb\u200b\u6c42\u6703\u200b\u88ab\u200b\u700f\u89bd\u5668\u200b\u963b\u64cb\u200b\uff0c\u200b\u800c\u200b\u7121\u6cd5\u200b\u53d6\u5f97\u200b Response\u3002</p> <p>\u200b\u57fa\u200b\u65bc\u200b\u5b89\u5168\u200b\u8003\u91cf\u200b\uff0c\u200b\u700f\u89bd\u5668\u200b\u767c\u51fa\u200b\u7684\u200b Request \u200b\u90fd\u200b\u8981\u200b\u9075\u5b88\u200b\u540c\u6e90\u200b\u653f\u7b56\u200b (Same-origin policy)\u3002\u200b\u9664\u975e\u200b\u670d\u52d9\u7aef\u200b\u4f7f\u7528\u200b CORS \u200b\u6a19\u982d\u200b\uff0c\u200b\u5426\u5247\u200b\u700f\u89bd\u5668\u200b\u53ea\u80fd\u200b\u8acb\u6c42\u200b\u540c\u6e90\u200b\u7684\u200b HTTP \u200b\u8cc7\u6e90\u200b\u3002\u200b\u8981\u200b\u7279\u5225\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\u7db2\u57df\u200b\uff08domain\uff09\u3001\u200b\u901a\u8a0a\u200b\u5354\u5b9a\u200b\uff08protocol\uff09\u200b\u6216\u200b\u901a\u8a0a\u57e0\u200b\uff08port\uff09\u200b\u53ea\u8981\u200b\u6709\u200b\u4efb\u4e00\u200b\u500b\u200b\u4e0d\u540c\u200b\u90fd\u200b\u8996\u70ba\u200b\u4e0d\u540c\u200b\u6e90\u200b\uff0c\u200b\u5982\u200b localhost:8080 \u200b\u8207\u200b localhost:8000 \u200b\u4e00\u6a23\u200b\u88ab\u200b\u8996\u70ba\u200b\u4e0d\u540c\u200b\u6e90\u200b\u3002</p> <p>\u200b\u8de8\u57df\u200b\u8acb\u6c42\u200b\u4e00\u822c\u800c\u8a00\u200b\u5206\u70ba\u200b\u7c21\u55ae\u200b\u8acb\u6c42\u200b\u8207\u200b\u9810\u6aa2\u8acb\u6c42\u200b\u5169\u7a2e\u200b\uff1a</p> <ol> <li> <p>\u200b\u7c21\u55ae\u200b\u8acb\u6c42\u200b Simple requests\uff1a     \u200b\u4e00\u822c\u800c\u8a00\u200b\u6eff\u8db3\u200b\u4ee5\u4e0b\u200b\u689d\u4ef6\u200b\u7684\u200b Request \u200b\u70ba\u200b\u7c21\u55ae\u200b\u8acb\u6c42\u200b</p> <ul> <li>HTTP Methods:</li> <li>GET</li> <li>HEAD</li> <li>POST</li> <li>Content-Type:</li> <li>application/x-www-form-urlencoded</li> <li>multipart/form-data</li> <li>text/plain</li> </ul> <p>\u200b\u9664\u4e86\u200b Method \u200b\u6709\u200b\u9650\u5b9a\u200b\u5916\u200b\uff0cContent-Type \u200b\u5176\u5be6\u200b\u4e5f\u200b\u6709\u200b\u9650\u5b9a\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e00\u822c\u200b RESTful \u200b\u5e38\u7528\u200b\u7684\u200b POST \u200b\u642d\u914d\u200b application/json \u200b\u4e5f\u200b\u6703\u200b\u88ab\u200b\u540c\u6e90\u200b\u653f\u7b56\u200b\u963b\u64cb\u200b\u3002 \u200b\u82e5\u70ba\u200b\u700f\u89bd\u5668\u200b\u6703\u200b\u76f4\u63a5\u200b\u767c\u51fa\u200b Request\uff0c\u200b\u4e26\u200b\u53d6\u5f97\u200b\u6b63\u5e38\u200b\u7684\u200b\u56de\u61c9\u200b\uff0c\u200b\u5982\u4e0b\u200b\u5716\u200b\uff1a  Image Source: MDN web docs 2. \u200b\u9810\u6aa2\u8acb\u6c42\u200b Preflighted requests\uff1a \u200b\u9810\u6aa2\u8acb\u200b\u6c42\u5206\u200b\u70ba\u200b\u5169\u500b\u200b\u6b65\u9a5f\u200b\u57f7\u884c\u200b\uff0c\u200b\u7576\u700f\u89bd\u5668\u200b\u767c\u73fe\u200b\u8a72\u200b Request \u200b\u662f\u200b\u9810\u6aa2\u8acb\u6c42\u200b\u6642\u6703\u200b\u5148\u200b\u767c\u51fa\u200b\u4e00\u500b\u200b OPTIONS Request \u200b\u4e26\u200b\u544a\u77e5\u200b\u5be6\u969b\u8981\u200b\u767c\u51fa\u200b\u7684\u200b Method \u200b\u8207\u200b\u76f8\u95dc\u200b\u8cc7\u8a0a\u200b\uff0c\u200b\u670d\u52d9\u7aef\u200b\u518d\u200b\u6839\u64da\u200b\u9019\u4e9b\u200b\u8cc7\u8a0a\u200b\u56de\u8986\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u57f7\u884c\u200b\u8a72\u200b Request\uff0c\u200b\u700f\u89bd\u5668\u200b\u78ba\u8a8d\u200b\u670d\u52d9\u7aef\u200b\u5141\u200b\u8a31\u5f8c\u624d\u200b\u6703\u200b\u767c\u51fa\u200b\u771f\u6b63\u200b\u7684\u200b Request\uff0c\u200b\u5982\u4e0b\u200b\u5716\u200b\uff1a  Image Source: MDN web docs \u200b\u5982\u679c\u200b\u88ab\u200b\u963b\u64cb\u200b\u5c31\u200b\u901a\u5e38\u200b\u6703\u200b\u5f97\u5230\u200b <code>No 'Access-Control-Allow-Origin' header is present on the requested resource.</code> \u200b\u6216\u200b <code>Cross-Origin Request Blocked</code> \u200b\u9019\u985e\u200b\u7684\u200b\u932f\u200b\u8aa4\u8a0a\u606f\u200b\u3002</p> </li> </ol> <p>CORS \u200b\u5e38\u898b\u200b\u7684\u200b\u524d\u7aef\u200b Workaround \u200b\u901a\u5e38\u200b\u662f\u200b\u4f7f\u7528\u200b JSONP \uff0c\u200b\u4f46\u200b\u96a8\u8457\u200b\u7db2\u8def\u200b\u670d\u52d9\u200b\u6a21\u5f0f\u200b\u7684\u200b\u6539\u8b8a\u200b\uff0c\u200b\u73fe\u5728\u8a31\u200b\u591a\u670d\u200b\u52d9\u591a\u4ee5\u200b API \u200b\u7684\u200b\u5f62\u5f0f\u200b\u63d0\u4f9b\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e5f\u200b\u90fd\u200b\u6703\u200b\u6709\u200b\u642d\u914d\u200b\u6b63\u5e38\u200b\u7684\u200b CORS \u200b\u8b93\u200b\u4f7f\u7528\u8005\u200b\u4f7f\u7528\u200b\uff0c\u200b\u90a3\u4e9b\u200b Workaround \u200b\u4e5f\u200b\u9010\u6f38\u200b\u6c92\u4ec0\u9ebc\u200b\u4eba\u200b\u5728\u200b\u4f7f\u7528\u200b\u4e86\u200b\u3002</p> <p>\u200b\u800c\u200b\u9664\u4e86\u200b Request \u200b\u5916\u200b\uff0c\u200b\u7db2\u9801\u200b\u7684\u200b\u5143\u7d20\u200b\u64cd\u4f5c\u200b\u5f88\u591a\u200b\u5730\u65b9\u200b\u90fd\u200b\u6703\u200b\u8e29\u200b\u5230\u200b Same-origin policy \u200b\u7684\u200b\u5751\u200b\uff0c\u200b\u5982\u200b\u4e0d\u540c\u200b\u7db2\u57df\u200b\u4e4b\u9593\u200b\u7684\u200b iframe \u200b\u64cd\u4f5c\u200b SecurityError: Blocked a frame with origin from accessing a cross-origin frame\uff0c\u200b\u5176\u200b\u6838\u5fc3\u200b\u6982\u5ff5\u200b\u5c31\u662f\u200b\u5982\u679c\u200b\u4e0d\u540c\u200b\u6e90\u200b\uff0c\u200b\u6709\u200b\u5f88\u591a\u200b\u4e8b\u60c5\u200b\u700f\u89bd\u5668\u200b\u90fd\u200b\u6703\u57fa\u200b\u65bc\u200b\u5b89\u5168\u200b\u8003\u91cf\u200b\u90fd\u200b\u64cb\u200b\u6389\u200b\u3002</p> <p>\u200b\u5230\u200b\u9019\u908a\u200b\u53ef\u4ee5\u200b\u767c\u73fe\u200b CORS \u200b\u8207\u200b Same-origin policy \u200b\u90fd\u200b\u662f\u200b\u700f\u89bd\u5668\u200b\u8ca0\u8cac\u200b\u6aa2\u6838\u200b\uff0c\u200b\u82e5\u200b\u55ae\u7d14\u200b\u6307\u4f7f\u200b\u5f9e\u5f8c\u7aef\u200b\u767c\u200b Request \u200b\u5b8c\u5168\u200b\u4e0d\u7528\u200b\u8003\u616e\u200b\u9019\u4e9b\u200b\u554f\u984c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e5f\u200b\u6709\u200b\u5f88\u591a\u200b Workaround \u200b\u662f\u200b\u5728\u200b\u5f8c\u200b\u7aef\u4f5c\u200b\u4e00\u500b\u200b\u8df3\u677f\u200b\u9593\u63a5\u200b\u53d6\u5f97\u200b\u8cc7\u6e90\u200b\uff0c\u200b\u6216\u200b\u76f4\u63a5\u200b\u7528\u200b cors-anywhere \u200b\u9019\u985e\u200b\u7b2c\u4e09\u65b9\u200b\u670d\u52d9\u7576\u200b\u8df3\u677f\u200b\u3002</p> <p>CORS \u200b\u5176\u5be6\u200b\u9084\u6709\u200b\u5f88\u591a\u200b\u8a73\u7d30\u200b\u5167\u5bb9\u200b\uff0c\u200b\u4f46\u200b\u9019\u908a\u200b\u8df3\u904e\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u7d30\u7bc0\u50c5\u200b\u7c21\u55ae\u200b\u8aaa\u660e\u200b\u539f\u7406\u200b\uff0c\u200b\u8a73\u7d30\u200b\u53ef\u4ee5\u200b\u53c3\u8003\u200b MDN web docs - \u200b\u8de8\u4f86\u6e90\u200b\u8cc7\u6e90\u200b\u5171\u7528\u200b\uff08CORS\uff09\uff0c\u200b\u5341\u5206\u200b\u503c\u5f97\u200b\u4e00\u8b80\u200b\u3002</p>","tags":["Frontend"]},{"location":"blog/2020/05/02/cors/#backend-cors","title":"Backend CORS \u200b\u8a2d\u5b9a","text":"<p>\u200b\u524d\u7aef\u200b\u662f\u5426\u200b\u80fd\u200b\u57f7\u884c\u200b\u8de8\u57df\u200b\u8acb\u6c42\u200b\u5b8c\u5168\u200b\u662f\u200b\u4f9d\u8cf4\u200b\u65bc\u200b\u5f8c\u200b\u7aef\u200b\u662f\u5426\u200b\u6709\u200b\u8a2d\u5b9a\u200b CORS\uff0cEnable CORS \u200b\u5217\u51fa\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u5e38\u898b\u200b\u7684\u200b\u5f8c\u200b\u7aef\u200b Server \u200b\u8a2d\u5b9a\u200b\u65b9\u6cd5\u200b\u3002\u200b\u4ee5\u4e0b\u200b\u91dd\u5c0d\u200b Python \u200b\u5e38\u7528\u200b\u7684\u200b Django \u200b\u8207\u200b Flask \u200b\u5f8c\u200b\u7aef\u200b\u6846\u67b6\u200b\u8aaa\u660e\u200b\u8a2d\u5b9a\u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["Frontend"]},{"location":"blog/2020/05/02/cors/#django","title":"Django","text":"<p>\u200b\u5728\u200b\u4f7f\u7528\u200b Django REST framework \u200b\u505a\u200b\u70ba\u200b\u7db2\u7ad9\u200b\u5f8c\u200b\u7aef\u7684\u200b\u6642\u200b\uff0c\u200b\u524d\u7aef\u200b\u9801\u9762\u200b\u901a\u5e38\u200b\u6703\u200b\u662f\u200b\u4e0d\u540c\u200b\u4f86\u6e90\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b django-cors-headers \u200b\u89e3\u6c7a\u200b CORS \u200b\u7684\u200b\u554f\u984c\u200b\u3002</p> <pre><code>pip install django-cors-headers\n</code></pre> <pre><code># settings.py\nINSTALLED_APPS = (\n    ...\n    'corsheaders',\n    ...\n)\n\nMIDDLEWARE_CLASSES = (\n    ...\n    'corsheaders.middleware.CorsMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    ...\n)\n\nCORS_ORIGIN_ALLOW_ALL = True # \u200b\u5141\u8a31\u200b\u6240\u6709\u200b\u7684\u200b\u8de8\u200b\u7ad9\u200b\u8acb\u6c42\u200b, \u200b\u767d\u540d\u200b\u55ae\u4e0d\u6703\u200b\u88ab\u200b\u555f\u7528\u200b\n\n# \u200b\u767d\u540d\u200b\u55ae\u8a2d\u5b9a\u200b\nCORS_ORIGIN_WHITELIST = (\n    'http://localhost:9000',\n    'http://example.com',\n    ...\n)\n</code></pre>","tags":["Frontend"]},{"location":"blog/2020/05/02/cors/#flask","title":"Flask","text":"<p>\u200b\u4ee5\u200b Flask \u200b\u4f5c\u70ba\u5f8c\u7aef\u200b\u6642\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Flask-CORS \u200b\u89e3\u6c7a\u200b CORS \u200b\u7684\u200b\u554f\u984c\u200b\u3002</p> <pre><code>pip install flask-cors\n</code></pre> <pre><code>from flask import Flask\nfrom flask_cors import CORS\n\napp = Flask(__name__)\nCORS(app)\n\n@app.route(\"/\")\ndef helloWorld():\n  return \"Hello, cross-origin-world!\"\n</code></pre> <p>Reference:</p> <ol> <li>MDN web docs - \u200b\u8de8\u4f86\u6e90\u200b\u8cc7\u6e90\u200b\u5171\u7528\u200b\uff08CORS\uff09</li> <li>MDN web docs - \u200b\u540c\u6e90\u200b\u653f\u7b56\u200b (Same-origin policy)</li> <li>\u200b\u6df1\u5165\u200b\u8a8d\u8b58\u200b\u8de8\u57df\u200b\u8acb\u6c42\u200b</li> <li>\u200b\u66f4\u200b\u5b89\u5168\u200b\u7684\u200b\u8acb\u6c42\u200b\u6a19\u982d\u200b - Fetch Metadata Request Headers</li> </ol>","tags":["Frontend"]},{"location":"blog/2020/05/04/longest-word-in-dictionary/","title":"Longest Word in Dictionary","text":"<p>720. Longest Word in Dictionary</p> <pre><code>class Solution:\n    def longestWord(self, words: List[str]) -&gt; str:\n        best = \"\"\n        for word in words:\n            if (len(word)&lt;len(best)) or (len(word) == len(best) and word &gt; best):\n                # \u200b\u6bd4\u200b best \u200b\u7684\u200b\u77ed\u200b\u8df3\u904e\u200b\uff0c\u200b\u8ddf\u200b bes\bt \u200b\u4e00\u6a23\u200b\u9577\u200b\uff0c\u200b\u4f46\u200b\u5b57\u5178\u200b\u6392\u5e8f\u200b\u6bd4\u200b best \u200b\u5927\u200b\u4e5f\u200b\u8df3\u904e\u200b\n                continue\n            prefix = \"\"\n            valid = True\n            for ind in range(len(word)):\n                prefix += word[ind]\n                if not prefix in words:\n                    valid = False\n                    break\n            if valid:\n                best = word\n        return best\n</code></pre> <p>Find the longest word in words that can be built one character at a time by other words in <code>words</code>. \u200b\u627e\u5230\u200b\u4e00\u500b\u200b\u6700\u9577\u200b\uff0c\u200b\u4e14\u200b\u9019\u500b\u200b\u5b57\u200b\u7684\u200b\u5f9e\u982d\u200b\u958b\u59cb\u200b\u6bcf\u200b\u589e\u52a0\u200b\u4e00\u500b\u200b\u5b57\u6bcd\u200b\u7684\u200b\u8a5e\u200b\u90fd\u200b\u5728\u200b <code>words</code> \u200b\u4e2d\u200b\u3002</p> <p>\u200b\u4fdd\u7559\u200b\u6700\u4f73\u89e3\u200b\uff0c\u200b\u5982\u679c\u200b\u9047\u5230\u200b\u66f4\u597d\u200b\u7684\u200b\u518d\u63db\u200b\u6389\u200b\uff0c\u200b\u5229\u7528\u200b\u689d\u4ef6\u200b\u522a\u53bb\u200b\u4e0d\u7528\u200b\u5224\u65b7\u200b\u7684\u200b</p> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 720. Longest Word in Dictionary - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP109</li> </ol>","tags":[]},{"location":"blog/2020/05/05/openapi--swagger-resource-list-for-api-developers/","title":"OpenAPI / Swagger Resource List for API Developers","text":"<p>OpenAPI / Swagger Resource List for API Developers</p> <p>\u200b\u672c\u6587\u200b\u767c\u8868\u200b\u65bc\u200b 2017 \u200b\u4e2d\u200b\uff0c\u200b\u7c21\u55ae\u200b\u8aaa\u660e\u200b\u4e86\u200b\u4f7f\u7528\u200b OpenAPI \u200b\u7684\u200b\u597d\u200b\u8655\u200b\uff0c\u200b\u4e26\u4f9d\u4e3b\u984c\u200b\u6574\u7406\u200b OpenAPI \u200b\u76f8\u95dc\u200b\u7684\u200b\u6587\u7ae0\u200b\u8207\u200b\u5de5\u5177\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b OpenAPI \u200b\u5e36\u4f86\u200b\u7684\u200b\u4e09\u500b\u200b\u597d\u200b\u8655\u200b\uff1a</p> <ol> <li>Generating interactive documentation - \u200b\u53ef\u4e92\u52d5\u200b\u7684\u200b API \u200b\u6587\u4ef6\u200b\u8b93\u200b\u4eba\u200b\u66f4\u200b\u5feb\u200b\u7406\u89e3\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b</li> <li>Human readable and machine readable - \u200b\u4eba\u6a5f\u200b\u53ef\u8b80\u200b\b\u200b\u53ca\u200b\u8a9e\u8a00\u7121\u95dc\u200b\uff0c\u200b\u8b93\u200b\u4efb\u4f55\u200b\u8a9e\u8a00\u200b\u7684\u200b\u5de5\u5177\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u64cd\u4f5c\u200b\u5b83\u200b</li> <li>Creating SDK for multiple languages - Swagger Codegen \u200b\u8207\u200b OpenAPI Codegen \u200b\u53ef\u4ee5\u200b\u7522\u751f\u200b\u591a\u7a2e\u200b\u8a9e\u8a00\u200b\u8207\u200b\u6846\u67b6\u200b\u7684\u200b server side\u3001client side \u200b\u7a0b\u5f0f\u200b\u78bc\u200b</li> </ol> <p>\u200b\u6587\u5167\u200b\u5305\u62ec\u200b\u7684\u200b\u8b70\u984c\u200b\uff1a</p> <ul> <li>Writing Spec / Design</li> <li>Documentation</li> <li>Generators</li> <li>Servers</li> <li>Clients</li> <li>Testing &amp; Monitoring</li> <li>Gateways / Management</li> <li>Public Specifications</li> <li>Other Resources</li> </ul> <p>\u200b\u90e8\u5206\u200b\u9023\u7d50\u200b\u53ef\u80fd\u200b\u56e0\u70ba\u200b\u6642\u9593\u95dc\u200b\u4fc2\u200b\u5df2\u7d93\u200b\u5931\u6548\u200b\uff0c\u200b\u4f46\u200b\u900f\u904e\u200b\u9019\u5e7e\u500b\u200b\u8b70\u984c\u200b\u4f86\u200b\u5b9a\u4f4d\u200b OpenAPI \u200b\u7684\u200b\u529f\u80fd\u200b\u4e5f\u200b\u662f\u200b\u4e00\u500b\u200b\u4e0d\u932f\u200b\u7684\u200b\u4ecb\u7d39\u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["API","OpenAPI"]},{"location":"blog/2020/05/07/serving-traefiks-internal-dashboard-behind-traefik-itself/","title":"Serving Traefik\u2019s internal dashboard behind Traefik itself","text":"<p>Traefik \u200b\u5167\u200b\u5efa\u6709\u200b Dashboard \u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u670d\u52d9\u200b\u8207\u200b\u8a2d\u5b9a\u200b\u72c0\u614b\u200b\uff0c\u200b\u9810\u8a2d\u200b\u6703\u200b\u958b\u555f\u200b\u5728\u200b 8080 port\u3002\u200b\u7279\u5b9a\u200b port \u200b\u6642\u5e38\u6703\u200b\u56e0\u70ba\u200b\u9632\u706b\u200b\u7246\u200b\u7684\u200b\u56e0\u7d20\u200b\u88ab\u200b\u963b\u64cb\u200b\uff0c\u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b Traefik \u200b\u4ee3\u7406\u200b\u81ea\u5df1\u200b\u7684\u200b Dashboard \u200b\u5230\u200b\u5e38\u7528\u200b\u7684\u200b 80 port\u3002</p> <pre><code>version: \"2.3\"\n\nservices:\n  traefik:\n    image: traefik:v2.2\n    container_name: traefik\n    command:\n      - --log.level=INFO\n      - --entrypoints.web.address=:80\n      - --api\n      - --providers.docker.exposedbydefault=false\n      - --providers.docker.network=proxy\n      {% raw  %}- '--providers.docker.defaultRule=Host(`{{ index .Labels \"com.docker.compose.service\" }}.localhost`)'{% endraw %}\n      # hostname = {compose service name}.localhost\n    ports:\n      - \"80:80\"\n    volumes:\n      - \"/var/run/docker.sock:/var/run/docker.sock:ro\"\n    networks:\n      - proxy\n    labels:\n      traefik.enable: true\n      traefik.http.routers.traefik.service: api@internal\n      traefik.http.routers.traefik.entrypoints: web\n\nnetworks:\n  proxy:\n    external: true\n</code></pre> <p>\u200b\u81ea\u200b\u5b9a\u200b Header \u200b\u7684\u200b extension ModHeader\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u4f86\u200b\u5feb\u901f\u200b\u5207\u63db\u200b HOST \u200b\u6216\u52a0\u200b\u5176\u4ed6\u200b Header\u3002</p> <p>Reference:</p> <ol> <li>Serving Traefik\u2019s internal dashboard behind Traefik itself</li> </ol>","tags":["Traefik"]},{"location":"blog/2020/05/10/r-plumber---api-service/","title":"R Plumber - API Service","text":"<p>Plumber \u200b\u662f\u200b\u4e00\u500b\u200b\u53ef\u4ee5\u200b\u7528\u200b\u65bc\u200b\u67b6\u200b\u8a2d\u200b API \u200b\u670d\u52d9\u200b\u7684\u200b R package\uff0c\u200b\u4e26\u80fd\u200b\u6839\u200b\u64da\u200b\u8a3b\u200b\u89e3\u200b\u5167\u200b\u5bb9\u200b\u7522\u200b\u751f\u200b Swagger Spec\uff0c\u200b\u4e0d\u904e\u200b\u76ee\u524d\u200b\u9084\u6c92\u6709\u200b\u652f\u63f4\u200b requestBody \u200b\u7684\u200b Swagger Spec \u200b\u751f\u6210\u200b\u3002</p> <p>\u200b\u7bc4\u200b\u4f8b\u5982\u200b\u4e0b\u200b\uff0c\u200b\u4e3b\u8981\u200b\u5206\u70ba\u200b\u5b9a\u7fa9\u200b API \u200b\u7684\u200b <code>api.R</code> \u200b\u8207\u200b\u57f7\u884c\u200b\u670d\u52d9\u200b\u7684\u200b <code>run.R</code></p> <pre><code># api.R\n\n#* Echo back the input\n#* @param msg The message to echo\n#* @get /echo\nfunction(msg=\"\"){\n  list(msg = paste0(\"The message is: '\", msg, \"'\"))\n}\n\n#* Return the sum of two numbers\n#* @param a The first number to add\n#* @param b The second number to add\n#* @post /sum\nfunction(a, b){\n  as.numeric(a) + as.numeric(b)\n}\n</code></pre> <pre><code># run.R\nlibrary(plumber)\nr &lt;- plumb(\"api.R\")  # Where 'plumber.R' is the location of the file shown above\nr$run(port=8000)\n</code></pre> <p>Plumber \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u591a\u7a2e\u200b Hosting \u200b\u7684\u200b\u7bc4\u4f8b\u200b\uff0c\u200b\u5176\u4e2d\u200b\u4e5f\u200b\u5305\u62ec\u200b\u4e86\u200b Docker\uff0c\u200b\u4e26\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7684\u200b Image trestletech/plumber\u3002</p> <p>\u200b\u5728\u200b Plumber \u200b\u7684\u200b Dockerfile \u200b\u53ef\u4ee5\u200b\u767c\u73fe\u200b\u4ed6\u5011\u200b\u662f\u200b\u4f7f\u7528\u200b <code>install2.r</code> \u200b\u9019\u500b\u200b Script \u200b\u5b89\u88dd\u200b package\u3002\u200b\u8207\u200b python \u200b\u4e0d\u540c\u200b R \u200b\u4e26\u6c92\u6709\u200b\u50cf\u662f\u200b pip \u200b\u9019\u7a2e\u200b package manager\uff0c\u200b\u56e0\u6b64\u200b\u8981\u200b\u5728\u5efa\u200b\u7f6e\u200b Image \u200b\u6642\u5b89\u88dd\u200b package \u200b\u4e26\u6c92\u6709\u200b\u4e00\u500b\u200b\u6bd4\u200b\u8f03\u200b\u901a\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002littler \u200b\u7684\u200b install2.r \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u6bd4\u200b\u8f03\u200b\u504f\u5411\u200b CLI \u200b\u7684\u200b\u65b9\u5f0f\u200b\u5b89\u88dd\u200b R \u200b\u7684\u200b Package\uff0c\u200b\u4e26\u200b\u652f\u63f4\u200b\u4e86\u200b\u591a\u7a2e\u200b\u529f\u80fd\u200b\uff0c\u200b\u5982\u200b\u5e73\u884c\u200b\u5b89\u88dd\u200b\u52a0\u5feb\u200b\u5b89\u88dd\u200b\u901f\u5ea6\u200b\u7b49\u200b\u3002</p> <p>install2.r \u200b\u4f7f\u7528\u200b\u7bc4\u4f8b\u200b\uff1a</p> <pre><code>install2.r -l /tmp/lib Rcpp BH                    # install into given library\ninstall2.r -- --with-keep.source drat             # keep the source\ninstall2.r -- --data-compress=bzip2 stringdist    # prefer bz2 compression\ninstall2.r \\\".\\\"                                  # install package in current directory\ninstall2.r -n 6 ggplot2                           # parallel install: (6 processes)\n</code></pre> <p>Reference:</p> <ol> <li>What is the current state of R package mangers in 2019?</li> </ol>","tags":["R","Docker"]},{"location":"blog/2020/05/11/implement-trie-prefix-tree/","title":"Implement Trie (Prefix Tree)","text":"<p>208. Implement Trie (Prefix Tree)</p> <pre><code>class Trie:\n    def __init__(self):\n        \"\"\"\n        Initialize your data structure here.\n        \"\"\"\n        self.root = {} # \u200b\u7528\u200b dict \u200b\u4f86\u200b\u5132\u5b58\u200b node\uff0ckey \u200b\u70ba\u503c\u200b\uff0cval \u200b\u70ba\u5b50\u200b\u7d50\u9ede\u200b\n\n    def insert(self, word: str) -&gt; None:\n        \"\"\"\n        Inserts a word into the trie.\n        \"\"\"\n        cur_node = self.root\n        for char in word:\n            if char not in cur_node:\n                cur_node[char] = {}\n            cur_node = cur_node[char]\n        cur_node[\"#\"] = True # \u200b\u6709\u200b hash tag \u200b\u8868\u793a\u200b\u70ba\u200b\u8a72\u200b\u8a5e\u200b\u6700\u5f8c\u4e00\u500b\u9ede\u200b\n\n    def search(self, word: str) -&gt; bool:\n        \"\"\"\n        Returns if the word is in the trie.\n        \"\"\"\n        query_node = self.query(word)\n        return query_node is not None and \"#\" in query_node\n\n    def startsWith(self, prefix: str) -&gt; bool:\n        \"\"\"\n        Returns if there is any word in the trie that starts with the given prefix.\n        \"\"\"\n        query_node = self.query(prefix)\n        return query_node is not None\n\n    def query(self, word: str) -&gt; object:\n        cur_node = self.root\n        for char in word:\n            if char not in cur_node:\n                return None\n            cur_node = cur_node[char]\n        return cur_node\n\n\n# Your Trie object will be instantiated and called as such:\n# obj = Trie()\n# obj.insert(word)\n# param_2 = obj.search(word)\n# param_3 = obj.startsWith(prefix)\n</code></pre> <p>Trie\uff1a\u200b\u53c8\u200b\u7a31\u200b\u5b57\u9996\u200b\u6a39\u200b\u6216\u200b\u5b57\u5178\u200b\u6a39\u200b\uff0c\u200b\u8b80\u4f5c\u200b tree \u200b\u6216\u200b try\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 208. Implement Trie (Prefix Tree) - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP73</li> </ol>","tags":[]},{"location":"blog/2020/05/12/gitops-for-kubernetes-with-jenkins/","title":"GitOps for Kubernetes with Jenkins","text":"<p>GitOps for Kubernetes with Jenkins</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7d39\u200b\u4e86\u200b\u4ee5\u200b GitOps \u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f86\u200b\u90e8\u7f72\u200b\u8207\u200b\u7ba1\u7406\u200b K8s\uff0cGitOps \u200b\u7684\u200b\u6838\u5fc3\u200b\u6982\u5ff5\u200b\u70ba\u200b\u4f7f\u7528\u200b Git \u200b\u4f5c\u70ba\u200b infrastructure \u200b\u8207\u200b application \u200b\u7684\u200b source of truth\u3002\u200b\u5728\u200b K8s \u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b\u8a2d\u200b\u5b9a\u90fd\u200b\u662f\u200b\u900f\u904e\u200b\u5404\u5f0f\u200b yaml \u200b\u6a94\u200b\u9032\u884c\u200b\u7ba1\u7406\u200b\uff0c\u200b\u9019\u4e9b\u200b\u6a94\u6848\u200b\u80fd\u5920\u200b\u88ab\u200b\u5b8c\u7f8e\u200b\u5730\u88ab\u200b Git \u200b\u6240\u200b\u7ba1\u7406\u200b\uff0c\u200b\u5728\u200b Repo \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u6e05\u695a\u200b\u5730\u200b\u770b\u5230\u200b\u670d\u52d9\u200b\u6240\u200b\u4f7f\u7528\u200b\u7684\u200b\u8a2d\u5b9a\u200b\u3002</p> <p>\u200b\u4f5c\u8005\u200b\u6240\u200b\u63d0\u51fa\u200b\u7684\u200b Pipeline \u200b\u5982\u4e0b\u200b\u5716\u200b\uff0c\u200b\u5c07\u200b Code \u200b\u8207\u200b K8s Config \u200b\u62c6\u958b\u6210\u200b\u5169\u500b\u200b Repo\u3002Code Repo \u200b\u50c5\u8ca0\u8cac\u200b Image \u200b\u7684\u200b\u5efa\u7f6e\u200b\uff0c\u200b\u5be6\u969b\u200b\u90e8\u7f72\u200b\u5247\u7531\u200b Config Repo \u200b\u6240\u200b\u8ca0\u8cac\u200b\u3002</p> <p> Source: GitOps for Kubernetes with Jenkins</p> <p>\u200b\u5728\u200b K8s \u200b\u7684\u200b\u67b6\u69cb\u200b\u4e0b\u200b\u6240\u8b02\u200b\u7684\u200b\u90e8\u7f72\u200b\u662f\u200b\u90e8\u7f72\u200b\u300c\u200b\u670d\u52d9\u200b\u7d44\u614b\u200b\u300d\uff0c\u200b\u800c\u200b\u7a0b\u5f0f\u200b\u78bc\u200b\u53ea\u662f\u200b Image \u200b\u7684\u200b\u4f86\u6e90\u200b\u3002\u200b\u82e5\u200b\u4f9d\u7136\u200b\u5f9e\u200b\u55ae\u9ad4\u5f0f\u200b\u61c9\u7528\u200b\u7684\u200b\u89d2\u5ea6\u200b\u53bb\u200b\u898f\u5283\u200b\u90e8\u7f72\u200b\uff0c\u200b\u7576\u4e00\u500b\u200b Pod \u200b\u4f7f\u7528\u200b\u5169\u500b\u200b\u4ee5\u4e0a\u200b\u7684\u200b Image \u200b\u6642\u200b\u5c31\u200b\u6703\u200b\u99ac\u200b\u4e0a\u200b\u9047\u5230\u200b\u554f\u984c\u200b\u3002</p>","tags":["K8s"]},{"location":"blog/2020/05/13/install-the-microsoft-odbc-driver-for-sql-server-linux/","title":"Install the Microsoft ODBC driver for SQL Server (Linux)","text":"<p>\u200b\u9700\u6c42\u200b\uff1a\u200b\u5728\u200b Container \u200b\u4e2d\u5b89\u88dd\u200b MS ODBC\uff0c\u200b\u5efa\u7f6e\u200b\u6642\u6709\u200b\u9632\u706b\u200b\u7246\u963b\u200b\u64cb\u200b\uff0c\u200b\u90e8\u5206\u200b package index \u200b\u7121\u6cd5\u200b update\u3002</p> <p>\u200b\u89e3\u6cd5\u200b\uff1aInstall the Microsoft ODBC driver for SQL Server (Linux) \u200b\u8aaa\u660e\u200b\u4e86\u200b\u5404\u7a2e\u200b Linux \u200b\u5b89\u88dd\u200b MS ODBC \u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002\u200b\u8981\u5b89\u88dd\u200b\u7684\u200b Container \u200b\u662f\u200b\u4f7f\u7528\u200b Debian\uff0c\u200b\u4f46\u200b\u56e0\u70ba\u200b\u9632\u706b\u200b\u7246\u7684\u95dc\u200b\u4fc2\u200b\u66f4\u65b0\u200b package index \u200b\u5f8c\u200b\u4e5f\u200b\u7121\u6cd5\u200b\u9032\u884c\u200b <code>apt-get update</code>\uff0c\u200b\u6240\u4ee5\u200b\u66b4\u529b\u200b\u7684\u200b\u89e3\u6cd5\u200b\u5c31\u662f\u200b\u76f4\u63a5\u200b\u628a\u200b\u6a94\u6848\u200b\u5148\u6293\u200b\u4e0b\u4f86\u200b\uff0c\u200b\u518d\u200b\u76f4\u63a5\u200b\u5c07\u5b89\u88dd\u200b\u6a94\u200b <code>COPY</code> \u200b\u9032\u200b Image \u200b\u4e2d\u200b\uff0c\u200b\u6839\u64da\u200b prod.list \u200b\u4e2d\u200b\u7684\u200b\u5167\u5bb9\u200b\u53ef\u4ee5\u200b\u627e\u5230\u200b\u5be6\u969b\u5b89\u88dd\u200b\u6a94\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6709\u200b\u624b\u52d5\u5b89\u88dd\u904e\u200b MS ODBC <code>apt-get install msodbcsql17</code>\uff0c\u200b\u6703\u767c\u200b\u73fe\u5b89\u88dd\u200b\u904e\u7a0b\u200b\u4e2d\u200b\u6709\u200b\u6700\u7d42\u200b\u7528\u6236\u200b\u6388\u6b0a\u200b\u5354\u5b9a\u200b(EULA)\u200b\u8981\u200b\u624b\u52d5\u200b\u78ba\u8a8d\u200b\uff0c\u200b\u800c\u200b\u5b98\u7db2\u200b\u63d0\u4f9b\u200b\u7684\u200b\u5b89\u88dd\u200b Script \u200b\u4e2d\u200b\u7684\u200b <code>ACCEPT_EULA=Y apt-get install msodbcsql17</code> \u200b\u5c31\u662f\u200b\u900f\u904e\u200b\u74b0\u5883\u200b\u8b8a\u6578\u200b\u76f4\u63a5\u200b\u78ba\u8a8d\u200b EULA\uff0c\u200b\u9019\u6a23\u200b\u5728\u200b\u5b89\u88dd\u200b\u7684\u200b\u6642\u5019\u200b\u5c31\u200b\u4e0d\u6703\u200b\u56e0\u70ba\u200b\u9700\u8981\u200b\u4e92\u52d5\u5c0e\u200b\u81f4\u5b89\u88dd\u200b\u6d41\u7a0b\u200b\u5361\u4f4f\u200b\u3002</p> <p>\u200b\u76f4\u63a5\u200b\u5b89\u88dd\u200b deb \u200b\u7684\u200b\u65b9\u5f0f\u200b\uff1a</p> <pre><code>apt install ./name.deb\n</code></pre> <p>Reference:</p> <ol> <li>How to install a deb file, by dpkg -i or by apt?</li> </ol>","tags":["Unix","Docker"]},{"location":"blog/2020/05/15/prism-openapi-mock-server/","title":"Prism OpenAPI Mock Server","text":"<p>Prism \u200b\u53ea\u200b\u9700\u6839\u64da\u200b OpenAPI Spec \u200b\u5c31\u200b\u80fd\u200b\u5efa\u7acb\u200b Mock Server\uff0c\u200b\u4e14\u200b\u652f\u63f4\u200b\u53c3\u6578\u200b\u6aa2\u6838\u200b\u3001\u200b\u52d5\u614b\u200b\u751f\u6210\u200b response\u3001Validation Proxy \u200b\u7b49\u200b\u529f\u80fd\u200b\u3002Validation Proxy \u200b\u529f\u80fd\u200b\u53ef\u4ee5\u200b\u5c07\u200b Prism \u200b\u4f5c\u70ba\u200b request \u200b\u8ddf\u200b\u5be6\u969b\u200b server \u200b\u9593\u200b\u7684\u200b proxy\uff0c\u200b\u4e26\u9a57\u8b49\u200b request \u200b\u8207\u200b response \u200b\u662f\u5426\u200b\u8207\u200b Spec \u200b\u4e00\u81f4\u200b\u3002</p> <p>Mock testing \u200b\u7684\u200b\u76ee\u7684\u200b\u662f\u9a57\u200b\u8b49\u5f85\u6e2c\u200b\u76ee\u6a19\u200b\u8ddf\u200b\u5176\u4ed6\u200b\u6a21\u7d44\u200b\u4e92\u52d5\u6642\u200b\u662f\u5426\u200b\u7b26\u5408\u200b\u9810\u671f\u200b\u3002\u200b\u5728\u200b\u6e2c\u8a66\u200b\u6642\u200b\u76f8\u4f9d\u200b\u7684\u200b\u5176\u4ed6\u200b\u6a21\u7d44\u6703\u200b\u7528\u200b\u80fd\u200b\u6a21\u64ec\u200b\u51fa\u200b\u76f8\u540c\u200b\u884c\u70ba\u200b\u7684\u200b\u7269\u4ef6\u200b\u53d6\u4ee3\u200b\uff0c\u200b\u900f\u904e\u200b\u9019\u6a23\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5c07\u5f85\u6e2c\u200b\u76ee\u6a19\u200b\u7368\u7acb\u200b\u51fa\u4f86\u200b\uff0c\u200b\u800c\u200b\u4e0d\u6703\u200b\u53d7\u5230\u200b\u5916\u90e8\u200b\u7684\u200b\u76f8\u4f9d\u200b\u5f71\u97ff\u200b\u3002</p> <p>Mock Server \u200b\u80fd\u200b\u6a21\u64ec\u200b\u5be6\u969b\u200b web service \u200b\u7684\u200b\u8f38\u5165\u200b\u8207\u200b\u8f38\u51fa\u200b\uff0c\u200b\u7528\u200b\u65bc\u200b\u7c21\u5316\u200b\u96c6\u6210\u200b\u6e2c\u8a66\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u8b93\u200b\u4f9d\u8cf4\u95dc\u200b\u4fc2\u200b\u7684\u200b\u7a0b\u5f0f\u200b\u53ef\u4ee5\u200b\u5e73\u884c\u200b\u958b\u767c\u200b\u3002\u200b\u4ee5\u5e38\u898b\u200b\u7684\u200b\u524d\u5f8c\u7aef\u200b\u5206\u96e2\u200b\u70ba\u4f8b\u200b\uff0c\u200b\u7576\u5f8c\u7aef\u200b API \u200b\u9084\u6c92\u200b\u958b\u767c\u200b\u5b8c\u6210\u200b\u7684\u200b\u6642\u5019\u200b\uff0c\u200b\u524d\u7aef\u200b\u6703\u200b\u9700\u8981\u200b\u4e00\u500b\u200b\u53ef\u4ee5\u200b\u66ab\u6642\u200b\u56de\u61c9\u200b\u5047\u8cc7\u6599\u200b\uff08mock data\uff09\u200b\u7684\u200b mock server\u3002\u200b\u7b49\u5230\u200b\u5f8c\u200b\u7aef\u7684\u200b API \u200b\u958b\u767c\u200b\u5b8c\u6210\u200b\u4e4b\u200b\u5f8c\u200b\uff0c\u200b\u524d\u7aef\u200b\u53ea\u200b\u9700\u8981\u200b\u5c07\u200b API endpoint \u200b\u5f9e\u200b mock server \u200b\u5207\u56de\u200b actual server \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u771f\u5be6\u200b\u8cc7\u6599\u200b\u3002</p> <p>JSON Server \u200b\u4e5f\u200b\u662f\u200b\u4e00\u6b3e\u200b\u5e38\u7528\u200b\u7684\u200b Mock Server\uff0c\u200b\u4f46\u50c5\u200b\u80fd\u200b\u6a21\u64ec\u200b REST API\uff0c\u200b\u76f8\u8f03\u200b\u4e4b\u4e0b\u200b Prism \u200b\u80fd\u200b\u6709\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5f48\u6027\u200b\u3002</p> <p> \u200b\u7d66\u5b9a\u200b OpenAPI Spec \u200b\u5373\u53ef\u200b\u555f\u7528\u200b Mock Server</p> <p> Postman request sample</p> <p>\u200b\u4f7f\u7528\u200b\u6642\u200b\u9700\u6ce8\u610f\u200b OAS3 \u200b\u7684\u200b Server \u200b\u8ddf\u200b OSA2 \u200b\u7684\u200b Host + BasePath \u200b\u90fd\u200b\u6703\u200b\u88ab\u200b\u5ffd\u7565\u200b\uff0c\u200b\u50c5\u6703\u200b\u4f7f\u7528\u200b path \u200b\u4e2d\u200b\u7684\u200b URL \u200b\u4e32\u63a5\u200b\u5728\u200b localhost \u200b\u4e4b\u200b\u5f8c\u200b\u3002</p> <p>Reference:</p> <ol> <li>Mock Testing</li> <li>Prism Documentation</li> </ol>","tags":["OpenAPI"]},{"location":"blog/2020/05/18/array-partition-i/","title":"Array Partition I","text":"<p>561. Array Partition I</p> <pre><code>class Solution:\n    def arrayPairSum(self, nums: List[int]) -&gt; int:\n        nums.sort() # \u200b\u5c0f\u5230\u200b\u5927\u200b\u6392\u5e8f\u200b\n        result = 0\n        for i in range(0, len(nums), 2): # \u200b\u5169\u5169\u200b\u4e00\u7d44\u200b\uff0c\u200b\u53d6\u200b\u6bcf\u7d44\u200b\u7684\u200b\u7b2c\u4e00\u200b\u500b\u200b\u6578\u5b57\u200b\n            result += nums[i]\n        return result\n</code></pre> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 561. Array Partition I - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP8</li> </ol>","tags":[]},{"location":"blog/2020/05/19/the-2020-web-developer-roadmap/","title":"The 2020 Web Developer Roadmap","text":"<p>The 2020 Web Developer Roadmap</p> <p>Web Developer Roadmap \u200b\u6bcf\u5e74\u200b\u90fd\u200b\u6703\u200b\u66f4\u65b0\u200b\u4e00\u500b\u200b\u7248\u672c\u200b\uff0c\u200b\u76ee\u524d\u200b\u6db5\u84cb\u200b\u4e86\u200b Frontend\u3001Backend\u3001DevOps \u200b\u4e09\u500b\u200b\u90e8\u5206\u200b\u3002\u200b\u900f\u904e\u200b Roadmap \u200b\u53ef\u4ee5\u200b\u7cfb\u7d71\u6027\u200b\u5730\u6aa2\u8996\u200b\u5c0d\u200b\u65bc\u200b\u6240\u5728\u200b\u7684\u200b\u9818\u57df\u200b\u662f\u5426\u200b\u6709\u200b\u6b20\u7f3a\u200b\u7684\u200b\u95dc\u9375\u200b\u6280\u8853\u200b\uff0c\u200b\u5176\u4ed6\u200b\u7684\u200b\u9818\u57df\u200b\u4e5f\u200b\u80fd\u200b\u85c9\u6b64\u200b\u6709\u500b\u200b\u7c97\u7565\u200b\u7684\u200b\u8a8d\u8b58\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u5c07\u200b Roadmap \u200b\u5206\u70ba\u200b\u591a\u500b\u200b\u7ae0\u7bc0\u200b\u4ecb\u7d39\u200b\uff0c\u200b\u4e26\u88dc\u5145\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u5b78\u7fd2\u200b\u8cc7\u6e90\u200b\uff1a</p> <ol> <li>Required Learning for Any Path: \u200b\u5fc5\u5099\u200b\u7684\u200b\u57fa\u790e\u200b\u6280\u80fd\u200b\uff0c\u200b\u5982\u200b Command Line\u3001\u200b\u7de8\u8f2f\u5668\u200b\u7684\u200b\u9078\u64c7\u200b\u7b49\u200b</li> <li>Introduction to Programming: \u200b\u7d66\u200b\u65b0\u624b\u200b\u7684\u200b\u5b78\u7fd2\u200b\u8cc7\u6e90\u200b\uff0c\u200b\u4ee5\u200b JavaScript \u200b\u70ba\u4e3b\u200b\uff0c\u200b\u53ea\u8981\u200b\u6709\u200b\u700f\u89bd\u5668\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u958b\u59cb\u200b\u5beb\u200b\u4e86\u200b\uff01</li> <li>Frontend Development: React\u3001Vue\u3001Angular \u200b\u5927\u4e82\u9b25\u200b</li> <li>Backend Development: Node.js\u3001Go\u3001Python\u3001Ruby on Rails \u200b\u8207\u200b DB \u200b\u9078\u64c7\u200b</li> <li>DevOps Engineering: \u200b\u8457\u58a8\u200b\u8f03\u200b\u5c11\u200b\uff0c\u200b\u50c5\u7c21\u55ae\u200b\u5e36\u904e\u200b\u4e00\u4e9b\u200b\u6982\u5ff5\u200b</li> <li>JavaScript and Coding In-depth: JavaScript \u200b\u66f4\u200b\u6df1\u5165\u200b\u7684\u200b\u5b78\u7fd2\u200b\u8cc7\u6e90\u200b</li> <li>Software Engineering Books: \u200b\u63a8\u85a6\u200b\u6280\u8853\u200b\u8207\u200b\u5275\u696d\u200b\u76f8\u95dc\u200b\u66f8\u7c4d\u200b</li> <li>Job Advice and Wrap Up: \u200b\u4e00\u4e9b\u200b\u6c42\u8077\u200b\u7684\u200b\u5efa\u8b70\u4e26\u200b\u63a8\u92b7\u200b\u4ed6\u5011\u200b\u81ea\u5bb6\u200b\u7684\u200b Resume \u200b\u5de5\u5177\u200b portfolio api</li> </ol> <p>\u200b\u6587\u5167\u200b\u7684\u200b Backend Roadmap \u200b\u8ddf\u200b Github \u200b\u4e0a\u200b\u7684\u200b\u7565\u6709\u4e0d\u540c\u200b\uff0c\u200b\u5c0d\u200b\u65bc\u200b\u5404\u6280\u8853\u200b\u7684\u200b\u7528\u9014\u200b\u591a\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u8aaa\u660e\u200b\u3002</p> <p>Roadmap \u200b\u7684\u200b\u5718\u968a\u200b\u4e5f\u200b\u6709\u200b\u88fd\u200b\u4f5c\u200b\u4e00\u4e9b\u200b Programing Guide\uff0c\u200b\u50cf\u662f\u200b\u89e3\u91cb\u200b Character Encodings\u3001HTTP Caching\uff0c\u200b\u90fd\u200b\u5f88\u200b\u503c\u5f97\u200b\u4e00\u8b80\u200b\u3002</p> <p>Reference:</p> <ol> <li>developer-roadmap github repo</li> <li>Developer Roadmaps</li> </ol>","tags":["Roadmap"]},{"location":"blog/2020/05/20/jenkins-with-git-operation/","title":"Jenkins with Git Operation","text":"<p>\u200b\u9700\u6c42\u200b\uff1a\u200b\u5728\u200b Jenkins pipeline \u200b\u4e2d\u200b\u64cd\u4f5c\u200b repo \u200b\u505a\u200b commit \u200b\u4e26\u200b push \u200b\u56de\u200b remote\uff0c\u200b\u4f46\u200b\u9047\u5230\u200b\u9700\u8981\u200b\u767b\u5165\u200b\u7684\u200b\u554f\u984c\u200b</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u900f\u904e\u200b <code>git config --global credential.helper cache</code> \u200b\u66ab\u5b58\u200b\u767b\u5165\u200b\u8cc7\u8a0a\u200b</p> <p>Jenkins pipeline\uff1a</p> <pre><code>script{\n    sh 'git config --global credential.helper cache'\n}\ncheckout([$class: 'GitSCM', userRemoteConfigs: [[credentialsId: 'git_credential', url: \"${git_url}\"]]])\nsh \"\"\"\n    git config --local user.email \"test@mail.test\"\n    git config --local user.name \"test\"\n    git add -A\n    git commit -m \"commit by jenkins\"\n    git push\n    git config --global --unset credential.helper\n    rm -r ~/.git-credential-cache/\n\"\"\"\n}\n</code></pre> <p>\u200b\u7576\u200b\u4f7f\u7528\u200b HTTP(S) \u200b\u5b58\u53d6\u200b\u9060\u7aef\u200b Repo \u200b\u6642\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>credential.helper</code> \u200b\u907f\u514d\u200b\u6bcf\u6b21\u200b\u90fd\u200b\u8981\u200b\u91cd\u65b0\u200b\u8f38\u5165\u200b\u5bc6\u78bc\u200b\u3002\u200b\u5728\u200b Linux \u200b\u74b0\u5883\u200b\u4e0b\u200b <code>credential.helper</code> \u200b\u6709\u200b <code>cache</code> \u200b\u8207\u200b <code>store</code> \u200b\u5169\u7a2e\u200b\u6a21\u5f0f\u200b\uff0c<code>cache</code> \u200b\u6703\u200b\u66ab\u5b58\u200b\u767b\u5165\u200b\u8cc7\u8a0a\u200b\uff0c\u200b\u9810\u8a2d\u200b\u6642\u9593\u200b\u70ba\u200b 15 \u200b\u5206\u9418\u200b\uff0c\u200b\u4e26\u5c07\u200b\u8cc7\u8a0a\u200b\u5b58\u653e\u200b\u65bc\u200b <code>~/.git-credential-cache/socket</code> \u200b\u4e2d\u200b\uff1b<code>store</code> \u200b\u5247\u662f\u200b\u6703\u200b\u4ee5\u200b\u660e\u78bc\u200b\u65b9\u5f0f\u200b\u5c07\u5e33\u200b\u865f\u5bc6\u200b\u78bc\u5132\u200b\u5b58\u5728\u200b <code>~/.git-credentials</code> \u200b\u4e0b\u200b\u3002</p> <p><code>checkout</code> \u200b\u524d\u5148\u200b\u8a2d\u5b9a\u5c07\u200b global \u200b\u7684\u200b <code>credential.helper</code> \u200b\u8a2d\u70ba\u200b <code>cache</code>\uff0c\u200b\u9019\u6a23\u200b\u5373\u200b\u53ef\u4ee5\u200b\u5c07\u200b <code>checkout</code> \u200b\u7684\u200b\u767b\u5165\u200b\u8cc7\u8a0a\u200b\u66ab\u5b58\u200b\u8d77\u4f86\u200b\uff0c\u200b\u4e4b\u200b\u5f8c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u66ab\u5b58\u200b\u7684\u200b\u767b\u5165\u200b\u8cc7\u8a0a\u200b\u9032\u884c\u200b push \u200b\u7b49\u200b\u8ddf\u200b\u9060\u7aef\u200b Repo \u200b\u4e92\u52d5\u200b\u7684\u200b\u64cd\u4f5c\u200b\u3002\u200b\u96d6\u7136\u200b cache \u200b\u9810\u8a2d\u200b 15 \u200b\u5206\u9418\u200b\u5c31\u200b\u6703\u200b\u904e\u671f\u200b\uff0c\u200b\u4f46\u200b\u8003\u91cf\u200b\u5230\u200b\u5e33\u865f\u200b\u7ba1\u63a7\u200b\u554f\u984c\u200b\uff0c\u200b\u5728\u200b\u5de5\u4f5c\u200b\u5b8c\u6210\u200b\u5f8c\u200b\u4e3b\u52d5\u200b\u6e05\u9664\u200b\u6703\u200b\u662f\u200b\u4e00\u500b\u200b\u6bd4\u200b\u8f03\u200b\u597d\u200b\u7684\u200b\u505a\u6cd5\u200b\u3002</p> <p>\u200b\u5728\u200b\u641c\u5c0b\u200b\u89e3\u6cd5\u200b\u6642\u200b\u6211\u200b\u5148\u4ee5\u200b withCredentials \u200b\u505a\u200b\u70ba\u200b\u53ef\u884c\u200b\u7684\u200b\u89e3\u6c7a\u200b\u65b9\u6848\u200b\uff0c\u200b\u4f46\u200b\u6c92\u200b\u6709\u200b\u641e\u6e05\u695a\u200b\u5176\u5be6\u200b <code>withCredentials</code> \u200b\u5176\u5be6\u200b\u5c31\u200b\u53ea\u662f\u200b\u5e6b\u200b\u4f60\u200b\u628a\u200b\u8a2d\u5b9a\u200b\u7684\u200b\u8cc7\u8a0a\u200b\u53d6\u51fa\u200b\uff0c\u200b\u9084\u200b\u4e00\u76f4\u200b\u4ee5\u70ba\u200b\u5305\u5728\u200b <code>withCredentials</code> \u200b\u4e2d\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u81ea\u52d5\u200b\u767b\u5165\u200b\u9060\u7aef\u200b Repo\u3002\u200b\u96d6\u7136\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u53d6\u51fa\u200b credential \u200b\u4e2d\u200b\u7684\u200b\u5e33\u865f\u200b\u5bc6\u78bc\u200b\u5728\u200b push \u200b\u6642\u200b\u8a2d\u5b9a\u200b\uff0c\u200b\u5982\u200b\uff1a<code>git push origin https://name:password@github.com/repo.git</code>\uff0c\u200b\u4f46\u200b\u9019\u6a23\u200b\u770b\u200b\u8d77\u4f86\u200b\u5c31\u200b\u4e0d\u662f\u200b\u4e00\u500b\u200b\u5f88\u6f02\u4eae\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9084\u662f\u200b\u9078\u64c7\u200b\u4f7f\u7528\u200b\u8a2d\u5b9a\u200b <code>credential.helper</code> \u200b\u9054\u6210\u200b\u76ee\u7684\u200b\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u5982\u4f55\u200b\u900f\u904e\u200b Git Credential \u200b\u7ba1\u7406\u200b\u900f\u904e\u200b HTTP \u200b\u901a\u8a0a\u200b\u5354\u5b9a\u200b\u5b58\u53d6\u200b\u5132\u5b58\u5eab\u200b\u7684\u200b\u5e33\u865f\u200b\u5bc6\u78bc\u200b</li> <li>Is it possible to Git merge / push using Jenkins pipeline</li> <li>Git Credentials - Git SCM</li> </ol>","tags":["Jenkins","git"]},{"location":"blog/2020/05/22/https-ssl-and-tls/","title":"HTTPS, SSL and TLS","text":"<p> Source: SSL vs TLS vs SSH</p> <p>SSL \u200b\u8207\u200b TLS \u200b\u90fd\u200b\u662f\u200b\u5c07\u7db2\u8def\u200b\u50b3\u8f38\u200b\u5167\u5bb9\u200b\u52a0\u5bc6\u200b\u7684\u200b\u901a\u8a0a\u200b\u5354\u5b9a\u200b\uff0c\u200b\u5169\u8005\u200b\u6642\u5e38\u200b\u88ab\u200b\u4ea4\u66ff\u200b\u4f7f\u7528\u200b\u8868\u9054\u200b\u52a0\u5bc6\u200b\u9019\u4ef6\u200b\u4e8b\u200b\uff0c\u200b\u4f46\u200b\u7cbe\u6e96\u200b\u4f86\u200b\u8aaa\u200b SSL \u200b\u5df2\u7d93\u200b\u5728\u200b 1999 \u200b\u5e74\u200b\u88ab\u200b\u91cd\u65b0\u547d\u540d\u200b\u70ba\u200b TLS\uff0c\u200b\u4e00\u822c\u200b\u63d0\u5230\u200b SSL \u200b\u90fd\u200b\u662f\u200b\u8868\u793a\u200b TLS\u3002\u200b\u88ab\u200b TLS \u200b\u5305\u88dd\u200b\u7684\u200b HTTP \u200b\u5373\u70ba\u200b HTTPS\uff0c\u200b\u4f46\u200b TLS \u200b\u4e26\u4e0d\u50c5\u200b\u4fb7\u200b\u9650\u7528\u200b\u65bc\u200b HTTP \u200b\u4e0a\u200b\u3002</p> <p>SSL \u200b\u6709\u200b\u4ee5\u4e0b\u200b\u5e7e\u500b\u200b\u512a\u9ede\u200b\uff1a</p> <ol> <li>Source identity verification    \u200b\u9a57\u8b49\u200b\u700f\u89bd\u200b\u7684\u200b\u7db2\u9801\u200b\u662f\u200b\u6b63\u724c\u200b\u9084\u662f\u200b\u5047\u5192\u200b\u7684\u200b</li> <li>Security against Man-in-the-middle (MITM) attacks    \u200b\u9810\u9632\u200b\u4e2d\u9593\u200b\u4eba\u200b\u653b\u64ca\u200b\uff0c\u200b\u6240\u6709\u200b\u50b3\u8f38\u200b\u7684\u200b\u8cc7\u6599\u200b\u90fd\u200b\u6703\u200b\u7d93\u904e\u200b\u52a0\u5bc6\u200b\uff0c\u200b\u5373\u4f7f\u200b\u88ab\u200b\u6514\u622a\u200b\u4e5f\u200b\u7121\u6cd5\u200b\u89e3\u5bc6\u200b</li> <li>Client/Server authentication    Client \u200b\u8207\u200b Server \u200b\u53ef\u4ee5\u200b\u96d9\u5411\u200b\u8a8d\u8b49\u200b</li> <li>Non-Repudiation    SSL \u200b\u9023\u7dda\u200b\u5efa\u7acb\u200b\u5f8c\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b\u884c\u70ba\u200b\u90fd\u200b\u5177\u6709\u200b\u4e0d\u53ef\u200b\u5426\u5b9a\u6027\u200b (Non-Repudiation)\uff0c\u200b\u56e0\u70ba\u200b\u52a0\u5bc6\u200b\u78ba\u4fdd\u200b\u4e86\u200b\u5167\u5bb9\u200b\u4e0d\u6703\u200b\u88ab\u200b\u66f4\u6539\u200b</li> </ol>","tags":["Web Development","SSL"]},{"location":"blog/2020/05/22/https-ssl-and-tls/#ssl","title":"SSL \u200b\u901a\u8a0a\u6b65\u200b\u9a5f","text":"<p> Source: \u200b\u90a3\u4e9b\u200b\u95dc\u65bc\u200bSSL/TLS\u200b\u7684\u200b\u4e8c\u4e09\u200b\u4e8b\u200b(\u200b\u4e8c\u200b) \u2014 How SSL works?</p> <p>\u200b\u5171\u6709\u200b\u56db\u500b\u200b\u89d2\u8272\u200b\uff0c\u200b\u5206\u5225\u200b\u70ba\u200b Certificate Authority(CA)\u3001Browser Vender \u200b\u700f\u89bd\u5668\u200b\u5ee0\u5546\u200b\u3001Client\u3001Web Server\u3002</p> <p>\u200b\u524d\u56db\u500b\u200b\u6b65\u9a5f\u200b\u70ba\u200b SSL \u200b\u7684\u200b\u521d\u59cb\u5316\u200b\u4f5c\u696d\u200b\uff0c\u200b\u4e4b\u5f8c\u624d\u200b\u662f\u200b Client \u200b\u8207\u200b Server \u200b\u505a\u200b SSL \u200b\u901a\u8a0a\u200b\u3002</p> <ol> <li>CA \u200b\u767c\u884c\u200b\u516c\u9470\u7d66\u200b\u5404\u5927\u200b\u700f\u89bd\u5668\u200b\u5ee0\u5546\u200b</li> <li>\u200b\u700f\u89bd\u5668\u200b\u5ee0\u200b\u5546\u5c07\u200b\u5404\u200b CA \u200b\u7684\u200b\u516c\u9470\u200b\u9644\u200b\u5728\u200b\u700f\u89bd\u5668\u200b\u4e0a\u200b\uff0c\u200b\u8b93\u200b\u4f7f\u7528\u8005\u200b\u53ef\u4ee5\u200b\u53d6\u5f97\u200b</li> <li>Server \b\u200b\u64c1\u6709\u8005\u200b\u5411\u200b CA \u200b\u7533\u8acb\u200b\u6191\u8b49\u200b\uff0c\u200b\u7d81\u5b9a\u200b Domain Name\uff0c\u200b\u6191\u8b49\u5340\u200b\u5206\u200b\u4e0d\u540c\u200b\u7b49\u7d1a\u200b\uff0c\u200b\u8981\u200b\u7e73\u4ea4\u200b\u7684\u200b\u9a57\u8b49\u200b\u8cc7\u6599\u200b\u8207\u200b\u8cbb\u7528\u200b\u4e5f\u200b\u6709\u6240\u4e0d\u540c\u200b\uff0c\u200b\u4e5f\u200b\u6709\u200b\u514d\u8cbb\u200b\u7684\u200b\u6191\u8b49\u200b\u53ef\u4ee5\u200b\u7533\u8acb\u200b\uff0c\u200b\u5982\u200b\uff1aLet's Encrypt</li> <li>\u200b\u5c07\u200b CA \u200b\u6838\u767c\u200b\u7684\u200b\u6191\u8b49\u200b\u8a2d\u5b9a\u200b\u5728\u200b Server \u200b\u7684\u200b config \u200b\u4e2d\u200b</li> <li>Client \u200b\u767c\u8d77\u200b SSL \u200b\u901a\u8a0a\u200b</li> <li>Server \u200b\u56de\u8986\u200b CA \u200b\u6838\u767c\u200b\u7684\u200b\u6191\u8b49\u200b</li> <li>Client \u200b\u6839\u64da\u200b\u9644\u200b\u5728\u200b\u700f\u89bd\u5668\u200b\u4e0a\u200b CA \u200b\u7684\u200b\u516c\u9470\u9a57\u8b49\u200b\u662f\u5426\u662f\u200b\u5408\u6cd5\u200b\u7684\u200b\u6191\u8b49\u200b</li> </ol>","tags":["Web Development","SSL"]},{"location":"blog/2020/05/22/https-ssl-and-tls/#_1","title":"\u6191\u8b49\u200b\u7c3d\u767c","text":"<p>\u200b\u6191\u8b49\u200b\u53ef\u4ee5\u200b\u5206\u70ba\u200b CA \u200b\u7c3d\u767c\u200b\u8207\u200b\u81ea\u7c3d\u200b\u5169\u7a2e\u200b</p> <p>\u200b\u5e38\u898b\u200b\u7684\u200b CA \u200b\u6e05\u55ae\u200b\u53ef\u4ee5\u200b\u53c3\u8003\u200b Top 9 Best SSL Certificate Authority List &amp; SSL Certificate Brands\uff0c\u200b\u4f8b\u5982\u200b\u8cfd\u9580\u200b\u9435\u514b\u200b(Symantec)\u200b\u4e5f\u200b\u6709\u200b\u5728\u200b\u505a\u200b\u6191\u8b49\u200b\u7c3d\u767c\u200b\u3002SSL \u200b\u7684\u200b\u5b89\u5168\u6027\u200b\u662f\u200b\u5efa\u7acb\u200b\u5728\u200b CA \u200b\u6240\u200b\u767c\u884c\u200b\u7684\u200b\u6191\u8b49\u200b\uff0c\u200b\u82e5\u200b CA \u200b\u767c\u884c\u200b\u932f\u8aa4\u200b\u6216\u200b\u6709\u200b\u554f\u984c\u200b\u7684\u200b\u6191\u200b\u8b49\u5c07\u200b\u7121\u6cd5\u200b\u4fdd\u8b49\u200b SSL \u200b\u6240\u200b\u63d0\u4f9b\u200b\u7684\u200b\u5b89\u5168\u6027\u200b\uff0c\u200b\u5982\u4e2d\u570b\u200b\u7684\u200b CNNIC \u200b\u5728\u200b 2015 \u200b\u5e74\u200b\u88ab\u200b\u767c\u73fe\u200b\u767c\u884c\u200b\u4e86\u200b Google \u200b\u57df\u540d\u200b\u7684\u200b\u5047\u200b\u6191\u8b49\u200b\u3001\u200b\u4e2d\u570b\u200b\u7684\u200b WoSign \u200b\u6240\u200b\u767c\u884c\u200b\u7684\u200b\u6191\u200b\u8b49\u6709\u200b\u63a7\u7ba1\u200b\u4e0a\u200b\u7684\u200b\u554f\u984c\u200b\u88ab\u200b Apple \u200b\u5c01\u9396\u200b (\u200b\u5c01\u9396\u200b\u5c0d\u200b WoSign CA Free SSL Certificate G2 \u200b\u7684\u200b\u4fe1\u4efb\u200b)\u3002</p> <p>\u200b\u53e6\u5916\u200b\u4e00\u7a2e\u200b\u662f\u200b\u81ea\u7c3d\u200b\u6191\u8b49\u200b\uff0c\u200b\u901a\u5e38\u200b\u7528\u200b\u65bc\u200b\u5c01\u200b\u9589\u5f0f\u200b\u7db2\u7ad9\u200b\u6216\u200b\u7528\u200b\u65bc\u200b\u958b\u767c\u200b\u74b0\u5883\u200b\uff0c\u200b\u4f7f\u7528\u200b OpenSSL \u200b\u81ea\u884c\u200b\u7c3d\u767c\u200b\u6191\u8b49\u200b\uff0c\u200b\u518d\u5c07\u200b\u6191\u200b\u8b49\u5b89\u88dd\u200b\u5230\u200b\u4f7f\u7528\u8005\u200b\u7684\u200b\u700f\u89bd\u5668\u200b\u6216\u200b\u958b\u767c\u200b\u74b0\u5883\u200b\u4e2d\u200b\u3002OpenSSL \u200b\u7684\u200b\u6191\u8b49\u200b\u7c3d\u767c\u200b\u8207\u200b\u4f7f\u7528\u200b\u53ef\u4ee5\u200b\u53c3\u8003\u200b \u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b OpenSSL \u200b\u5efa\u7acb\u200b\u958b\u767c\u200b\u6e2c\u8a66\u200b\u7528\u9014\u200b\u7684\u200b\u81ea\u7c3d\u200b\u6191\u8b49\u200b (Self-Signed Certificate)\u3002</p>","tags":["Web Development","SSL"]},{"location":"blog/2020/05/22/https-ssl-and-tls/#_2","title":"\u6191\u8b49\u200b\u72c0\u614b","text":"<p>\u200b\u5728\u200b 2018/10 \u200b\u7684\u200b Chrome 70 \u200b\u4e4b\u200b\u5f8c\u200b\u6240\u6709\u200b HTTP \u200b\u7684\u200b\u7db2\u9801\u200b\u5728\u200b\u7db2\u5740\u200b\u5217\u200b\u90fd\u200b\u6703\u200b\u88ab\u200b\u6a19\u793a\u200b\u300c\u200b\u4e0d\u200b\u5b89\u5168\u200b\u300d\uff0c\u200b\u800c\u200b HTTPS \u200b\u6703\u6709\u200b\u4e00\u500b\u200b\u9396\u982d\u200b icon\u3002\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b badssl.com \u200b\u67e5\u770b\u200b\u5728\u200b\u700f\u89bd\u5668\u200b\u4e0a\u200b\u7684\u200b\u6548\u679c\u200b\uff0c\u200b\u8a72\u200b\u7db2\u7ad9\u200b\u4e86\u200b\u6a21\u64ec\u200b\u6191\u8b49\u200b\u7684\u200b\u5404\u7a2e\u200b\u72c0\u6cc1\u200b\uff0c\u200b\u5982\u904e\u671f\u200b\u3001\u200b\u932f\u8aa4\u200b\u7684\u200b host \u200b\u7b49\u7b49\u200b\u3002</p> <p>\u200b\u7db2\u7ad9\u200b\u82e5\u200b\u6709\u200b\u6191\u8b49\u200b\u9700\u6ce8\u610f\u200b\u6191\u8b49\u200b\u662f\u5426\u200b\u5230\u671f\u200b\uff0c\u200b\u907f\u514d\u200b\u767c\u751f\u200b\u5982\u200b \u200b\u4e2d\u570b\u200b Tesla \u200b\u6191\u8b49\u200b\u904e\u671f\u200b\u5c0e\u81f4\u200b\u8eca\u5b50\u200b\u7121\u6cd5\u200b\u555f\u52d5\u200b \u200b\u9019\u985e\u200b\u4e8b\u4ef6\u200b\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u90a3\u4e9b\u200b\u95dc\u65bc\u200bSSL/TLS\u200b\u7684\u200b\u4e8c\u4e09\u200b\u4e8b\u200b(\u200b\u4e00\u200b) \u2014 Why SSL/TLS?</li> <li>\u200b\u90a3\u4e9b\u200b\u95dc\u65bc\u200bSSL/TLS\u200b\u7684\u200b\u4e8c\u4e09\u200b\u4e8b\u200b(\u200b\u4e8c\u200b) \u2014 How SSL works?</li> <li>\u200b\u90a3\u4e9b\u200b\u95dc\u65bc\u200bSSL/TLS\u200b\u7684\u200b\u4e8c\u4e09\u200b\u4e8b\u200b(\u200b\u4e09\u200b) \u2014 \u200b\u7d66\u8ab0\u7c3d\u200b?</li> <li>\u200b\u5982\u4f55\u200b\u5c0d\u6297\u200b DNS \u200b\u52ab\u6301\u200b?</li> </ol>","tags":["Web Development","SSL"]},{"location":"blog/2020/05/25/majority-element/","title":"Majority Element","text":"<p>169. Majority Element</p> <pre><code>class Solution:\n    def majorityElement(self, nums: List[int]) -&gt; int:\n        count_map = {}\n        max_count = 0\n        majority = None\n        for num in nums:\n            cur_count = count_map.get(num, 0) + 1\n            count_map[num] = cur_count\n            if cur_count &gt; max_count:\n                majority = num\n                max_count = cur_count\n        return majority\n</code></pre> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 169. Majority Element - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP101</li> </ol>","tags":[]},{"location":"blog/2020/05/26/how-we-implemented-red-and-use-metrics-for-monitoring/","title":"How we implemented RED and USE metrics for monitoring","text":"<p>How we implemented RED and USE metrics for monitoring</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7d39\u200b Monitoring \u200b\u7684\u200b\u57fa\u672c\u200b\u77e5\u8b58\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u8aaa\u660e\u200b\u4ed6\u5011\u200b\u5f9e\u200b\u539f\u672c\u200b\u7684\u200b\u5de5\u5177\u200b\u9077\u200b\u79fb\u81f3\u200b Prometheus \u200b\u8ddf\u200b Grafana \u200b\u7684\u200b\u539f\u56e0\u200b\u3002</p> <p>The Four Golden Signals\uff0c\u200b\u56db\u9805\u200b\u7531\u200b Google \u200b\u63d0\u51fa\u200b\u7684\u200b\u7cfb\u7d71\u200b\u76e3\u63a7\u200b\u6307\u6a19\u200b\uff0c\u200b\u51fa\u81ea\u200b Site Reliability Engineering: How Google Runs Production Systems Monitoring Distributed Systems \u200b\u7ae0\u7bc0\u200b\uff1a</p> <ol> <li>Latency : \u200b\u6bcf\u500b\u200b request \u200b\u57f7\u884c\u200b\u7684\u200b\u6642\u9593\u200b</li> <li>Traffic : \u200b\u6709\u200b\u591a\u5c11\u200b\u6d41\u91cf\u200b\u5728\u200b\u4f7f\u7528\u200b\u7cfb\u7d71\u200b</li> <li>Errors : \u200b\u932f\u8aa4\u200b\u7684\u200b\u6bd4\u7387\u200b</li> <li>Saturation : \u200b\u7cfb\u7d71\u200b\u7684\u200b\u98fd\u548c\u5ea6\u200b\uff0c\u200b\u96e2\u7cfb\u7d71\u200b\u8cc7\u6e90\u8017\u200b\u76e1\u591a\u8fd1\u200b</li> </ol> <p>\u200b\u4f5c\u8005\u200b\u7684\u200b\u5718\u968a\u200b\u4e26\u6c92\u6709\u200b\u76f4\u63a5\u200b\u9078\u7528\u200b The Four Golden Signals\uff0c\u200b\u800c\u662f\u200b\u9078\u7528\u200b\u5f9e\u200b\u9019\u56db\u9ede\u200b\u884d\u751f\u200b\u51fa\u4f86\u200b\u7684\u200b RED Method \u200b\u8207\u200b USE Method\u3002</p> <p>RED Method\uff0c\u200b\u4e3b\u8981\u200b\u61c9\u7528\u200b\u65bc\u200b\u5fae\u670d\u200b\u52d9\u67b6\u69cb\u200b\u4e2d\u200b\uff0c\u200b\u95dc\u6ce8\u200b\u670d\u52d9\u200b\u7684\u200b\u72c0\u614b\u200b\uff1a</p> <ol> <li>Rate: \u200b\u6bcf\u79d2\u200b\u670d\u52d9\u200b\u6536\u5230\u200b\u7684\u200b request</li> <li>Error: \u200b\u6bcf\u79d2\u200b\u5931\u6557\u200b\u7684\u200b request \u200b\u6578\u91cf\u200b</li> <li>Duration: \u200b\u6bcf\u500b\u200b request \u200b\u57f7\u884c\u200b\u7684\u200b\u6642\u9593\u200b</li> </ol> <p>\u200b\u4e09\u500b\u200b\u6307\u6a19\u200b\u975e\u5e38\u200b\u76f4\u89c0\u200b\uff0c\u200b\u57fa\u672c\u4e0a\u200b\u6240\u6709\u200b\u5fae\u670d\u200b\u52d9\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u6e2c\u91cf\u200b\u9019\u4e09\u500b\u200b\u6307\u6a19\u200b\u3002\u200b\u6709\u200b\u5171\u540c\u200b\u7684\u200b\u6307\u6a19\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u76f8\u540c\u200b\u7684\u200b\u7ba1\u7406\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u5f9e\u200b\u76e3\u63a7\u200b\u65b9\u5f0f\u200b\u5230\u200b\u7dad\u904b\u7d44\u200b\u7684\u200b\u61c9\u200b\u5c0d\u200b\u65b9\u6848\u200b\u7684\u200b\u8a2d\u8a08\u200b\u3002\u200b\u964d\u4f4e\u200b\u7dad\u904b\u200b\u7684\u200b\u8907\u200b\u96dc\u200b\u6027\u80fd\u200b\u5920\u6e1b\u200b\u8f15\u200b\u8a8d\u77e5\u200b\u8ca0\u8377\u200b(cognitive load)\uff0c\u200b\u907f\u514d\u200b\u5728\u200b\u9ad8\u58d3\u200b\u7684\u200b\u74b0\u5883\u200b\u4e0b\u5c0e\u81f4\u200b\u66f4\u200b\u56b4\u91cd\u200b\u7684\u200b\u932f\u8aa4\u200b\u3002</p> <p>USE Method \u200b\u95dc\u6ce8\u200b infrastructure \u200b\u7684\u200b\u72c0\u614b\u200b\uff0c\u200b\u5982\u200b\u7db2\u8def\u200b\u3001CPU\u3001\u200b\u8a18\u61b6\u9ad4\u200b\u7528\u91cf\u200b\u7b49\u200b\uff1a</p> <ol> <li>Utilization: \u200b\u8cc7\u6e90\u200b\u7684\u200b\u4f7f\u7528\u91cf\u200b</li> <li>Saturation: \u200b\u8cc7\u6e90\u200b\u4f7f\u7528\u200b\u7684\u200b\u98fd\u200b\u548c\u200b\u7a0b\u5ea6\u200b</li> <li>Errors: \u200b\u932f\u8aa4\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u6578\u91cf\u200b</li> </ol> <p>\u200b\u900f\u904e\u200b USE Method \u200b\u53ef\u4ee5\u200b\u767c\u73fe\u200b\u7cfb\u7d71\u200b\u4e0a\u200b\u7684\u200b\u74f6\u200b\u9838\u200b\uff0c\u200b\u518d\u200b\u63a1\u53d6\u200b\u9069\u7576\u200b\u7684\u200b\u63aa\u65bd\u200b\uff0c\u200b\u5982\u8abf\u200b\u6574\u7cfb\u7d71\u200b\u53c3\u6578\u200b\u6216\u200b\u589e\u52a0\u200b\u8cc7\u6e90\u200b\u3002</p> <p>\u200b\u5728\u200b\u9077\u200b\u79fb\u81f3\u200b\u65b0\u200b\u7684\u200b\u76e3\u63a7\u7cfb\u200b\u7d71\u6642\u200b\u4ed6\u5011\u200b\u9762\u81e8\u200b\u5230\u200b\u5169\u500b\u200b\u6311\u6230\u200b\uff1a</p> <ol> <li>\u200b\u56e0\u70ba\u200b\u4ed6\u5011\u200b\u7684\u200b\u76e3\u63a7\u200b\u7cfb\u7d71\u200b\u662f\u200b Container Based\uff0c\u200b\u4f46\u200b Container \u200b\u539f\u751f\u200b\u6c92\u6709\u200b\u63d0\u4f9b\u200b persistent storage\uff0c\u200b\u56e0\u6b64\u200b\u4ed6\u5011\u200b\u9078\u7528\u200b\u4e86\u200b REX-Ray \u200b\u8b93\u200b Docker \u200b\u80fd\u200b\u6709\u200b persistent storage\u3002\u200b\u4e0d\u904e\u200b\u6211\u200b\u8a8d\u70ba\u200b\u9019\u500b\u200b\u554f\u984c\u200b\u5728\u200b K8s \u200b\u4f7f\u7528\u200b persistent volume \u200b\u61c9\u8a72\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u89e3\u6c7a\u200b\u4e86\u200b\u3002</li> <li>Grafana \u200b\u539f\u751f\u200b\u6c92\u6709\u200b\u63d0\u4f9b\u200b API \u200b\u53ef\u4ee5\u200b\u5efa\u7acb\u200b Dashboard \u200b\u8207\u200b\u8a2d\u5b9a\u200b alerts\uff0c\u200b\u9019\u7522\u751f\u200b\u4e86\u200b\u5927\u91cf\u200b\u7684\u200b\u624b\u52d5\u200b\u8a2d\u5b9a\u200b\u5de5\u4f5c\u200b\u3002grafanalib \u200b\u9019\u500b\u200b python \u200b\u7684\u200b package \u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u7528\u200b python script \u200b\u8a2d\u5b9a\u200b\u8207\u200b\u7248\u63a7\u200b Grafana Dashboard\u3002</li> </ol>","tags":["SRE"]},{"location":"blog/2020/05/27/move-all-files-including-hidden/","title":"Move all files including hidden","text":"<p>\u200b\u9700\u6c42\u200b\uff1a\u200b\u642c\u79fb\u200b\u6307\u5b9a\u200b\u8cc7\u6599\u200b\u593e\u4e2d\u200b\u7684\u200b\u6a94\u6848\u200b\uff0c\u200b\u540c\u6642\u200b\u5305\u62ec\u200b\u96b1\u85cf\u200b\u7684\u200b\u6a94\u6848\u200b</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u4f7f\u7528\u200b bash \u200b\u7684\u200b <code>shopt</code> \u200b\u8a2d\u5b9a\u200b dotglob \u200b\u8ddf\u200b nullglob \u200b\u8b93\u200b wildcard \u200b\u53ef\u4ee5\u200b\u53d6\u200b\u5230\u200b <code>.</code> \u200b\u958b\u982d\u200b\u7684\u200b\u6a94\u6848\u200b </p> <pre><code>shopt -s dotglob nullglob\nmv Foo/* Bar/\n</code></pre> <p>How do you move all files (including hidden) from one directory to another? \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5176\u4ed6\u200b\u5404\u7a2e\u200b\u4e0d\u540c\u200b shell \u200b\u7684\u200b\u89e3\u6cd5\u200b\u3002</p> <p>\u200b\u5728\u200b Jenkins Pipeline \u200b\u4e2d\u82e5\u8981\u200b\u4f7f\u7528\u200b bash \u200b\u9700\u8981\u200b\u5728\u200b <code>sh</code> \u200b\u6307\u4ee4\u200b\u4e2d\u200b\u6307\u5b9a\u200b interpreter\uff0cJenkins Pipeline Doc\u3002</p> <pre><code>node {\n    sh \"\"\"#!/bin/bash\n        shopt -s dotglob nullglob\n        mv Foo/* Bar/\n    \"\"\"\n}\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\u4e00\u5b9a\u200b\u8981\u200b\u8a2d\u5b9a\u200b\u70ba\u200b <code>\"\"\"#!/bin/bash</code>\uff0c\u200b\u9019\u6a23\u200b\u9019\u4efd\u200b shell \u200b\u7684\u200b\u7b2c\u4e00\u884c\u200b\u624d\u200b\u662f\u200b\u8a2d\u5b9a\u200b interpreter\u3002</p> <p>Reference:</p> <ol> <li>How do you move all files (including hidden) from one directory to another?</li> </ol>","tags":["Unix","Jenkins"]},{"location":"blog/2020/05/30/python-package-include-command-line-tools/","title":"Python package include command line tools","text":"<p>\u200b\u8a31\u591a\u200b Python package \u200b\u90fd\u200b\u6703\u200b\u9644\u5e36\u200b command line tools\uff0c\u200b\u5982\u200b cookiecutter \u200b\u5b89\u88dd\u200b\u5f8c\u200b\u57f7\u884c\u200b\u662f\u200b\u76f4\u63a5\u200b\u57f7\u884c\u200b <code>cookiecutter [template]</code>\u3002command line tools \u200b\u53ef\u4ee5\u200b\u8b93\u200b\u4f7f\u7528\u8005\u200b\u66f4\u200b\u7c21\u4fbf\u200b\u5730\u200b\u4f7f\u7528\u200b package\uff0c\u200b\u800c\u200b\u4e0d\u7528\u200b\u6d89\u53ca\u200b\u4efb\u4f55\u200b python \u200b\u76f8\u95dc\u200b\u77e5\u8b58\u200b\u3002</p> <p>python \u200b\u7684\u200b command line tools \u200b\u5171\u6709\u200b <code>scripts</code> \u200b\u8207\u200b <code>console_scripts</code> \u200b\u5169\u7a2e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8a2d\u5b9a\u200b\u5728\u200b package \u200b\u7684\u200b <code>setup.py</code> \u200b\u4e2d\u200b\u3002</p>","tags":["Python"]},{"location":"blog/2020/05/30/python-package-include-command-line-tools/#scripts","title":"scripts","text":"<p><code>scripts</code> \u200b\u64b0\u5beb\u200b\u4e00\u500b\u200b\u7368\u7acb\u200b\u7684\u200b shell script\uff1a</p> <pre><code>funniest/\n    funniest/\n        __init__.py\n        ...\n    setup.py\n    bin/\n        funniest-joke\n    ...\n</code></pre> <p><code>funniest-joke</code> \u200b\u6a94\u6848\u200b\u5982\u4e0b\u200b\uff0c\u200b\u900f\u904e\u200b\u8a2d\u5b9a\u200b interpreter \u200b\u7684\u200b\u65b9\u5f0f\u200b\u57f7\u884c\u200b python script</p> <pre><code>#!/usr/bin/env python\n\nimport funniest\nprint funniest.joke()\n</code></pre> <p>\u200b\u5728\u200b <code>setup.py</code> \u200b\u4e2d\u200b\u8a2d\u5b9a\u200b\u70ba\u200b\uff1a</p> <pre><code>setup(\n    ...\n    scripts=['bin/funniest-joke'],\n    ...\n)\n</code></pre> <p>\u200b\u5b89\u88dd\u200b\u8a72\u200b package \u200b\u6642\u6703\u200b\u8907\u200b\u88fd\u200b script \u200b\u5230\u200b PATH \u200b\u4e2d\u200b\uff0c\u200b\u5c31\u200b\u80fd\u200b\u4ee5\u200b\u4e00\u822c\u200b command tool \u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f7f\u7528\u200b\uff1a</p> <pre><code>$ funniest-joke\n</code></pre> <p>\u200b\u56e0\u70ba\u200b <code>scripts</code> \u200b\u5176\u5be6\u200b\u5c31\u662f\u200b\u4e00\u500b\u200b shell\uff0c\u200b\u6240\u4ee5\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u55ae\u7d14\u200b\u5beb\u200b\u4e00\u500b\u200b shell \u200b\u6216\u662f\u200b\u5b9a\u7fa9\u200b\u5176\u4ed6\u200b\u7684\u200b interpreter\uff0c\u200b\u4e5f\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u8981\u200b\u57f7\u884c\u200b python script\u3002</p>","tags":["Python"]},{"location":"blog/2020/05/30/python-package-include-command-line-tools/#console_scripts","title":"console_scripts","text":"<p><code>console_scripts</code> \u200b\u8b93\u200b python function \u200b\u88ab\u200b\u8a3b\u200b\u518a\u200b\u6210\u200b\u4e00\u200b\u500b\u200b command line tool\uff0cpackage \u200b\u7d50\u69cb\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>funniest/\n    funniest/\n        __init__.py\n        command_line.py\n        ...\n    setup.py\n    ...\n</code></pre> <p><code>command_line.py</code> \u200b\u4e2d\u5b9a\u200b\u7fa9\u8981\u200b\u7528\u200b command line tool \u200b\u57f7\u884c\u200b\u7684\u200b <code>main</code> function\uff1a</p> <pre><code>import funniest\n\ndef main():\n    print funniest.joke()\n</code></pre> <p>\u200b\u5728\u200b <code>setup.py</code> \u200b\u4e2d\u200b\u8a2d\u5b9a\u200b\u70ba\u200b\uff1a</p> <pre><code>setup(\n    ...\n    entry_points = {\n        'console_scripts': ['funniest-joke=funniest.command_line:main'],\n    }\n    ...\n)\n</code></pre> <p>\u200b\u5b89\u88dd\u200b\u8a72\u200b package \u200b\u6642\u6703\u200b\u751f\u6210\u200b\u4e00\u500b\u200b <code>shim</code> script\uff0c\u200b\u57f7\u884c\u200b <code>command_line.py</code> \u200b\u4e26\u200b\u547c\u53eb\u200b <code>main</code> function\uff0c\u200b\u4e00\u6a23\u200b\u4ee5\u200b\u4e00\u822c\u200b command tool \u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f7f\u7528\u200b\uff1a</p> <pre><code>$ funniest-joke\n</code></pre> <p>Reference:</p> <ol> <li>python-packaging: Command Line Scripts</li> </ol>","tags":["Python"]},{"location":"blog/2020/06/01/pseudo-palindromic-paths-in-a-binary-tree/","title":"Pseudo-Palindromic Paths in a Binary Tree","text":"<p>1457. Pseudo-Palindromic Paths in a Binary Tree</p> <p>\u200b\u8a08\u7b97\u200b Binary Tree \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u6392\u5217\u200b\u51fa\u200b\u56de\u6587\u200b\u7684\u200b\u8def\u5f91\u200b\u3002\u200b\u5982\u679c\u200b\u8981\u200b\u80fd\u5920\u200b\u6392\u5217\u200b\u70ba\u200b\u56de\u6587\u200b\u7684\u200b\u8a71\u200b\uff0c\u200b\u6bcf\u500b\u200b\u6578\u5b57\u200b\u90fd\u200b\u662f\u200b\u5076\u6578\u500b\u200b\u6216\u200b\u53ea\u6709\u200b\u4e00\u500b\u200b\u6578\u5b57\u200b\u662f\u200b\u5947\u6578\u500b\u200b\u3002</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, val=0, left=None, right=None):\n#         self.val = val\n#         self.left = left\n#         self.right = right\n</code></pre>","tags":["Tree","Bitwise"]},{"location":"blog/2020/06/01/pseudo-palindromic-paths-in-a-binary-tree/#_1","title":"\u8a08\u6578\u89e3","text":"<pre><code>class Solution:\n    def pseudoPalindromicPaths(self, root: TreeNode) -&gt; int:\n        count = [0 for _ in range(9)] # \u200b\u5171\u7528\u200b\u7684\u200b\u8a08\u6578\u200b table\n\n        def solve(node: TreeNode) -&gt; int:\n            if node is None:\n                return 0\n            count[node.val - 1] += 1\n            c = 0\n            if node.left is None and node.right is None:\n                # leaf node\uff0c\u200b\u5224\u65b7\u200b\u662f\u5426\u200b\u7b26\u5408\u200b\u56de\u6587\u200b\u689d\u4ef6\u200b\n                odd = 0\n                for i in range(9):\n                    if count[i] % 2 == 1:\n                        odd += 1\n                if odd &lt;= 1:\n                    c = 1\n            l = solve(node.left) # \u200b\u8a08\u7b97\u200b\u5de6\u908a\u200b\n            r = solve(node.right) # \u200b\u8a08\u7b97\u200b\u53f3\u908a\u200b\n            count[node.val - 1] -= 1 # \u200b\u56e0\u70ba\u200b\u662f\u200b\u5171\u7528\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8981\u200b\u56de\u200b\u5fa9\u200b\u539f\u72c0\u200b\n            return c + l + r\n\n        return solve(root)\n</code></pre>","tags":["Tree","Bitwise"]},{"location":"blog/2020/06/01/pseudo-palindromic-paths-in-a-binary-tree/#bitwise","title":"Bitwise \u200b\u89e3","text":"<p>\u200b\u5176\u5be6\u4e26\u200b\u4e0d\u200b\u9700\u8981\u200b\u8a08\u7b97\u200b\u6bcf\u500b\u200b\u7684\u200b\u6578\u91cf\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u77e5\u9053\u200b\u5947\u5076\u200b\u7684\u200b\u72c0\u614b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b XOR(<code>^</code>) \u200b\u4f86\u200b\u64cd\u4f5c\u200b\u72c0\u614b\u200b\u8b8a\u5316\u200b\u3002</p> <p>0\uff08\u200b\u5076\u200b\uff09 ^ 1 == 1\uff08\u200b\u5947\u200b\uff09\uff1b1\uff08\u200b\u5947\u200b\uff09 ^ 1 == 0\uff08\u200b\u5076\u200b\uff09</p> <p>000000000 ^= (1 &lt;&lt; n)\uff0c\u200b\u7b2c\u200b n \u200b\u500b\u200b\u6578\u5b57\u200b\u7684\u200b\u5947\u5076\u200b\u8b8a\u63db\u200b</p> <pre><code>class Solution:\n    def pseudoPalindromicPaths(self, root: TreeNode) -&gt; int:\n        def solve(root: TreeNode, s: int) -&gt; int:\n            if root is None:\n                return 0\n            s ^= 1 &lt;&lt; root.val\n            ans = 0\n            if root.left is None and root.right is None:\n                if bin(s).count(\"1\") &lt;= 1: # \u200b\u8f49\u70ba\u200b binary \u200b\u5f8c\u200b\u8a08\u7b97\u200b 1\uff08\u200b\u5947\u200b\uff09\u200b\u7684\u200b\u6578\u91cf\u200b\n                    ans += 1\n            ans += solve(root.left, s) # \u200b\u7b97\u200b\u5de6\u908a\u200b\n            ans += solve(root.right, s) # \u200b\u7b97\u53f3\u908a\u200b\n            # \u200b\u8207\u200b\u4e0a\u9762\u200b\u89e3\u6cd5\u200b\u76f8\u6bd4\u200b\uff0c\u200b\u56e0\u70ba\u200b\u662f\u200b int \u200b\u6240\u4ee5\u200b\u662f\u200b call by value\n            # \u200b\u6bcf\u500b\u200b\u905e\u200b\u8ff4\u200b\u6703\u200b\u62ff\u5230\u200b\u81ea\u5df1\u200b\u7684\u200b\u4e00\u4efd\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u7528\u200b\u5171\u7528\u200b\u8207\u200b\u5fa9\u200b\u539f\u200b\n            return ans\n\n        return solve(root, 0) # s \u200b\u521d\u59cb\u200b\u70ba\u200b 0 == 000000000\n</code></pre> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 1457. Pseudo-Palindromic Paths in a Binary Tree - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP329</li> </ol>","tags":["Tree","Bitwise"]},{"location":"blog/2020/06/02/why-were-writing-machine-learning-infrastructure-in-go-not-python/","title":"Why we\u2019re writing machine learning infrastructure in Go, not Python","text":"<p>Why we\u2019re writing machine learning infrastructure in Go, not Python</p> <p>Cortex \u200b\u662f\u200b\u4e00\u500b\u200b\u63d0\u4f9b\u200b ML \u200b\u670d\u52d9\u200b\u7684\u200b Infra\uff0c\u200b\u652f\u63f4\u200b\u591a\u7a2e\u200b\u4e0d\u540c\u200b\u6846\u67b6\u200b TensorFlow\u3001PyTorch\u3001scikit-learn \u200b\u7b49\u200b\uff0c\u200b\u4e26\u200b\u63d0\u4f9b\u200b autoscaling\u3001rolling updates\u3001log \u200b\u7ba1\u7406\u200b\u7b49\u200b\u3002\u200b\u5e73\u53f0\u200b\u6709\u200b 87.5% \u200b\u4f7f\u7528\u200b Go \u200b\u7de8\u5beb\u200b\uff0c\u200b\u672c\u7bc7\u200b\u6587\u7ae0\u200b\u8aaa\u660e\u200b\u9078\u64c7\u200b Go \u200b\u7684\u200b\u539f\u56e0\u200b\u3002</p>","tags":["Go"]},{"location":"blog/2020/06/02/why-were-writing-machine-learning-infrastructure-in-go-not-python/#1-concurrency-is-crucial-for-machine-learning-infrastructure","title":"1. Concurrency is crucial for machine learning infrastructure","text":"<p>\u200b\u4f7f\u7528\u8005\u200b\u50c5\u900f\u904e\u200b Cortex \u200b\u90e8\u7f72\u200b\u670d\u52d9\u200b\uff0c\u200b\u4e26\u4e0d\u6703\u200b\u771f\u6b63\u200b\u63a5\u89f8\u200b\u5230\u200b\u670d\u52d9\u200b\u90e8\u7f72\u200b\u7684\u200b API\uff0c\u200b\u5982\u200b K8s API \u200b\u6216\u200b AWS API\uff0c\u200b\u9019\u4e9b\u200b\u90e8\u7f72\u200b\u8207\u200b\u76e3\u63a7\u200b\u7684\u200b API \u200b\u64cd\u4f5c\u200b\u90fd\u200b\u7531\u200b Cortex \u200b\u8655\u7406\u200b\u3002\u200b\u5927\u91cf\u200b\u7684\u200b API \u200b\u64cd\u4f5c\u200b\u6240\u7522\u751f\u200b\u7684\u200b\u4f75\u200b\u767c\u200b\u53ef\u80fd\u200b\u6703\u5c0e\u81f4\u200b race condition \u200b\u4ee5\u53ca\u200b\u6548\u80fd\u200b\u554f\u984c\u200b\uff0cGo \u200b\u63d0\u4f9b\u200b\u7684\u200b Goroutines \u200b\u80fd\u5920\u200b\u6709\u6548\u200b\u7ba1\u7406\u200b threads\u3002</p>","tags":["Go"]},{"location":"blog/2020/06/02/why-were-writing-machine-learning-infrastructure-in-go-not-python/#2-building-a-cross-platform-cli-is-easier-in-go","title":"2. Building a cross-platform CLI is easier in Go","text":"<p>Go \u200b\u53ef\u4ee5\u200b\u6839\u64da\u200b\u4e0d\u540c\u200b\u74b0\u5883\u200b\u7de8\u8b6f\u200b Binary \u200b\u57f7\u884c\u200b\u6a94\u200b\uff0c\u200b\u4e0d\u518d\u200b\u9700\u8981\u200b\u64d4\u5fc3\u200b\u76f8\u4f9d\u200b\u5957\u4ef6\u200b\u6216\u662f\u200b\u57f7\u884c\u200b\u74b0\u5883\u200b\u3002</p>","tags":["Go"]},{"location":"blog/2020/06/02/why-were-writing-machine-learning-infrastructure-in-go-not-python/#3-the-go-ecosystem-is-great-for-infrastructure-projects","title":"3. The Go ecosystem is great for infrastructure projects","text":"<p>\u200b\u8a31\u591a\u200b\u7684\u200b Infra projects \u200b\u90fd\u200b\u9069\u7528\u200b Go \u200b\u64b0\u5beb\u200b\uff0c\u200b\u5982\u200b kubectl\u3001minikube\u3001helm\u3001kops \u200b\u7b49\u200b\u3002</p>","tags":["Go"]},{"location":"blog/2020/06/02/why-were-writing-machine-learning-infrastructure-in-go-not-python/#4-go-is-just-a-pleasure-to-work-with","title":"4. Go is just a pleasure to work with","text":"<p>\u200b\u8207\u200b Python \u200b\u76f8\u6bd4\u200b Go \u200b\u76f8\u5c0d\u200b\u96e3\u200b\u4e0a\u200b\u624b\u200b\u4e86\u200b\u4e00\u9ede\u200b\uff0c\u200b\u4f46\u200b\u5f37\u578b\u200b\u5225\u200b\u8207\u200b\u975c\u614b\u200b\u8a9e\u8a00\u200b\u80fd\u5920\u200b\u76f8\u200b\u5c0d\u200b\u5c11\u200b\u5beb\u200b\u51fa\u200b\u4e00\u4e9b\u200b\u6709\u200b Bug \u200b\u7684\u200b Code\u3002</p> <p>\u200b\u6700\u8fd1\u200b\u4e5f\u200b\u958b\u59cb\u5b78\u200b Go \u200b\u4e26\u5beb\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u5c0f\u200b\u5de5\u5177\u200b\uff0c\u200b\u4e0d\u7528\u200b\u8003\u616e\u200b\u76f8\u4f9d\u200b\u5957\u4ef6\u200b\u8207\u200b\u57f7\u884c\u200b\u74b0\u5883\u200b\u771f\u7684\u200b\u662f\u200b\u5f88\u68d2\u200b\u7684\u200b\u512a\u9ede\u200b\uff0c\u200b\u5728\u200b K8s \u200b\u4e2d\u200b\u5982\u679c\u200b\u8981\u639b\u200b\u4e00\u500b\u200b sidecar \u200b\u53ea\u200b\u9700\u200b\u4f7f\u7528\u200b busybox \u200b\u7576\u5e95\u200b\u5c31\u200b\u53ef\u4ee5\u200b\uff0c\u200b\u5927\u5927\u964d\u4f4e\u200b\u4e86\u200b\u8cc7\u6e90\u200b\u6d88\u8017\u200b\u3002\u200b\u5b78\u7fd2\u200b\u4e0a\u200b\u5e7e\u4e4e\u200b\u6c92\u6709\u200b\u4ec0\u9ebc\u200b\u592a\u5927\u200b\u7684\u200b\u56f0\u96e3\u200b\uff0c\u200b\u4e0d\u904e\u200b\u6307\u6a19\u200b\u8207\u200b\u7528\u200b Structs \u200b\u5be6\u73fe\u200b OOP \u200b\u8b93\u200b\u4eba\u200b\u60f3\u8d77\u200b\u4ee5\u524d\u200b\u5b78\u200b C \u200b\u8ddf\u200b C++ \u200b\u7684\u200b\u65e5\u5b50\u200b\u3002</p> <p>Cortex \u200b\u5305\u88dd\u200b\u670d\u52d9\u200b\u8ddf\u200b\u90e8\u7f72\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6eff\u200b\u7c21\u55ae\u200b\u7684\u200b\uff0c\u200b\u503c\u5f97\u200b\u82b1\u6642\u9593\u200b\u7814\u7a76\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u90e8\u7f72\u200b\u7bc4\u200b\u4f8b\u5982\u200b\u4e0b\u200b\uff1a</p> <pre><code># predictor.py\n\nclass PythonPredictor:\n    def __init__(self, config):\n        self.model = download_model()\n\n    def predict(self, payload):\n        return self.model.predict(payload[\"text\"])\n</code></pre> <pre><code># cortex.yaml\n\n- name: sentiment-classifier\n  predictor:\n    type: python\n    path: predictor.py\n  compute:\n    gpu: 1\n    mem: 4G\n</code></pre> <pre><code>$ cortex deploy\n\ncreating sentiment-classifier\n</code></pre>","tags":["Go"]},{"location":"blog/2020/06/03/nginx-with-docker-compose/","title":"Nginx with Docker Compose","text":"<p>\u200b\u4f7f\u7528\u200b Docker Compose \u200b\u5feb\u901f\u200b\u555f\u52d5\u200b\u4e00\u500b\u200b Nginx Server \u200b\u505a\u975c\u614b\u200b\u4f3a\u670d\u5668\u200b\u8207\u200b Proxy\u3002\u200b\u82e5\u8981\u200b\u505a\u200b\u5176\u4ed6\u200b container \u200b\u7684\u200b Proxy \u200b\u5fc5\u9808\u200b\u5728\u200b\u540c\u4e00\u200b\u500b\u200b Network \u200b\u4e0b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u90fd\u200b\u8a2d\u5b9a\u200b\u6210\u200b Docker \u200b\u7684\u200b\u9810\u8a2d\u200b bridge network\u3002\u200b\u8a2d\u5b9a\u200b proxy \u200b\u6642\u200b\u5982\u679c\u200b\u9047\u5230\u200b gateway timeout \u200b\u57fa\u672c\u4e0a\u200b\u5c31\u662f\u200b\u7db2\u8def\u200b\u6c92\u6709\u901a\u200b\uff0c\u200b\u512a\u5148\u200b\u6aa2\u67e5\u200b container \u200b\u9593\u200b\u7684\u200b\u7db2\u8def\u200b\u8a2d\u5b9a\u200b\u3002</p> <p>\u200b\u4ee5\u7528\u200b Nginx \u200b\u505a\u200b jupyter notebook container proxy \u200b\u70ba\u4f8b\u200b\uff1a</p>","tags":["Nginx","Docker","jupyter notebook"]},{"location":"blog/2020/06/03/nginx-with-docker-compose/#nginx-docker-compose-yaml","title":"nginx docker-compose yaml","text":"<pre><code>version: '2.3'\nservices:\n  web:\n    image: nginx:1.18.0\n    ports:\n      - 80:80\n    network_mode: bridge\n    volumes:\n      - ./conf.d:/etc/nginx/conf.d\n      - ./log:/var/log/nginx\n      - ./www:/var/www\n</code></pre> <p><code>network_mode: bridge</code> \u200b\u4f7f\u7528\u200b Docker \u200b\u9810\u8a2d\u200b\u7684\u200b Network\uff0cnetwork name \u200b\u5373\u70ba\u200b bridge\uff0c\u200b\u57f7\u884c\u200b <code>docker run</code> \u200b\u6642\u200b\u7684\u200b network \u200b\u5c31\u662f\u200b bridge\u3002</p>","tags":["Nginx","Docker","jupyter notebook"]},{"location":"blog/2020/06/03/nginx-with-docker-compose/#jupyter-notebook-docker-compose-yaml","title":"jupyter notebook docker-compose yaml","text":"<pre><code>version: '2.3'\nservices:\n  notebook:\n    image: ufoym/deepo:all-py36-jupyter\n    ports:\n      - 8080:8888\n    network_mode: bridge\n    volumes:\n      - ./root:/root\n    command: jupyter notebook --no-browser --ip=0.0.0.0 --allow-root --notebook-dir='/root' --NotebookApp.base_url='/notebook/'\n</code></pre> <p><code>ports: 8080:8888</code>\uff0c\u200b\u82e5\u200b\u53ea\u200b\u9700\u8981\u200b\u5f9e\u200b proxy \u200b\u9032\u5165\u5247\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u8a2d\u5b9a\u200b expose\uff0c\u200b\u5728\u200b\u505a\u200b proxy \u200b\u6642\u200b\u662f\u200b\u8a8d\u200b container \u200b\u5167\u200b\u4f7f\u7528\u200b\u7684\u200b port\uff0c\u200b\u8207\u200b expose \u200b\u5728\u200b host \u200b\u7684\u200b port \u200b\u7121\u95dc\u200b\u3002</p> <p><code>network_mode: bridge</code> \u200b\u4f7f\u7528\u200b Docker \u200b\u9810\u8a2d\u200b\u7684\u200b Network\uff0cnetwork name \u200b\u5373\u70ba\u200b bridge\uff0c\u200b\u57f7\u884c\u200b <code>docker run</code> \u200b\u6642\u200b\u7684\u200b network \u200b\u5c31\u662f\u200b bridge\u3002</p> <p><code>NotebookApp.base_url</code> \u200b\u53ef\u4ee5\u200b\u8a2d\u5b9a\u200b prefix\uff0c\u200b\u8ddf\u200b nginx \u200b\u7684\u200b location \u200b\u8a2d\u5b9a\u200b\u4e00\u6a23\u200b\u5c31\u200b\u4e0d\u7528\u200b\u518d\u200b\u8a2d\u5b9a\u200b\u79fb\u9664\u200b prefix\uff0c\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u5404\u7a2e\u200b\u9801\u200b\u9762\u8b80\u200b\u53d6\u200b static file\uff08css, js ...\uff09\u200b\u7684\u200b\u554f\u984c\u200b\uff0c</p>","tags":["Nginx","Docker","jupyter notebook"]},{"location":"blog/2020/06/03/nginx-with-docker-compose/#nginx-config","title":"nginx config","text":"<p>\u200b\u8a2d\u5b9a\u52a0\u200b\u5728\u200b <code>conf.d/default.conf</code> \u200b\u4e2d\u200b</p> <pre><code>server {\n    client_max_body_size 100M;\n\n    listen         80 default_server;\n\n    location /notebook {\n        proxy_pass http://172.17.0.4:8888;\n    }\n\n    location / {\n        root   /var/www/;\n    }\n}\n</code></pre> <p><code>client_max_body_size</code>\uff0c\u200b\u53ef\u4ee5\u200b\u8a2d\u5b9a\u200b client \u200b\u4e0a\u50b3\u200b\u6a94\u6848\u200b\u7684\u200b\u6700\u5927\u200b\u9650\u5236\u200b\uff0c\u200b\u9810\u8a2d\u200b\u70ba\u200b 1 M\u3002</p> <p>container ip \u200b\u53ef\u4ee5\u200b\u900f\u904e\u200b <code>docker inspect [container-name]</code> \u200b\u6216\u200b <code>docker inspect [container-name] -f \"{{json .NetworkSettings.Networks }}\"</code> \u200b\u67e5\u8a62\u200b\u3002</p>","tags":["Nginx","Docker","jupyter notebook"]},{"location":"blog/2020/06/03/nginx-with-docker-compose/#update-nginx-setting","title":"update nginx setting","text":"<p>\u200b\u66f4\u65b0\u200b nginx config \u200b\u5f8c\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u8f09\u5165\u200b\u8a2d\u5b9a\u200b</p> <pre><code>nginx -s reload\n</code></pre> <p>Reference:</p> <ol> <li>How to NGINX Reverse Proxy with Docker Compose</li> <li>How to Configure NGINX</li> <li>How to Limit File Upload Size in Nginx</li> <li>How to join the default bridge network with docker-compose v2?</li> </ol>","tags":["Nginx","Docker","jupyter notebook"]},{"location":"blog/2020/06/05/race-condition/","title":"Race Condition","text":"<p>Race Condition \u200b\u7af6\u722d\u200b\u689d\u4ef6\u200b\uff0c\u200b\u6216\u200b\u7a31\u4f5c\u200b Race Hazard \u200b\u7af6\u722d\u200b\u5371\u5bb3\u200b\uff0c\u200b\u6b64\u8a5e\u200b\u6e90\u81ea\u200b\u65bc\u200b\u5169\u500b\u200b\u8a0a\u200b\u865f\u8a66\u200b\u8457\u200b\u5f7c\u6b64\u200b\u7af6\u722d\u200b\uff0c\u200b\u4f86\u200b\u5f71\u97ff\u200b\u8ab0\u200b\u5148\u8f38\u51fa\u200b\u3002\u200b\u5e38\u898b\u200b\u7684\u200b\u60c5\u666f\u200b\u662f\u200b\u7576\u5169\u500b\u200b Thread \u200b\u540c\u6642\u200b\u4fee\u6539\u200b\u4e00\u500b\u200b\u8b8a\u6578\u200b\u6642\u200b\uff0c\u200b\u5c0e\u81f4\u200b\u8b8a\u6578\u200b\u51fa\u73fe\u200b\u975e\u200b\u9810\u671f\u200b\u7684\u200b\u7d50\u679c\u200b\uff0c\u200b\u5982\u6709\u200b\u5169\u500b\u200b Thread \u200b\u60f3\u8981\u200b\u57f7\u884c\u200b <code>a++</code>\uff0c\u200b\u800c\u200b\u5be6\u969b\u200b\u4e0a\u200b <code>a++</code> \u200b\u9700\u8981\u200b\u57f7\u884c\u200b\u4e09\u500b\u200b\u52d5\u4f5c\u200b\uff1a</p> <ol> <li>\u200b\u53d6\u5f97\u200b a</li> <li>\u200b\u57f7\u884c\u200b a + 1</li> <li>\u200b\u57f7\u884c\u200b\u7d50\u679c\u200b\u5b58\u56de\u200b a</li> </ol> <p>\u200b\u57f7\u884c\u200b\u7d50\u679c\u200b\u53ef\u80fd\u200b\u5982\u4e0b\u200b\u5716\u200b\uff1a</p> <p></p> <p>\u200b\u539f\u672c\u200b\u9810\u671f\u200b\u6703\u200b\u8981\u200b\u57f7\u884c\u200b\u5169\u6b21\u200b <code>a++</code> \u200b\u8b8a\u70ba\u200b 32\uff0c\u200b\u4f46\u200b\u7d50\u679c\u200b\u537b\u200b\u662f\u200b 31\u3002</p> <p>Race Condition \u200b\u662f\u200b\u5229\u7528\u200b Multi Thread \u200b\u505a\u200b Concurrency\uff08\u200b\u4f75\u200b\u767c\u200b\uff09\u200b\u6703\u7522\u751f\u200b\u7684\u200b\u73fe\u8c61\u200b\uff0c\u200b\u70ba\u200b\u4e86\u200b\u907f\u514d\u200b\u9019\u500b\u200b\u554f\u984c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u975e\u200b Thread-Safe \u200b\u7684\u200b\u64cd\u4f5c\u200b\u52a0\u4e0a\u200b\u9396\u7684\u200b\u6a5f\u5236\u200b\u5305\u88dd\u200b\u3002</p>","tags":["Go","Python","Thread"]},{"location":"blog/2020/06/05/race-condition/#golang","title":"Golang","text":"<p>Go \u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b goroutine(<code>go func()</code>) \u200b\u5feb\u901f\u200b\u5efa\u7acb\u200b\u591a\u500b\u200b thread\uff0c<code>sync.Mutex.Lock()</code> \u200b\u8207\u200b <code>sync.Mutex.Unlock()</code> \u200b\u53ef\u4ee5\u200b\u7528\u200b\u65bc\u200b\u4e0a\u9396\u200b\u8207\u200b\u89e3\u9396\u200b\u3002</p> <pre><code>func main() {\n    a := 0\n    times := 10000\n    c := make(chan bool)\n\n    var m sync.Mutex\n\n    for i := 0; i &lt; times; i++ {\n        go func() {\n            m.Lock() // &lt;== \u200b\u4e0a\u9396\u200b\n            a++\n            m.Unlock() // &lt;== \u200b\u89e3\u9396\u200b\n            c &lt;- true\n        }()\n    }\n\n    for i := 0; i &lt; times; i++ {\n        &lt;-c\n    }\n    fmt.Printf(\"a = %d\\n\", a)\n}\n</code></pre>","tags":["Go","Python","Thread"]},{"location":"blog/2020/06/05/race-condition/#python","title":"Python","text":"<p>\u200b\u5728\u200b python \u200b\u7684\u200b CPython \u200b\u4e2d\u56e0\u200b\u70ba\u200b GIL (Global Interpreter Lock) \u200b\u7684\u95dc\u200b\u4fc2\u200b\uff0c\u200b\u4e00\u500b\u200b process \u200b\u5fc5\u5b9a\u200b\u53ea\u6703\u200b\u6709\u200b\u4e00\u500b\u200b thread \u200b\u5728\u200b\u57f7\u884c\u200b python\uff0c\u200b\u5176\u4ed6\u200b\u7684\u200b\u57f7\u884c\u7dd2\u200b\u90fd\u200b\u5728\u200b\u7b49\u5f85\u200b IO \u200b\u6216\u662f\u200b\u7761\u89ba\u200b\u3002\u200b\u4f46\u200b GIL \u200b\u4e26\u200b\u4e0d\u80fd\u200b\u4fdd\u8b49\u200b\u4e0d\u6703\u200b\u51fa\u73fe\u200b race condition\uff0c\u200b\u4f8b\u5982\u200b\u57f7\u884c\u200b <code>a+=1</code> \u200b\u6642\u200b\u5728\u200b\u5207\u63db\u200b\u5230\u200b\u5225\u200b\u7684\u200b thread \u200b\u7684\u200b\u6642\u5019\u200b\u53ef\u80fd\u200b\u6703\u525b\u200b\u597d\u5207\u200b\u5728\u200b\u4e2d\u9593\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4ecd\u9808\u200b\u8981\u200b\u9396\u4f86\u200b\u4fdd\u8b77\u200b\u5171\u7528\u200b\u8b8a\u6578\u200b\u3002</p> <pre><code>a = 0\nlock = threading.Lock()\n\ndef foo():\n    global a\n    with lock: # &lt;== \u200b\u4e0a\u9396\u200b\n        a += 1\n</code></pre> <p>\u200b\u4e5f\u200b\u56e0\u70ba\u200b GIL \u200b\u7684\u95dc\u200b\u4fc2\u200b multi thread \u200b\u4e26\u7121\u6cd5\u200b\u52a0\u901f\u200b CPU bound \u200b\u4efb\u52d9\u200b\uff0c\u200b\u53ea\u80fd\u200b\u7528\u4f86\u200b\u52a0\u901f\u200b IO bound \u200b\u4efb\u52d9\u200b\uff0c\u200b\u5982\u200b\u4f75\u200b\u767c\u200b\u5927\u91cf\u200b http request \u200b\u7b49\u200b\u3002\u200b\u5982\u679c\u200b\u8981\u200b\u52a0\u901f\u200b CPU bound \u200b\u4efb\u52d9\u200b\u7684\u200b\u8a71\u200b\u8981\u200b\u4f7f\u7528\u200b multi process\uff0c\u200b\u82e5\u200b\u4f7f\u7528\u200b multi thread \u200b\u53cd\u800c\u200b\u6703\u200b\u56e0\u70ba\u200b\u983b\u7e41\u200b\u64cd\u4f5c\u200b GIL \u200b\u5c0e\u81f4\u200b\u6bd4\u55ae\u200b thread \u200b\u66f4\u6162\u200b\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u7528\u200b\u4e00\u500b\u200b\u5c0f\u200b\u4f8b\u5b50\u200b\u8ac7\u8ac7\u200b Golang \u200b\u4e2d\u200b\u7684\u200b Race Condition</li> <li>\u200b\u6df1\u5165\u200b GIL: \u200b\u5982\u4f55\u200b\u5beb\u51fa\u200b\u5feb\u901f\u200b\u4e14\u200b thread-safe \u200b\u7684\u200b Python</li> <li>\u200b\u521d\u6dfa\u200b\u804a\u804a\u200b Python \u200b\u7684\u200b GIL \u200b\u53ca\u200b Thread-safe</li> <li>Does thread-safe mean no race conditions?</li> <li>Threading vs Multiprocessing in Python</li> </ol>","tags":["Go","Python","Thread"]},{"location":"blog/2020/06/08/populating-next-right-pointers-in-each-node/","title":"Populating Next Right Pointers in Each Node","text":"<p>116. Populating Next Right Pointers in Each Node</p> <p>\u200b\u628a\u200b\u4e00\u500b\u200b Perfect Binary Tree \u200b\u52a0\u4e0a\u200b next \u200b\u7684\u200b node</p> <pre><code>\"\"\"\n# Definition for a Node.\nclass Node:\n    def __init__(self, val: int = 0, left: 'Node' = None, right: 'Node' = None, next: 'Node' = None):\n        self.val = val\n        self.left = left\n        self.right = right\n        self.next = next\n\"\"\"\n\n\nclass Solution:\n    def connect(self, root: \"Node\") -&gt; \"Node\":\n        if root is None or root.left is None:\n            # \u200b\u56e0\u70ba\u200b\u662f\u200b Perfect Binary Tree \u200b\u6240\u4ee5\u200b left \u200b\u6c92\u6709\u503c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u505c\u200b\u4e86\u200b\n            return root\n        root.left.next = root.right\n        if root.next is not None:\n            root.right.next = root.next.left\n        self.connect(root.left) # recursive \u200b\u8dd1\u200b\u5b8c\u200b\u5de6\u908a\u200b\n        self.connect(root.right) # recursive \u200b\u8dd1\u200b\u5b8c\u53f3\u908a\u200b\n        return root\n</code></pre> <p>\u200b\u55ae\u7368\u200b\u5f9e\u200b\u4e00\u500b\u200b current node \u200b\u4f86\u200b\u770b\u200b\uff0ccurrent.left \u200b\u7684\u200b next \u200b\u70ba\u200b current.right\uff0cright \u200b\u7684\u200b next \u200b\u70ba\u200b current.next.left\u3002\u200b\u4e00\u6b21\u200b\u5c31\u662f\u200b\u53ea\u80fd\u200b\u62ff\u5230\u200b\u4e00\u7d44\u200b\uff08current\u3001left\u3001right\uff09\u200b\u7684\u200b\u8a0a\u606f\u200b\uff0c\u200b\u5176\u4ed6\u200b\u8a0a\u606f\u200b\u90fd\u200b\u662f\u200b\u7121\u6cd5\u200b\u62ff\u5230\u200b\u7684\u200b\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 116. Populating Next Right Pointers in Each Node - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP265</li> </ol>","tags":["Tree"]},{"location":"blog/2020/06/09/saving-files-in-a-database-or-in-a-file-system/","title":"Saving Files In A Database Or In A File System?","text":"<p>Which Is Superior: Saving Files In A Database Or In A File System?</p> <p>\u200b\u672c\u6587\u200b\u5206\u6790\u200b Web Serer \u200b\u7ba1\u7406\u200b\u4e0a\u50b3\u200b\u7684\u200b\u6a94\u6848\u200b\u7684\u200b\u5169\u7a2e\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4f7f\u7528\u200b File System \u200b\u8207\u200b\u900f\u904e\u200b DB \u200b\u5132\u5b58\u200b\u3002</p>","tags":["Architecture"]},{"location":"blog/2020/06/09/saving-files-in-a-database-or-in-a-file-system/#file-system","title":"File System","text":"","tags":["Architecture"]},{"location":"blog/2020/06/09/saving-files-in-a-database-or-in-a-file-system/#pros","title":"Pros","text":"<ol> <li>\u200b\u80fd\u5920\u200b\u6709\u200b\u8f03\u200b\u597d\u200b\u7684\u200b\u6548\u80fd\u200b\uff0c\u200b\u8b80\u53d6\u200b\u6a94\u6848\u200b\u4e0d\u7528\u200b\u4e0b\u67e5\u8a62\u200b</li> <li>\u200b\u5132\u5b58\u200b\u8207\u200b\u4e0b\u8f09\u200b\u6a94\u6848\u200b\u6bd4\u8d77\u200b\u7528\u200b DB \u200b\u7c21\u55ae\u200b\u5f88\u591a\u200b</li> <li>Scale \u200b\u7684\u200b\u6642\u5019\u200b File System \u200b\u6bd4\u200b DB \u200b\u66f4\u200b\u4fbf\u5b9c\u200b</li> </ol>","tags":["Architecture"]},{"location":"blog/2020/06/09/saving-files-in-a-database-or-in-a-file-system/#cons","title":"Cons","text":"<ol> <li>\u200b\u6c92\u6709\u200b ACID\uff0c\u200b\u7121\u6cd5\u200b\u4fdd\u8b49\u200b\u8207\u200b DB \u200b\u9593\u200b\u8cc7\u6599\u200b\u7684\u95dc\u200b\u4fc2\u200b</li> <li>\u200b\u5b89\u5168\u6027\u200b\u4f4e\u200b\uff0c\u200b\u53ea\u8981\u200b\u77e5\u9053\u200b File System \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u53d6\u5f97\u200b\u6a94\u6848\u200b</li> </ol>","tags":["Architecture"]},{"location":"blog/2020/06/09/saving-files-in-a-database-or-in-a-file-system/#_1","title":"\u9069\u7528\u200b\u5834\u666f","text":"<ol> <li>\u200b\u9700\u8981\u200b\u8655\u7406\u200b\u8f03\u200b\u5927\u200b\u7684\u200b\u6a94\u6848\u200b\uff0c\u200b\u5982\u200b 5 MB \u200b\u4ee5\u4e0a\u200b\uff0c\u200b\u4e26\u200b\u53ef\u80fd\u200b\u8981\u200b\u5132\u5b58\u200b\u4e0a\u5343\u200b\u500b\u200b\u6a94\u6848\u200b</li> <li>\u200b\u670d\u52d9\u6709\u200b\u5927\u91cf\u200b\u7684\u200b\u4f7f\u7528\u8005\u200b\u6642\u200b</li> </ol>","tags":["Architecture"]},{"location":"blog/2020/06/09/saving-files-in-a-database-or-in-a-file-system/#db","title":"DB","text":"","tags":["Architecture"]},{"location":"blog/2020/06/09/saving-files-in-a-database-or-in-a-file-system/#pros_1","title":"Pros","text":"<ol> <li>ACID</li> <li>\u200b\u6bd4\u200b File System \u200b\u5b89\u5168\u200b</li> </ol>","tags":["Architecture"]},{"location":"blog/2020/06/09/saving-files-in-a-database-or-in-a-file-system/#cons_1","title":"Cons","text":"<ol> <li>\u200b\u6a94\u6848\u200b\u8981\u200b\u8f49\u63db\u200b\u70ba\u200b blob \u200b\u624d\u80fd\u200b\u5b58\u5165\u200b DB \u200b\u4e2d\u200b</li> <li>DB \u200b\u5099\u4efd\u6703\u200b\u8b8a\u5f97\u200b\u5f88\u200b\u7de9\u6162\u200b</li> <li>\u200b\u5728\u200b\u8b80\u200b\u5beb\u200b\u6642\u6703\u200b\u8017\u8cbb\u200b\u8f03\u200b\u591a\u200b\u7684\u200b\u8a18\u61b6\u9ad4\u200b\u8cc7\u6e90\u200b\uff0c\u200b\u7b49\u540c\u200b\u65bc\u200b\u964d\u4f4e\u200b\u670d\u52d9\u200b\u6548\u80fd\u200b</li> </ol>","tags":["Architecture"]},{"location":"blog/2020/06/09/saving-files-in-a-database-or-in-a-file-system/#_2","title":"\u9069\u7528\u200b\u5834\u666f","text":"<ol> <li>\u200b\u6a94\u6848\u200b\u9700\u8981\u200b\u8f03\u200b\u9ad8\u200b\u7684\u200b\u5b89\u5168\u6027\u200b</li> <li>\u200b\u5c11\u91cf\u200b\u7684\u200b\u6a94\u6848\u200b\u8207\u200b\u5c11\u91cf\u200b\u7684\u200b\u4f7f\u7528\u8005\u200b</li> </ol> <p>\u200b\u7c21\u55ae\u200b\u7e3d\u7d50\u200b\u9078\u64c7\u200b\u7684\u200b\u7b56\u7565\u200b\uff0c\u200b\u9700\u8981\u200b ACID \u200b\u7684\u200b\u8a71\u200b\u9078\u200b DB\uff0c\u200b\u5426\u5247\u200b File System \u200b\u5c31\u200b\u597d\u200b\u3002</p>","tags":["Architecture"]},{"location":"blog/2020/06/11/until-curl-success/","title":"Until curl success","text":"<p>\u200b\u9700\u6c42\u200b\uff1a\u200b\u6a21\u64ec\u200b K8s \u200b\u7684\u200b probe\uff0c\u200b\u6301\u7e8c\u200b\u63a2\u6e2c\u200b\u6307\u5b9a\u200b\u7684\u200b endpoint \u200b\u662f\u5426\u200b\u6709\u200b\u56de\u61c9\u200b</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u91cd\u200b\u8907\u200b\u57f7\u884c\u200b curl \u200b\u76f4\u5230\u200b\u53d6\u5f97\u200b\u6b63\u5e38\u200b\u56de\u61c9\u200b</p> <pre><code>until $(curl --output /dev/null --silent --head --fail http://myhost:myport); do\n    printf '.'\n    sleep 5\ndone\n</code></pre> <p>\u200b\u7576\u689d\u4ef6\u200b\u6210\u7acb\u200b\u6642\u200b until \u200b\u7684\u200b\u8ff4\u200b\u5708\u200b\u5c31\u200b\u6703\u200b\u7d42\u6b62\u200b\uff0c\b\u200b\u5728\u200b shell \u200b\u4e2d\u200b 0 \u200b\u70ba\u200b true\uff0c\u200b\u5176\u4ed6\u200b\u5247\u70ba\u200b false</p> <p>curl options:</p> <ul> <li>--output /dev/null\uff1a\u200b\u5c07\u200b output \u200b\u8f38\u51fa\u200b\u5230\u200b\u6307\u5b9a\u200b\u6a94\u6848\u200b\uff0c\u200b\u5728\u200b linux \u200b\u4e2d\u200b <code>/dev/null</code> \u200b\u6307\u5411\u200b\u4e00\u500b\u200b\u7a7a\u200b\u7684\u200b\u8a2d\u5099\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f5c\u70ba\u200b\u5783\u573e\u6876\u200b\u7528\u200b\uff0c\u200b\u5c0e\u5411\u200b\u9019\u500b\u200b\u8a2d\u5099\u200b\u7684\u200b\u8cc7\u6599\u200b\u90fd\u200b\u6703\u200b\u88ab\u200b\u62cb\u68c4\u200b</li> <li>--silent\uff1a\u200b\u4e0d\u6703\u200b\u986f\u793a\u200b\u9032\u5ea6\u200b\u6216\u662f\u200b\u932f\u8aa4\u200b\u8a0a\u606f\u200b</li> <li>--head\uff1a\u200b\u53ea\u53d6\u200b header\uff0c\u200b\u56e0\u70ba\u200b\u53ea\u200b\u9700\u200b\u63a2\u6e2c\u200b\u662f\u5426\u200b\u6709\u200b\u56de\u61c9\u200b</li> <li>--fail\uff1a\u200b\u4e00\u822c\u200b request \u200b\u5931\u6557\u200b\u6642\u200b server \u200b\u6703\u200b\u56de\u8986\u200b\u4e00\u4efd\u200b HTML \u200b\u6a94\u6848\u200b\uff0c\u200b\u6b64\u200b\u8a2d\u5b9a\u200b\u53ef\u4ee5\u200b\u7565\u904e\u200b server \u200b\u56de\u8986\u200b\u7684\u200b\u5167\u5bb9\u200b</li> </ul> <p>Reference:</p> <ol> <li>How to create a loop in bash that is waiting for a webserver to respond?</li> <li>Bash: Loop until command exit status equals 0</li> <li>Why 0 is true but false is 1 in the shell?</li> <li>curl Doc</li> </ol>","tags":["Unix"]},{"location":"blog/2020/06/13/aiohttp---asynchronous-http-clientserver-for-python/","title":"AIOHTTP - asynchronous HTTP client/server for python","text":"<p>aiohttp \u200b\u662f\u200b\u57fa\u200b\u65bc\u200b asyncio \u200b\u6a21\u7d44\u200b\u6240\u200b\u958b\u767c\u200b\u7684\u200b\u975e\u200b\u540c\u6b65\u200b HTTP client \u200b\u8207\u200b server package\uff0c\u200b\u76ee\u524d\u200b\u5927\u591a\u200b\u7528\u200b\u65bc\u200b\u5927\u91cf\u200b\u4f75\u200b\u767c\u200b\u7684\u200b\u722c\u87f2\u200b\u7a0b\u5f0f\u200b\u3002</p> <p>IO \u200b\u8207\u200b\u57f7\u884c\u200b\u904b\u7b97\u200b\u76f8\u6bd4\u200b\u662f\u200b\u975e\u5e38\u200b\u7de9\u6162\u200b\u7684\u200b\uff0c\u200b\u7576\u200b\u9700\u8981\u200b\u722c\u53d6\u200b\u5927\u91cf\u200b\u5167\u5bb9\u6642\u200b\uff0c\u200b\u5982\u679c\u200b\u55ae\u7d14\u200b\u4f7f\u7528\u200b for loop \u200b\u5b8c\u6210\u200b\u4e00\u7b46\u200b request \u200b\u518d\u200b\u767c\u4e0b\u200b\u4e00\u7b46\u6703\u200b\u975e\u5e38\u200b\u6d6a\u8cbb\u200b\u6642\u9593\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u975e\u200b\u540c\u6b65\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4e00\u6b21\u200b\u767c\u51fa\u200b\u5927\u91cf\u200b request\uff0c\u200b\u7576\u200b Server \u200b\u56de\u8986\u200b\u5f8c\u200b\u518d\u200b\u9032\u884c\u200b\u8cc7\u6599\u200b\u7684\u200b\u8655\u7406\u200b\u3002\u200b\u4e0d\u904e\u200b\u5229\u7528\u200b\u9019\u7a2e\u200b\u65b9\u5f0f\u200b\u4e5f\u200b\u8981\u200b\u8003\u616e\u200b\u63a5\u6536\u200b\u7684\u200b Server \u200b\u662f\u5426\u200b\u80fd\u5920\u200b\u4e00\u6b21\u200b\u8ca0\u64d4\u200b\u9019\u9ebc\u200b\u5927\u91cf\u200b\u7684\u200b request\uff0c\u200b\u56e0\u6b64\u200b\u4ecd\u9808\u200b\u8b39\u614e\u200b\u8a2d\u5b9a\u200b\u4f75\u200b\u767c\u200b\u7684\u200b\u6578\u91cf\u200b\u3002</p> <p>\u200b\u4e00\u822c\u200b\u4f7f\u7528\u200b request \u200b\u7684\u200b\u722c\u87f2\u200b\uff0c\u200b\u57f7\u884c\u200b\u6642\u9593\u200b\u7d04\u200b 20 \u200b\u79d2\u200b</p> <pre><code>def main():\n    url = \"http://httpbin.org/headers\"\n    times = 50\n    for _ in range(times):\n        requests.get(url)\n</code></pre> <p>\u200b\u4f7f\u7528\u200b aiohttp \u200b\u7684\u200b\u722c\u87f2\u200b\uff0c\u200b\u57f7\u884c\u200b\u6642\u9593\u200b\u7d04\u200b 11 \u200b\u79d2\u200b</p> <pre><code>async def fetch(session, url):\n    async with session.get(url) as response:\n        return await response.text()\n\nasync def main():\n    url = \"http://httpbin.org/headers\"\n    times = 50\n    async with aiohttp.ClientSession() as session:\n        for _ in range(times):\n            await fetch(session, url)\n</code></pre> <p>\u200b\u642d\u914d\u200b asyncio.Queue \u200b\u7684\u200b aiohttp \u200b\u722c\u87f2\u200b\uff0c\u200b\u57f7\u884c\u200b\u6642\u9593\u200b\u7d04\u200b 1 \u200b\u79d2\u200b</p> <pre><code>results = []\n\nasync def get(session, queue):\n    while True:\n        try:\n            url = queue.get_nowait()\n        except asyncio.QueueEmpty:\n            return\n        resp = await session.get(url)\n        results.append(await resp.text(encoding=\"utf-8\"))\n\nasync def main():\n    url = \"http://httpbin.org/headers\"\n    times = 50\n    async with aiohttp.ClientSession() as session:\n        queue = asyncio.Queue()\n        for _ in range(times):\n            queue.put_nowait(url)\n        tasks = []\n        for _ in range(int(times / 5)): # \u200b\u5207\u200b\u5206\u6210\u200b 10 (50/5) \u200b\u500b\u200b coroutine\n            task = get(session, queue)\n            tasks.append(task)\n        await asyncio.wait(tasks)\n</code></pre> <p>\u200b\u642d\u914d\u200b asyncio.Queue \u200b\u7684\u200b\u7248\u672c\u200b\u4ecd\u200b\u5c31\u662f\u200b\u53ea\u6709\u200b\u4e00\u500b\u200b process \u200b\u8207\u200b\u4e00\u500b\u200b thread\uff0c\u200b\u5229\u7528\u200b\u975e\u200b\u540c\u6b65\u200b\u7684\u200b\u7279\u6027\u200b\u5f9e\u200b\u6700\u200b\u7c21\u55ae\u200b\u7684\u200b requests \u200b\u7248\u672c\u200b\u52a0\u901f\u200b\u4e86\u200b 20 \u200b\u500d\u200b\u3002\u200b\u900f\u904e\u200b\u5efa\u7acb\u200b 10 \u200b\u500b\u200b coroutine \u200b\u767c\u200b request \u200b\u4e26\u4ea4\u7d66\u200b asyncio.wait \u200b\u8abf\u5ea6\u200b\uff0c\u200b\u7576\u200b coroutine \u200b\u9047\u5230\u200b IO \u200b\u7684\u200b\u6642\u5019\u200b\u5c31\u200b\u6703\u200b\u5207\u63db\u200b\u5230\u200b\u53e6\u5916\u200b\u4e00\u500b\u200b coroutine \u200b\u767c\u200b request\uff0c\u200b\u800c\u200b queue \u200b\u4e2d\u200b\u7684\u200b url \u200b\u6703\u200b\u4e0d\u505c\u200b\u88ab\u200b\u53d6\u7528\u200b\u5230\u200b\u7a7a\u70ba\u6b62\u200b\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u4e3a\u200b aiohttp \u200b\u722c\u866b\u200b\u6ce8\u5165\u200b\u7075\u9b42\u200b</li> <li>Aiohttp Usage</li> </ol>","tags":["Python","Scraper"]},{"location":"blog/2020/06/15/binary-tree-coloring-game/","title":"Binary Tree Coloring Game","text":"<p>1145. Binary Tree Coloring Game</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, val=0, left=None, right=None):\n#         self.val = val\n#         self.left = left\n#         self.right = right\nclass Solution:\n    def btreeGameWinningMove(self, root: TreeNode, n: int, x: int) -&gt; bool:\n        def nodes(root: TreeNode, x, pair) -&gt; int:\n            if root is None:\n                return 0\n            l = nodes(root.left, x, pair)\n            r = nodes(root.right, x, pair)\n            if root.val == x:\n                pair.append(l)\n                pair.append(r)\n            return 1 + l + r\n\n        pair = [] # call by ref \u200b\u505a\u200b\u66ab\u5b58\u200b\n        nodes(root, x, pair)\n        return max(n - (sum(pair) + 1), max(pair)) &gt; int(n / 2)\n</code></pre> <p>\u200b\u56e0\u70ba\u200b\u4e0a\u8272\u200b\u53ea\u80fd\u200b\u5f9e\u200b parent, left, righ\bt \u200b\u9078\u4e00\u500b\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5f8c\u200b\u624b\u200b\u53ef\u4ee5\u200b\u622a\u65b7\u200b\u5148\u624b\u200b\u7684\u200b\u8def\u200b\uff0c\u200b\u7576\u622a\u65b7\u200b\u7684\u200b\u90a3\u200b\u4e00\u5074\u200b\u6578\u91cf\u200b\u5927\u200b\u65bc\u200b n/2 \u200b\u5c31\u200b\u5fc5\u5b9a\u200b\u7372\u52dd\u200b\u3002\u200b\u56e0\u6b64\u200b\u9700\u200b\u53d6\u5f97\u200b\u5148\u624b\u200b\u7684\u200b\u4e09\u5074\u200b\u7684\u200b\u6578\u91cf\u200b\uff0cleft \u200b\u8207\u200b right \u200b\u7528\u200b recursion \u200b\u53d6\u5f97\u200b\uff0cparent \u200b\u90a3\u4e00\u5074\u200b\u6e1b\u53bb\u200b left \u200b\u8207\u200b right \u200b\u5373\u53ef\u200b\uff0c\u200b\u4e09\u5074\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u5927\u200b\u65bc\u200b n/2 \u200b\u5247\u70ba\u200b True\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 1145. Binary Tree Coloring Game - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP261</li> </ol>","tags":["Tree"]},{"location":"blog/2020/06/18/k8s-%E7%AF%80%E9%BB%9E%E8%B3%87%E6%BA%90%E8%80%97%E7%9B%A1/","title":"K8s \u200b\u7bc0\u9ede\u200b\u8cc7\u6e90\u8017\u200b\u76e1","text":"<p>\u200b\u554f\u984c\u200b\uff1aK8s \u200b\u7684\u200b node \u200b\u51fa\u73fe\u200b EvictionThresholdMet NodeHasDiskPressure \u200b\u72c0\u6cc1\u200b\uff0c\u200b\u5c0e\u81f4\u200b Pod \u200b\u7121\u6cd5\u200b\u5efa\u7acb\u200b\uff0c\u200b\u4f46\u200b\u5be6\u969b\u200b\u4e0a\u7a7a\u200b\u9593\u9084\u200b\u5f88\u200b\u5145\u8db3\u200b</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u8abf\u9ad8\u200b Threshold</p> <ol> <li> <p>\u200b\u78ba\u8a8d\u200b kubelet \u200b\u7684\u200b\u72c0\u614b\u200b</p> <pre><code>$ sudo systemctl status kubelet\n\u25cf kubelet.service - kubelet: The Kubernetes Node Agent\nLoaded: loaded (/lib/systemd/system/kubelet.service; enabled; vendor preset: enabled)\nDrop-In: /etc/systemd/system/kubelet.service.d\n        \u2514\u250010-kubeadm.conf\nActive: active (running) since \u200b\u4e00\u200b 2017-10-16 10:25:09 CST; 6h ago\n    Docs: http://kubernetes.io/docs/\nMain PID: 13640 (kubelet)\n    Tasks: 18\nMemory: 62.0M\n    CPU: 18min 15.235s\nCGroup: /system.slice/kubelet.service\n        \u251c\u250013640 /usr/bin/kubelet --kubeconfig=/etc/kubernetes/kubelet.conf --require-kubeconfig=true --pod-manifest-path=/etc/kubernetes/manifests --allow-privileged=true --\n        \u2514\u250013705 journalctl -k -f\n...\n</code></pre> </li> <li> <p>\u200b\u8207\u200b kubelet \u200b\u6709\u95dc\u200b\u7684\u200b\u8a2d\u5b9a\u200b\u6709\u200b\u5169\u500b\u200b</p> <pre><code>- /lib/systemd/system/kubelet.service\nDrop-In: /etc/systemd/system/kubelet.service.d\n        \u2514\u250010-kubeadm.conf\n</code></pre> </li> <li> <p>/etc/systemd/system/kubelet.service.d/10-kubeadm.conf \u200b\u662f\u200b\u7528\u200b\u4f86\u200b\u8986\u5beb\u200b /lib/systemd/system/kubelet.service \u200b\u4e2d\u200b\u7684\u200b\u914d\u7f6e\u200b\uff0c\u200b\u5167\u5bb9\u200b\u5982\u4e0b\u200b</p> <pre><code>[Service]\nEnvironment=\"KUBELET_KUBECONFIG_ARGS=--kubeconfig=/etc/kubernetes/kubelet.conf --require-kubeconfig=true\"\nEnvironment=\"KUBELET_SYSTEM_PODS_ARGS=--pod-manifest-path=/etc/kubernetes/manifests --allow-privileged=true\"\nEnvironment=\"KUBELET_NETWORK_ARGS=--network-plugin=cni --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin\"\nEnvironment=\"KUBELET_DNS_ARGS=--cluster-dns=10.96.0.10 --cluster-domain=cluster.local\"\nEnvironment=\"KUBELET_AUTHZ_ARGS=--authorization-mode=Webhook --client-ca-file=/etc/kubernetes/pki/ca.crt\"\nEnvironment=\"KUBELET_CADVISOR_ARGS=--cadvisor-port=0\"\nExecStart=\nExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_SYSTEM_PODS_ARGS $KUBELET_NETWORK_ARGS $KUBELET_DNS_ARGS $KUBELET_AUTHZ_ARGS $KUBELET_CADVISOR_ARGS $KUBELET_EXTRA_ARGS\n</code></pre> </li> <li> <p>\u200b\u4fee\u6539\u200b 10-kubeadm.conf \u200b\u7684\u200b\u5167\u5bb9\u200b\u8abf\u9ad8\u200b\u4e0a\u9650\u200b\uff0c\u200b\u589e\u52a0\u200b\u4e00\u500b\u200b Environment \u200b\u4e26\u200b\u52a0\u5165\u200b\u5728\u200b ExecStart \u200b\u7684\u200b\u6700\u200b\u5f8c\u200b</p> <pre><code>Environment=\"KUBELET_EVICTION_POLICY_ARGS=--eviction-hard=nodefs.available&lt;5%\"\nExecStart=\nExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_SYSTEM_PODS_ARGS $KUBELET_NETWORK_ARGS $KUBELET_DNS_ARGS $KUBELET_AUTHZ_ARGS $KUBELET_CADVISOR_ARGS $KUBELET_EXTRA_ARGS $KUBELET_EVICTION_POLICY_ARGS\n</code></pre> </li> <li> <p>reaload \u200b\u4e26\u91cd\u555f\u200b kubelet \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u91cd\u65b0\u200b\u8f09\u5165\u200b\u8a2d\u5b9a\u200b</p> <pre><code>$ sudo systemctl daemon-reload\n$ sudo systemctl restart kubelet\n</code></pre> </li> </ol> <p>Reference:</p> <ol> <li>Kubernetes\u200b\u8282\u70b9\u200b\u8d44\u6e90\u200b\u8017\u5c3d\u200b\u72b6\u6001\u200b\u7684\u200b\u5904\u7406\u200b</li> <li>\u200b\u6392\u67e5\u200b kubelet\u3001kubeadm init \u200b\u554f\u984c\u200b</li> </ol>","tags":["K8s"]},{"location":"blog/2020/06/18/kubernetes-probes/","title":"Kubernetes Probes","text":"<p>Kubernetes Probes</p> <p>\u200b\u672c\u7bc7\u200b\u4ecb\u7d39\u200b K8s \u200b\u7684\u200b Probe \u200b\u6a5f\u5236\u200b\uff0c\u200b\u5305\u62ec\u200b Readiness Probe\u3001Liveness Probe \u200b\u4ee5\u53ca\u200b 1.16 \u200b\u7248\u200b\u65b0\u589e\u200b\u7684\u200b Startup Probe\u3002</p> <p>Pod \u200b\u4e2d\u200b Container \u200b\u7684\u200b Status \u200b\u6703\u200b\u900f\u904e\u200b Probe \u200b\u7684\u200b\u6a5f\u5236\u200b\u9032\u884c\u200b\u78ba\u8a8d\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b Container \u200b\u7684\u200b Status \u200b\u7d71\u6574\u5f8c\u6703\u200b\u4ee3\u8868\u200b Pod \u200b\u7684\u200b Status\u3002Probe \u200b\u7684\u200b\u8a3a\u65b7\u200b\u6a5f\u5236\u200b\u662f\u200b\u7531\u200b Kubelet \u200b\u547c\u53eb\u200b Container \u200b\u4e0a\u200b\u7684\u200b Endpoint\uff0c\u200b\u6216\u662f\u200b\u57f7\u884c\u200b Container \u200b\u4e0a\u200b\u7684\u200b\u7a0b\u5f0f\u200b\uff0c\u200b\u82e5\u200b\u53d6\u5f97\u200b\u6b63\u5e38\u200b\u56de\u61c9\u200b\u6216\u200b\u6b63\u5e38\u200b\u57f7\u884c\u5247\u200b\u901a\u904e\u200b\u8a3a\u65b7\u200b\u3002</p>","tags":["K8s"]},{"location":"blog/2020/06/18/kubernetes-probes/#readiness-probe","title":"Readiness Probe","text":"<p>\u200b\u7576\u200b Readiness Probe \u200b\u5931\u6557\u200b\u6642\u200b Pod \u200b\u7121\u6cd5\u200b\u88ab\u200b Service \u200b\u53d6\u7528\u200b\uff0c\u200b\u4e0d\u6703\u200b\u5f71\u97ff\u200b Pod \u200b\u7684\u200b\u72c0\u614b\u200b</p> <p>\u200b\u4f7f\u7528\u200b\u60c5\u5883\u200b\uff1a</p> <ol> <li>Container \u200b\u9700\u8981\u200b\u4e00\u6bb5\u200b\u555f\u52d5\u200b\u6642\u9593\u200b\u4f86\u200b\u8f09\u5165\u200b\u6a94\u6848\u200b\u6216\u200b\u6aa2\u67e5\u200b\u4e00\u4e9b\u200b\u8a2d\u5b9a\u200b</li> </ol> <p>Readiness Probe \u200b\u4e0d\u61c9\u7528\u200b\u65bc\u200b\u6aa2\u67e5\u200b\u670d\u52d9\u200b\u7684\u200b\u76f8\u4f9d\u200b\u5167\u5bb9\u200b\uff0c\u200b\u5982\u200b\u76f8\u4f9d\u200b\u7684\u200b DB \u200b\u670d\u52d9\u200b\u7b49\u200b\u3002\u200b\u7576\u53bb\u200b\u6aa2\u67e5\u200b\u76f8\u4f9d\u200b\u6642\u200b\uff0c\u200b\u76f8\u4f9d\u200b\u7684\u200b\u670d\u52d9\u5011\u200b\u6703\u200b\u958b\u59cb\u200b\u9010\u500b\u200b\u88ab\u200b\u5224\u5b9a\u200b\u932f\u8aa4\u200b\uff0c\u200b\u6700\u7d42\u200b\u5c0e\u81f4\u200b\u6574\u500b\u200b\u7cfb\u7d71\u200b\u5d29\u6f70\u200b\u3002\u200b\u9762\u5c0d\u200b\u9019\u7a2e\u200b\u76f8\u4f9d\u200b\u670d\u52d9\u200b\u767c\u751f\u200b\u554f\u984c\u200b\u6642\u200b\uff0c\u200b\u6bd4\u8f03\u200b\u7684\u200b\u7406\u60f3\u200b\u505a\u6cd5\u200b\u662f\u200b\u5c07\u670d\u52d9\u200b\u964d\u7d1a\u200b\uff0c\u200b\u53d7\u5f71\u97ff\u200b\u7684\u200b endpoint \u200b\u56de\u8986\u200b 503\uff0c\u200b\u518d\u200b\u901a\u77e5\u200b\u4eba\u54e1\u200b\u6392\u9664\u200b\u554f\u984c\u200b\u3002</p>","tags":["K8s"]},{"location":"blog/2020/06/18/kubernetes-probes/#liveness-probe","title":"Liveness Probe","text":"<p>\u200b\u7576\u200b Liveness Probe \u200b\u5931\u6557\u200b\u6642\u200b Pod \u200b\u6703\u200b\u88ab\u200b\u91cd\u555f\u200b</p> <p>\u200b\u4f7f\u7528\u200b\u60c5\u5883\u200b\uff1a</p> <ol> <li>Container \u200b\u767c\u751f\u200b\u932f\u8aa4\u200b\u6642\u4e0d\u6703\u200b\u81ea\u5df1\u200b crash</li> <li>\b\u200b\u670d\u52d9\u904b\u884c\u200b\u5728\u200b framework \u200b\u4e2d\u200b\uff0c\u200b\u7121\u6cd5\u200b\u63a7\u5236\u200b\u6574\u500b\u200b Container \u200b\u7684\u200b\u57f7\u884c\u200b\u72c0\u614b\u200b\uff0c\u200b\u5982\u200b\u5728\u200b servlet container \u200b\u4e2d\u200b</li> </ol> <p>Reference:</p> <ol> <li>[Kubernetes] Pod \u200b\u7684\u200b\u8a2d\u8a08\u200b &amp; \u200b\u76f8\u95dc\u200b\u904b\u4f5c\u200b\u6a5f\u5236\u200b</li> </ol>","tags":["K8s"]},{"location":"blog/2020/07/03/javascript-promise/","title":"JavaScript Promise","text":"<p>ES6 \u200b\u5f8c\u200b JavaScript \u200b\u958b\u59cb\u200b\u652f\u63f4\u200b promise\uff0c\u200b\u5728\u200b\u6c92\u200b\u6709\u200b promise \u200b\u7684\u200b\u5e74\u4ee3\u200b\uff0c\u200b\u591a\u500b\u200b\u4e32\u9023\u200b\u7684\u200b\u975e\u200b\u540c\u6b65\u200b\u4e8b\u4ef6\u200b\u8655\u7406\u200b\u6642\u5e38\u6703\u200b\u9677\u5165\u200b callback hell\uff0c\u200b\u5982\u200b ajax \u200b\u767c\u9001\u200b\u8207\u200b\u53d6\u5f97\u200b\u8cc7\u6599\u200b\u3002</p> <p> Callback Hell (Source: The 80/20 Guide to Promises in Node.js)</p> <p>promise \u200b\u80fd\u4ee5\u200b\u6bd4\u8f03\u200b\u7c21\u6f54\u200b\u7684\u200b\u65b9\u5f0f\u200b\u64b0\u5beb\u200b\u975e\u200b\u540c\u6b65\u200b\u7684\u200b\u8655\u7406\u200b\u6d41\u7a0b\u200b\uff0c\u200b\u5728\u200b\u4ee5\u524d\u200b\u6703\u200b\u4f7f\u7528\u200b callback \u200b\u7684\u200b\u65b9\u5f0f\u200b\u8655\u7406\u200b\uff1a</p> <pre><code>function successCallback(result) {\n  console.log(\"It succeeded with \" + result);\n}\n\nfunction failureCallback(error) {\n  console.log(\"It failed with \" + error);\n}\n\nfunction doSomething(successCallback, failureCallback) {\n  // do something\n  if (success){\n    successCallback(result);\n  }else{\n    failureCallback(error);\n  }\n}\n\ndoSomething(successCallback, failureCallback);\n</code></pre> <p>\u200b\u4f46\u200b\u6709\u200b\u4e86\u200b promise \u200b\u5f8c\u200b\uff0c\u200b\u5247\u6539\u200b\u70ba\u200b\u56de\u50b3\u200b\u4e00\u500b\u200b Promise\uff0c\u200b\u518d\u200b\u4ee5\u200b <code>then</code> \u200b\u8a2d\u5b9a\u200b\u6210\u529f\u200b\u8207\u200b\u5931\u6557\u200b\u7684\u200b\u8655\u7406\u200b\u51fd\u5f0f\u200b\uff1a</p> <pre><code>function doSomething(){\n  return new Promise((resolve, reject) =&gt; {\n    // do something\n    if (success){\n      resolve(result);\n    }else{\n      reject(error);\n    }\n  });\n}\ndoSomething().then(successCallback, failureCallback);\n</code></pre> <p>\u200b\u53e6\u200b\u4e00\u500b\u200b\u5e38\u898b\u200b\u7684\u200b\u9700\u6c42\u200b\u5247\u662f\u200b\u4e32\u200b\u9023\u591a\u500b\u200b Promise\uff1a</p> <pre><code>doSomething().then(function(result) {\n  return doSomethingElse(result);\n})\n.then(function(newResult) {\n  return doThirdThing(newResult);\n})\n.then(function(finalResult) {\n  console.log('Got the final result: ' + finalResult);\n})\n.catch(failureCallback);\n</code></pre> <p>\u200b\u5229\u7528\u200b <code>await</code> \u200b\u8207\u200b <code>async</code> \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u8b93\u200b\u975e\u200b\u540c\u6b65\u200b\u6d41\u7a0b\u200b\u4ee5\u200b\u540c\u6b65\u200b\u7a0b\u5f0f\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8868\u9054\u200b</p> <pre><code>function doSomething(){\n  return new Promise((resolve, reject) =&gt; {\n    // do something\n    if (true){\n      resolve(\"result1\");\n    }else{\n      reject(\"error1\");\n    }\n  });\n}\n\nfunction doSomethingElse(result){\n  return new Promise((resolve, reject) =&gt; {\n    // do something\n    console.log(result)\n    if (true){\n      resolve(\"result2\");\n    }else{\n      reject(\"error2\");\n    }\n  });\n}\n\nfunction doThirdThing(result){\n  return new Promise((resolve, reject) =&gt; {\n    // do something\n    console.log(result)\n    if (true){\n      resolve(\"result3\");\n    }else{\n      reject(\"error3\");\n    }\n  });\n}\n\nasync function foo() {\n  try {\n    let result = await doSomething();\n    let newResult = await doSomethingElse(result);\n    let finalResult = await doThirdThing(newResult);\n    console.log(`Got the final result: ${finalResult}`);\n  } catch(error) {\n    failureCallback(error);\n  }\n}\n\nfoo()\n// &gt; \"result1\"\n// &gt; \"result2\"\n// &gt; \"Got the final result: result3\"\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b <code>Promise.all</code> \u200b\u540c\u6642\u200b\u57f7\u884c\u200b\u591a\u500b\u200b\u975e\u200b\u540c\u6b65\u200b\u51fd\u6578\u200b\uff0c\u200b\u5168\u90e8\u200b\u6210\u529f\u200b\u6642\u200b\u56de\u50b3\u200b list\uff0c\u200b\u6216\u200b\u4efb\u4e00\u200b\u500b\u200b\u5931\u6557\u200b\u6642\u200b\u9032\u5165\u200b catch\uff1a</p> <pre><code>var p1 = Promise.resolve(3);\nvar p2 = 1337;\nvar p3 = new Promise((resolve, reject) =&gt; {\n  setTimeout(resolve, 100, 'foo');\n});\n\nPromise.all([p1, p2, p3]).then(values =&gt; {\n  console.log(values); // [3, 1337, \"foo\"]\n});\n</code></pre> <p>axios \u200b\u4e5f\u200b\u662f\u200b\u4ee5\u200b Promise \u200b\u70ba\u200b base \u200b\u767c\u9001\u200b HTTP Request\uff0c\u200b\u4f8b\u5982\u200b\u4e00\u500b\u200b\u57fa\u790e\u200b\u7684\u200b get request\uff1a</p> <pre><code>const axios = require('axios');\n\n// Make a request for a user with a given ID\naxios.get('/user?ID=12345')\n  .then(function (response) {\n    // handle success\n    console.log(response);\n  })\n  .catch(function (error) {\n    // handle error\n    console.log(error);\n  })\n  .then(function () {\n    // always executed\n  });\n\n// Want to use async/await? Add the `async` keyword to your outer function/method.\nasync function getUser() {\n  try {\n    const response = await axios.get('/user?ID=12345');\n    console.log(response);\n  } catch (error) {\n    console.error(error);\n  }\n}\n</code></pre> <p>Reference:</p> <ol> <li>MDN - \u200b\u4f7f\u7528\u200b Promise</li> <li>MDN - Promise</li> <li>Google Developers - JavaScript Promise</li> </ol>","tags":["JavaScript","Frontend"]},{"location":"blog/2020/07/06/top-k-frequent-words/","title":"Top K Frequent Words","text":"<p>692. Top K Frequent Words</p> <pre><code>class Solution:\n    def topKFrequent(self, words: List[str], k: int) -&gt; List[str]:\n        word_map = {}\n        for word in words:\n            word_map[word] = word_map.get(word, 0) + 1\n        return [\n            item[0]\n            for item in sorted(word_map.items(), key=lambda item: (-item[1], item[0]))[\n                0:k\n            ]\n        ]\n</code></pre> <p>python \u200b\u81ea\u8a02\u200b\u6392\u5e8f\u200b\u908f\u8f2f\u200b\u4f7f\u7528\u200b <code>key</code> \u200b\u6307\u5b9a\u200b function\uff0c\u200b\u7d44\u6210\u200b tuple \u200b\u7684\u200b\u8a71\u200b\u6703\u200b\u4f9d\u5e8f\u200b\u5f80\u5f8c\u6bd4\u200b\uff0c\u200b\u5728\u200b\u524d\u9762\u200b\u7684\u200b Priority \u200b\u8d8a\u9ad8\u200b\u3002</p> <p>\u200b\u5148\u200b value(count) \u200b\u5927\u5230\u200b\u5c0f\u200b\u6392\u5217\u200b =&gt; -item[1]\uff0c\u200b\u518d\u200b key(word) \u200b\u5b57\u5178\u200b\u6392\u5e8f\u200b(\u200b\u5c0f\u5230\u200b\u5927\u200b) =&gt; item[0]\uff0c\u200b\u6700\u5f8c\u53d6\u200b\u524d\u200b K \u200b\u7b46\u200b\u3002</p> <p>Reference:</p> <ol> <li>Sort a list by multiple attributes?</li> </ol>","tags":[]},{"location":"blog/2020/07/07/differences-between-junior-devops-and-senior-devops-engineers/","title":"Differences Between Junior DevOps and Senior DevOps Engineers","text":"<p>Differences Between Junior DevOps and Senior DevOps Engineers</p> <p>\u200b\u672c\u7bc7\u200b\u8aaa\u660e\u200b\u4e86\u200b\u4f5c\u8005\u200b\u4ed6\u200b\u8a8d\u70ba\u200b junior \u200b\u8ddf\u200b senior DevOps Engineers \u200b\u5728\u200b\u914d\u7f6e\u7ba1\u7406\u200b\u4e0a\u200b\u7684\u200b\u5dee\u5225\u200b\uff0c\u200b\u7121\u8ad6\u200b\u662f\u200b\u5728\u200b\u5be6\u9ad4\u6a5f\u200b\u3001VM \u200b\u6216\u662f\u200b K8s \u200b\u4e2d\u200b\uff0c\u200b\u914d\u7f6e\u200b\u90fd\u200b\u662f\u200b\u4e00\u9805\u200b\u975e\u5e38\u200b\u91cd\u8981\u200b\u7684\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u5b8c\u5584\u200b\u7684\u200b\u914d\u7f6e\u7ba1\u7406\u200b\u8b93\u200b\u8edf\u9ad4\u200b\u8207\u200b\u786c\u9ad4\u200b\u7684\u200b\u72c0\u614b\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u8ffd\u200b\u8e64\u200b\u8207\u200b\u91cd\u200b\u73fe\u200b\uff0c\u200b\u4f7f\u200b\u914d\u7f6e\u200b\u6210\u70ba\u200b single source of truth\u3002</p> <p>\u200b\u4e94\u500b\u200b\u914d\u7f6e\u7ba1\u7406\u200b\u7684\u200b\u9762\u5411\u200b\uff1a</p> <ol> <li>\u200b\u7ba1\u7406\u200b OS \u200b\u8207\u200b Middleware Software \u200b\u7684\u200b\u5b89\u88dd\u200b\u8207\u200b\u8a2d\u5b9a\u200b</li> <li>configuration-as-code</li> <li>\u200b\u7121\u8ad6\u200b\u74b0\u5883\u200b\u5982\u4f55\u200b\u8b8a\u200b\u66f4\u200b\u7684\u200b\u7d50\u679c\u200b\u90fd\u200b\u6703\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b</li> <li>\u200b\u4e86\u89e3\u200b\u8b8a\u200b\u66f4\u200b\u5c0d\u200b\u7cfb\u7d71\u200b\u53ef\u80fd\u200b\u5e36\u4f86\u200b\u7684\u200b\u526f\u4f5c\u7528\u200b</li> <li>networks-as-code</li> </ol> <p>\u200b\u4f5c\u8005\u200b\u63d0\u5021\u200b\u5584\u7528\u200b Ansible\u3001Chef \u200b\u7b49\u200b\u914d\u7f6e\u200b\u8a2d\u5b9a\u200b\u5de5\u5177\u200b\uff0c\u200b\u7576\u9762\u200b\u5c0d\u200b\u554f\u984c\u200b\u6642\u61c9\u200b\u601d\u8003\u200b enterprise-scale \u200b\u7684\u200b\u5c64\u7d1a\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u55ae\u7d14\u200b\u53ea\u662f\u200b\u89e3\u6c7a\u200b\u7576\u4e0b\u200b\u7684\u200b\u554f\u984c\u200b\u800c\u5df2\u200b\u3002</p> <p>\u200b\u56de\u8986\u200b\u4e2d\u200b\u6709\u4eba\u200b\u63d0\u5230\u200b\u6bd4\u8d77\u200b\u65b0\u6280\u8853\u200b\uff0cDevOps \u200b\u7684\u200b\u6838\u5fc3\u200b\u61c9\u8a72\u200b\u53bb\u200b\u95dc\u6ce8\u200b flow of work\uff0c\u200b\u5982\u679c\u200b\u65b0\u6280\u8853\u200b\u6c92\u6709\u200b\u8003\u91cf\u200b\u6216\u200b\u77ad\u89e3\u200b\u771f\u6b63\u200b\u9700\u8981\u200b\u89e3\u6c7a\u200b\u7684\u200b\u5546\u696d\u200b\u554f\u984c\u200b\uff0c\u200b\u90a3\u200b\u9019\u500b\u200b\u65b0\u6280\u8853\u200b\u7684\u200b\u5c0e\u5165\u200b\u5c31\u200b\u4e0d\u6703\u200b\u5e36\u4f86\u200b\u4efb\u4f55\u200b\u76ca\u8655\u200b\u3002</p>","tags":["DevOps"]},{"location":"blog/2020/07/08/open-jdk-download/","title":"Open JDK Download","text":"<p>\u200b\u554f\u984c\u200b\uff1a\u200b\u5728\u200b\u6c92\u200b\u6709\u200b\u8fa6\u6cd5\u200b\u9023\u7db2\u200b\u7684\u200b\u72c0\u6cc1\u200b\u4e0b\u8f09\u200b\u8207\u200b\u5b89\u88dd\u200b OpenJDK</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u4e0b\u8f09\u200b binary \u200b\u6a94\u200b</p> <ul> <li>Oracle \u200b\u7684\u200b OpenJDK \u200b\u9801\u200b\u9762\u4e0b\u8f09\u200b https://jdk.java.net/archive/\uff0c\u200b\u53ef\u4ee5\u200b\u4e0b\u8f09\u200b\u5404\u7a2e\u200b\u7248\u672c\u200b\u7684\u200b OpenJDK Binary\uff0c\u200b\u6709\u200b Windows\u3001Mac\u3001Linux \u200b\u7248\u200b</li> <li>ojdkbuild \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5404\u7a2e\u200b\u7248\u672c\u200b\u7684\u200b Binary\uff0c\u200b\u6709\u200b Windows\u3001Linux x86_64\u3001Linux ARM32</li> </ul>","tags":["Unix"]},{"location":"blog/2020/07/08/open-jdk-download/#windows","title":"windows \u200b\u8a2d\u5b9a","text":"<ol> <li>\u200b\u89e3\u58d3\u200b\u4e0b\u8f09\u200b\u7684\u200b Binary</li> <li>\u200b\u958b\u555f\u200b\u74b0\u5883\u200b\u8b8a\u6578\u200b\uff0c\u200b\u96fb\u8166\u200b =&gt; \u200b\u53f3\u9375\u200b\u5167\u5bb9\u200b =&gt; \u200b\u9032\u968e\u7cfb\u7d71\u200b\u8a2d\u5b9a\u200b =&gt; \u200b\u74b0\u5883\u200b\u8b8a\u6578\u200b =&gt; \u200b\u65b0\u589e\u200b\u6216\u200b\u7de8\u8f2f\u200b\u7cfb\u7d71\u200b\u8b8a\u6578\u200b</li> <li>\u200b\u65b0\u589e\u200b\u74b0\u5883\u200b\u8b8a\u6578\u200b <code>JAVA_HOME</code> \u200b\u6307\u5411\u200b Binary \u200b\u8cc7\u6599\u593e\u200b</li> <li>\u200b\u7de8\u8f2f\u200b\u74b0\u5883\u200b\u8b8a\u6578\u200b <code>PATH</code>\uff0c\u200b\u6700\u200b\u524d\u9762\u200b\u52a0\u5165\u200b <code>%JAVA_HOME%\\bin;</code></li> </ol>","tags":["Unix"]},{"location":"blog/2020/07/08/open-jdk-download/#linux","title":"Linux \u200b\u8a2d\u5b9a","text":"<p>\u200b\u89e3\u58d3\u200b\u4e0b\u8f09\u200b\u7684\u200b Binary\uff0c\u200b\u7de8\u8f2f\u200b <code>~/.bash_profile</code>\uff0c\u200b\u589e\u52a0\u200b JAVA_HOME</p> <pre><code>export JAVA_HOME=[Binary \u200b\u8def\u5f91\u200b]\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre> <p>Reference:</p> <ol> <li>Windows Open JDK \u200b\u66ff\u4ee3\u200b\u65b9\u6848\u200b\u7814\u7a76\u200b</li> <li>Java \u200b\u8981\u200b\u6536\u8cbb\u200b ?! \u200b\u662f\u200b\u6642\u5019\u200b\u4f7f\u7528\u200b OpenJDK \u200b\u4e86\u200b</li> </ol>","tags":["Unix"]},{"location":"blog/2020/07/10/django-multiple-files-upload/","title":"Django Multiple Files Upload","text":"<p>Django \u200b\u7684\u200b Filefield \u200b\u7528\u200b\u65bc\u200b\u5132\u5b58\u200b\u4e0a\u200b\u50b3\u6a94\u6848\u200b\u7684\u200b\u8def\u5f91\u200b\uff0c\u200b\u4e00\u822c\u200b\u7684\u200b\u7bc4\u4f8b\u200b\u5927\u591a\u200b\u662f\u200b\u4e0a\u200b\u50b3\u55ae\u200b\u4e00\u500b\u200b\u6a94\u6848\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u5be6\u52d9\u4e2d\u200b\u6279\u6b21\u200b\u4e0a\u200b\u50b3\u591a\u500b\u200b\u6a94\u6848\u200b\u662f\u200b\u66f4\u5e38\u898b\u200b\u7684\u200b\u9700\u6c42\u200b\uff0c\u200b\u6709\u6642\u200b\u53ef\u80fd\u200b\u9084\u6703\u200b\u642d\u914d\u200b\u66f4\u65b0\u200b\u6a94\u6848\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u7bc4\u4f8b\u200b\u70ba\u200b\u900f\u904e\u200b Django REST framework \u200b\u505a\u200b API\uff0c\u200b\u4e0a\u50b3\u200b\u6642\u5c07\u200b\u6a94\u6848\u200b\u5b58\u81f3\u200b\u7576\u5929\u200b\u65e5\u671f\u200b\u7684\u200b\u8cc7\u6599\u593e\u200b\u3002\u200b\u5982\u679c\u200b\u8cc7\u6599\u200b\u593e\u5167\u200b\u5df2\u6709\u200b\u540c\u6a23\u200b\u6a94\u540d\u200b\u7684\u200b\u6a94\u200b\u6848\u5247\u200b\u9032\u884c\u200b\u8986\u84cb\u200b\uff0c\u200b\u4e26\u200b\u66f4\u65b0\u200b\u4e0a\u50b3\u200b\u6642\u9593\u200b\u3002</p> <p>\u200b\u5b8c\u6574\u200b\u7a0b\u5f0f\u200b\u78bc\u200b\u53ef\u4ee5\u200b\u53c3\u8003\u200b django-multiple-files-upload\u3002</p>","tags":["Django"]},{"location":"blog/2020/07/10/django-multiple-files-upload/#html","title":"HTML","text":"<p>\u200b\u4e00\u500b\u200b\u7c21\u55ae\u200b\u7684\u200b\u4e0a\u200b\u50b3\u9801\u200b\u9762\u200b HTML \u200b\u5982\u4e0b\u200b</p> <pre><code>&lt;!-- templates/index.html --&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Upload Files&lt;/h1&gt;\n    &lt;form enctype=\"multipart/form-data\" action=\"/api/files/multiple_files_upload/\" method=\"post\"&gt;\n        &lt;input type=\"file\" name=\"files\" multiple&gt;\n        &lt;button type=\"submit\"&gt;Upload&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>","tags":["Django"]},{"location":"blog/2020/07/10/django-multiple-files-upload/#settingspy","title":"settings.py","text":"<ol> <li>\u200b\u8a2d\u5b9a\u200b <code>MEDIA_ROOT</code>\u3001<code>MEDIA_URL</code> \u200b\u6307\u5b9a\u200b\u4e0a\u50b3\u200b\u6a94\u6848\u200b\u7684\u200b\u6839\u76ee\u9304\u200b\u8207\u200b URL</li> <li>\u200b\u589e\u52a0\u200b <code>TEMPLATES</code> \u200b\u7684\u200b <code>DIRS</code> \u200b\u8b80\u53d6\u200b\u4e0a\u200b\u50b3\u9801\u200b\u9762\u200b\u7684\u200b HTML</li> <li><code>INSTALLED_APPS</code> \u200b\u589e\u52a0\u200b rest_framework \u200b\u8207\u200b upload app</li> </ol> <pre><code># main/settings.py\n\n# \u200b\u4e0a\u50b3\u200b\u6a94\u6848\u200b\u7684\u200b\u6839\u76ee\u9304\u200b\nMEDIA_ROOT = os.path.join(BASE_DIR, \"upload_files/\")\n# \u200b\u4e0a\u200b\u50b3\u6a94\u200b\u6848\u76ee\u200b\u9304\u200b\u7684\u200b URL\nMEDIA_URL = \"/upload_files/\"\n\n...\n\nTEMPLATES = [\n    {\n        ...\n        \"DIRS\": [os.path.join(BASE_DIR, \"templates\").replace(\"\\\\\", \"/\")], # \u200b\u8a2d\u5b9a\u200b\u4e0a\u200b\u50b3\u9801\u200b\u9762\u200b\u7684\u200b templates \u200b\u4f4d\u7f6e\u200b\n        ...\n    },\n]\n\n...\n\n# \u200b\u589e\u52a0\u200b rest_framework \u200b\u8207\u200b upload app\nINSTALLED_APPS = [\n    ...\n    \"rest_framework\",\n    \"upload.apps.UploadConfig\",\n]\n\n...\n</code></pre>","tags":["Django"]},{"location":"blog/2020/07/10/django-multiple-files-upload/#modelspy","title":"models.py","text":"<p>\u200b\u5728\u200b upload app \u200b\u4e2d\u5b9a\u200b\u7fa9\u5132\u5b58\u200b\u4e0a\u200b\u50b3\u6a94\u6848\u200b\u7684\u200b model</p> <p><code>FileField</code> \u200b\u7684\u200b\u53c3\u6578\u200b\u8a2d\u5b9a\u200b <code>upload_to</code> \u200b\u8a2d\u5b9a\u200b\u4e0a\u200b\u50b3\u6a94\u6848\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c<code>storage</code> \u200b\u8655\u7406\u91cd\u200b\u8907\u200b\u6a94\u6848\u200b\u7684\u200b\u554f\u984c\u200b</p> <pre><code># upload/models.py\n\nimport os\nfrom django.conf import settings\nfrom django.db import models\nfrom django.core.files.storage import FileSystemStorage\nimport datetime\n\ndef file_directory_path_instance(instance, filename, *args, **kwargs):\n    return file_directory_path(filename)\n\n\ndef file_directory_path(filename, *args, **kwargs):\n    return \"/\".join([datetime.datetime.today().strftime(\"%Y-%m-%d\"), filename])\n\n\n# https://docs.djangoproject.com/en/3.0/topics/files/#file-storage\nclass OverwriteStorage(FileSystemStorage):\n    def get_available_name(self, name, max_length=None):\n        # \u200b\u5982\u679c\u200b\u5df2\u7d93\u200b\u5b58\u5728\u200b\u5247\u5148\u200b\u522a\u9664\u200b\n        if self.exists(name):\n            os.remove(os.path.join(settings.MEDIA_ROOT, name))\n        return name\n\n\nclass File(models.Model):\n    file_id = models.AutoField(primary_key=True, verbose_name=\"\u200b\u6a94\u6848\u200b\u7de8\u865f\u200b\")\n    upload_file = models.FileField(\n        null=True,\n        blank=True,\n        upload_to=file_directory_path_instance, # \u200b\u6307\u5b9a\u200b\u4e0a\u50b3\u200b\u7684\u200b\u4f4d\u7f6e\u200b\n        storage=OverwriteStorage(), # \u200b\u8655\u7406\u91cd\u200b\u8907\u200b\u6a94\u6848\u200b\u7684\u200b\u554f\u984c\u200b\n        verbose_name=\"\u200b\u6a94\u6848\u200b\",\n    )\n    # auto_now = True =&gt; instance \u200b\u66f4\u65b0\u200b\u6642\u81ea\u52d5\u200b\u66f4\u65b0\u200b\u6642\u9593\u200b\n    upload_time = models.DateTimeField(verbose_name=\"\u200b\u4e0a\u50b3\u200b\u6642\u9593\u200b\", auto_now=True)\n</code></pre>","tags":["Django"]},{"location":"blog/2020/07/10/django-multiple-files-upload/#viewspy","title":"views.py","text":"<p>\u200b\u5728\u200b <code>upload</code> app \u200b\u7684\u200b view \u200b\u8a2d\u5b9a\u200b <code>FileViewSet</code> \u200b\u4e26\u200b\u65b0\u589e\u200b <code>multiple_files_upload</code> action</p> <p><code>multiple_files_upload</code> \u200b\u8655\u7406\u200b\u908f\u8f2f\u200b\u540c\u200b update_or_create\uff0c\u200b\u4f46\u9808\u200b\u8abf\u6574\u200b <code>upload_file</code> \u200b\u70ba\u200b\u5be6\u969b\u200b\u4e0a\u200b\u50b3\u200b\u7684\u200b\u6a94\u6848\u200b\u8def\u5f91\u200b\u3002\u200b\u82e5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b update_or_create <code>upload_file</code> \u200b\u7684\u200b\u503c\u200b\u53ea\u6703\u200b\u6709\u200b\u6a94\u6848\u200b\u540d\u7a31\u200b\u800c\u5df2\u200b\uff0c\u200b\u5c0e\u81f4\u200b\u67e5\u8a62\u200b\u7d50\u679c\u200b\u7684\u200b\u5224\u65b7\u200b\u932f\u8aa4\u200b\u3002</p> <pre><code># upload/views.py\n\nfrom django.shortcuts import render\nfrom rest_framework.decorators import action\nfrom rest_framework.response import Response\nfrom .models import (\n    File,\n    file_directory_path,\n)\nfrom .serializers import FileSerializer\nfrom rest_framework import viewsets\n\n\n# \b\u200b\u4e0a\u200b\u50b3\u9801\u200b\u9762\u200b\ndef upload(request):\n    return render(request, \"index.html\")\n\n\nclass FileViewSet(viewsets.ModelViewSet):\n    queryset = File.objects.all()\n    serializer_class = FileSerializer\n\n    @action(detail=False, methods=[\"post\"])\n    def multiple_files_upload(self, request, *args, **kwargs):\n        # \u200b\u53d6\u5f97\u200b file list\n        files = request.FILES.getlist(\"files\")\n        for upload_file in files:\n            try:\n                # \u200b\u67e5\u8a62\u200b\u6307\u5b9a\u200b\u8def\u5f91\u200b\u662f\u5426\u200b\u6709\u200b\u6a94\u6848\u200b\n                obj = File.objects.get(\n                    # upload_file \u200b\u5fc5\u9808\u200b\u66f4\u6539\u200b\u70ba\u200b\u4e0a\u200b\u50b3\u200b\u5f8c\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f7f\u7528\u200b file_directory_path\n                    upload_file=file_directory_path(upload_file.name) \n                )\n                obj.upload_file = upload_file\n                obj.save()\n            except File.DoesNotExist:\n                # \u200b\u67e5\u7121\u6642\u200b\u65b0\u589e\u200b\n                new_values = {\"upload_file\": upload_file}\n                obj = File(**new_values)\n                obj.save()\n        return Response({\"msg\": \"ok\"})\n</code></pre>","tags":["Django"]},{"location":"blog/2020/07/10/django-multiple-files-upload/#urlspy","title":"urls.py","text":"<p>\u200b\u8a2d\u5b9a\u200b API \u200b\u8207\u200b\u9801\u200b\u9762\u200b\u7684\u200b URL</p> <pre><code># main/urls.py\n\nfrom django.contrib import admin\nfrom django.urls import path\nfrom django.conf.urls import include\nfrom upload.views import upload\nfrom django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    path(\"admin/\", admin.site.urls),\n    path(\"upload/\", upload),\n    path(\"api/\", include(\"upload.urls\")),\n] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre> <pre><code># upload/urls.py\n\nfrom django.urls import include, path\nfrom rest_framework import routers\n\nfrom . import views\n\nrouter = routers.DefaultRouter()\nrouter.register(r\"files\", views.FileViewSet)\n\nurlpatterns = [\n    path(\"\", include(router.urls)),\n]\n</code></pre>","tags":["Django"]},{"location":"blog/2020/07/10/django-multiple-files-upload/#run-server","title":"Run server","text":"<p>\u200b\u7a0b\u5f0f\u200b\u78bc\u200b\u5b8c\u6210\u200b\u5f8c\u200b migrate DB\uff0c\u200b\u518d\u200b\u555f\u52d5\u200b Server</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\npython manage.py run server 6001\n</code></pre> <p>localhost:6001/upload/ \u200b\u53ef\u4ee5\u200b\u958b\u555f\u200b\u4e0a\u200b\u50b3\u6a94\u6848\u200b\u7684\u200b\u9801\u200b\u9762\u200b\u3002\u200b\u5b8c\u6210\u200b\u4e0a\u50b3\u200b\u5f8c\u200b localhost:6001/api/files/ \u200b\u80fd\u5920\u200b\u6aa2\u8996\u200b Files \u200b\u7684\u200b\u8cc7\u6599\u200b\uff0cupload_file \u200b\u6b04\u4f4d\u200b\u7684\u200b URL \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u9ede\u64ca\u958b\u200b\u555f\u8a72\u200b\u6a94\u6848\u200b\u3002</p> <p>Reference:</p> <ol> <li>Github - python-django-upload-multiple-files</li> </ol>","tags":["Django"]},{"location":"blog/2020/07/13/distribute-coins-in-binary-tree/","title":"Distribute Coins in Binary Tree","text":"<p>979. Distribute Coins in Binary Tree</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, val=0, left=None, right=None):\n#         self.val = val\n#         self.left = left\n#         self.right = right\nclass Solution:\n    def distributeCoins(self, root: TreeNode) -&gt; int:\n        ans = [0]\n\n        def balance(root: TreeNode, ans):\n            if root is None:\n                return 0\n            l = balance(root.left, ans)\n            r = balance(root.right, ans)\n            ans[0] += abs(l) + abs(r)\n            return root.val - 1 + l + r\n\n        balance(root, ans)\n        return ans[0]\n</code></pre> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 979. Distribute Coins in Binary Tree - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP243</li> </ol>","tags":["Tree"]},{"location":"blog/2020/07/15/use-local-images-in-minikube/","title":"Use Local Images in Minikube","text":"<p>\u200b\u554f\u984c\u200b\uff1aMinikube \u200b\u7121\u6cd5\u200b\u4f7f\u7528\u200b host \u200b\u7684\u200b docker image</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a</p> <ol> <li>\u200b\u8a2d\u5b9a\u200b\u74b0\u5883\u200b\u8b8a\u6578\u200b <code>eval $(minikube docker-env)</code> \u200b\u5207\u63db\u200b\u5230\u200b minikube VM \u200b\u7684\u200b docker \u200b\u4e2d\u200b</li> <li>\u200b\u91cd\u65b0\u200b build \u200b\u8981\u200b\u4f7f\u7528\u200b\u7684\u200b docker image</li> </ol> <p>Reference:</p> <ol> <li>How to use local docker images with Minikube?</li> <li>Reusing the Docker daemon</li> </ol>","tags":["Docker","K8s"]},{"location":"blog/2020/09/01/rules-of-thumb-for-a-1x-developer/","title":"Rules of thumb for a 1x developer","text":"<p>Rules of thumb for a 1x developer</p> <p>\u200b\u4f5c\u8005\u200b\u501f\u7528\u200b\u4e86\u200b 10x developer \u200b\u7684\u200b\u540d\u5b57\u200b\uff0c\u200b\u6574\u7406\u200b\u4e86\u200b\u4ed6\u200b\u89ba\u5f97\u200b 1x developer \u200b\u53ef\u4ee5\u200b\u4f5c\u70ba\u200b\u5de5\u4f5c\u200b\u6307\u5f15\u200b\u7684\u200b 20 \u200b\u500b\u200b\u7d93\u9a57\u200b\u6cd5\u5247\u200b\uff0c\u200b\u900f\u904e\u200b\u9019\u4e9b\u200b\u6cd5\u5247\u200b\u5e0c\u671b\u200b\u80fd\u5920\u200b\u6210\u70ba\u200b 1.1x developer\u3002</p> <p>\u200b\u7e3d\u5206\u200b\u70ba\u200b\u4e5d\u985e\u200b\u7684\u200b\u6cd5\u5247\u200b\uff1a</p> <ol> <li>Meta</li> <li>Rule 1: Rules are good<ul> <li>\u200b\u900f\u904e\u200b\u5404\u7a2e\u200b\u7d93\u9a57\u200b\u6cd5\u5247\u200b\u5efa\u7acb\u200b\u601d\u8003\u200b\u7684\u200b\u6846\u67b6\u200b\uff0c\u200b\u5229\u7528\u200b\u908f\u8f2f\u200b\u7d50\u69cb\u5316\u200b\u5404\u7a2e\u200b\u554f\u984c\u200b</li> </ul> </li> <li>Productivity and learning</li> <li>Rule 2: Most of what I learn is useless outside of its immediate context<ul> <li>\u200b\u5982\u679c\u200b\u5de5\u4f5c\u200b\u4e2d\u6709\u200b\u5927\u91cf\u200b\u6c92\u6709\u200b\u50f9\u503c\u200b\u7684\u200b\u90e8\u5206\u200b\uff0c\u200b\u61c9\u8a72\u200b\u76e1\u200b\u53ef\u80fd\u200b\u5730\u200b\u907f\u514d\u200b\uff0c\u200b\u76e1\u91cf\u200b\u95dc\u6ce8\u200b\u5728\u200b\u6709\u200b\u50f9\u503c\u200b\u7684\u200b\u5730\u65b9\u200b\u5c31\u200b\u597d\u200b</li> </ul> </li> <li>Rule 3: Focus \u201clearning time\u201d on things that compound<ul> <li>\u200b\u5b78\u7fd2\u200b\u80fd\u5920\u200b\u7522\u751f\u200b\u8907\u200b\u5229\u200b\u7684\u200b\u6771\u897f\u200b\uff0c\u200b\u6216\u662f\u200b\u9032\u884c\u200b\u80fd\u7522\u751f\u200b\u8907\u200b\u5229\u200b\u7684\u200b\u884c\u70ba\u200b\uff0c\u200b\u5f62\u6210\u200b\u4e00\u500b\u200b\u6b63\u5411\u200b\u7684\u200b\u5faa\u74b0\u200b\u3002e.g. \u200b\u95b1\u8b80\u200b\u7121\u6cd5\u7522\u751f\u200b\u8907\u200b\u5229\u200b\uff0c\u200b\u4f46\u200b\u5982\u679c\u200b\u80fd\u5920\u200b\u5be6\u969b\u200b\u61c9\u7528\u200b\uff0c\u200b\u751a\u81f3\u200b\u662f\u200b\u5206\u4eab\u200b\u5c31\u200b\u80fd\u200b\u9054\u200b\u5230\u200b\u8907\u200b\u5229\u200b\u3002</li> </ul> </li> <li>Programming languages</li> <li>Rule 4: When to use Java or C#<ul> <li>\u200b\u5927\u578b\u200b\u5546\u7528\u200b\u8edf\u9ad4\u200b</li> </ul> </li> <li>Rule 5: When to use Python or Ruby<ul> <li>AI or ML</li> </ul> </li> <li>Rule 6: When to use a hardcore language<ul> <li>Go, Rust, Haskell, Erlang, Clojure, Kotlin, Scala \u200b\u6b78\u70ba\u200b\u6b64\u985e\u200b</li> <li>Go, Rust \u200b\u7528\u200b\u65bc\u200b\u5c0d\u200b\u65bc\u200b\u6548\u80fd\u200b\u9700\u6c42\u200b\u8f03\u200b\u9ad8\u200b\u7684\u200b\u670d\u52d9\u200b</li> <li>Haskell, Erlang \u200b\u7528\u200b\u65bc\u200b\u7c21\u6f54\u200b\u6216\u662f\u200b\u6578\u5b78\u200b\u65b9\u9762\u200b\u7684\u200b\u7a0b\u5f0f\u200b</li> </ul> </li> <li>Rule 7: How to do Javascript<ul> <li>\u200b\u4f7f\u7528\u200b Typescript\uff0c\u200b\u4eba\u751f\u200b\u53ef\u4ee5\u200b\u66f4\u200b\u7c21\u55ae\u200b</li> <li>\u200b\u696d\u52d9\u200b\u908f\u8f2f\u200b\u76e1\u200b\u53ef\u80fd\u200b\u505a\u200b\u5728\u200b\u5f8c\u200b\u7aef\u200b\u5c31\u200b\u597d\u200b</li> <li>\u200b\u6709\u200b\u4e92\u52d5\u200b\u9700\u6c42\u200b\u4f7f\u7528\u200b Vue \u200b\u6216\u200b React</li> <li>\u200b\u8a18\u5f97\u200b\u505a\u200b unit tests</li> </ul> </li> <li>Rule 8: When to use C or C++<ul> <li>\u200b\u901a\u5e38\u200b\u4e0d\u662f\u200b\u4f60\u200b\u9078\u64c7\u200b C\uff0c\u200b\u800c\u662f\u200b C \u200b\u9078\u64c7\u200b\u4e86\u200b\u4f60\u200b\uff0c\u200b\u56e0\u61c9\u200b\u5834\u666f\u200b\u88ab\u8feb\u200b\u4f7f\u7528\u200b</li> <li>C++ \u200b\u6709\u200b\u8f03\u200b\u4f73\u200b\u7684\u200b\u6548\u80fd\u200b\uff0c\u200b\u5e38\u7528\u200b\u5728\u200b\u6a5f\u5668\u200b\u4eba\u200b\u6216\u662f\u200b\u9ad8\u983b\u200b\u4ea4\u6613\u200b</li> </ul> </li> <li>Rule 9: Use PHP or Hack if you want to test server changes without rebuilding</li> <li>Technologies</li> <li>Rule 10: When to make a serverless function<ul> <li>\u200b\u6bcf\u4e00\u9694\u200b\u4e00\u6bb5\u200b\u6642\u9593\u200b\u8981\u200b\u57f7\u884c\u200b\u7684\u200b\u4e00\u5c0f\u200b\u7247\u6bb5\u200b\u7a0b\u5f0f\u200b</li> </ul> </li> <li>Rule 11: Which database technology to choose<ul> <li>\u200b\u6709\u200b ACID \u200b\u9700\u6c42\u200b\u5c31\u662f\u200b\u4e56\u4e56\u200b\u7528\u200b SQL\uff0c\u200b\u63a8\u85a6\u200b PostgreSQL</li> </ul> </li> <li>Testing</li> <li>Rule 12: When to write a unit test<ul> <li>\u200b\u8a55\u4f30\u200b\u7f3a\u9677\u200b\u7684\u200b\u53ef\u80fd\u6027\u200b\uff0a\u200b\u7f3a\u9677\u200b\u5e36\u4f86\u200b\u7684\u200b\u640d\u5931\u200b\uff0c\u200b\u5982\u679c\u200b\u5beb\u200b\u6e2c\u8a66\u200b\u7684\u200b\u6210\u672c\u200b\u9060\u8d85\u904e\u200b\u4e86\u200b\u671f\u671b\u503c\u200b\uff0c\u200b\u4f3c\u4e4e\u200b\u4e5f\u200b\u6c92\u200b\u6709\u200b\u5beb\u200b\u7684\u200b\u5fc5\u8981\u200b\u3002\u200b\u4f46\u200b\u6bcf\u500b\u200b\u7247\u6bb5\u200b\u7684\u200b\u7a0b\u5f0f\u200b\u78bc\u200b\u4ecd\u200b\u61c9\u8a72\u200b\u662f\u200b\u8981\u200b\u76e1\u200b\u53ef\u80fd\u200b\u505a\u5230\u200b\u6e2c\u8a66\u200b\uff0c\u200b\u6216\u200b\u81f3\u5c11\u200b\u8981\u200b\u5beb\u200b\u7684\u200b\u662f\u200b\u53ef\u200b\u6e2c\u8a66\u200b\u7684\u200b\u3002</li> </ul> </li> <li>Rule 13: When to write an integration test<ul> <li>\u200b\u7576\u200b\u529f\u80fd\u200b\u5305\u542b\u200b\u4e0d\u5c6c\u200b\u65bc\u200b\u4f60\u200b\u7684\u200b Code \u200b\u6642\u200b\u5c31\u8981\u200b\u505a\u200b integration test\uff0c\u200b\u7279\u5225\u200b\u662f\u200b Code \u200b\u53ef\u80fd\u200b\u5728\u200b\u4f60\u200b\u4e0d\u77e5\u60c5\u200b\u7684\u200b\u72c0\u6cc1\u200b\u4e0b\u200b\u88ab\u200b\u66f4\u52d5\u200b</li> </ul> </li> <li>Rule 14: When to write an end-to-end test<ul> <li>\u200b\u53ef\u4ee5\u200b\u5b9a\u7fa9\u70ba\u200b\u4e00\u500b\u200b\u4f7f\u7528\u8005\u200b\u6848\u4f8b\u200b\uff0c\u200b\u4f7f\u7528\u8005\u200b\u53ef\u80fd\u200b\u662f\u200b\u4e00\u500b\u200b\u4eba\u200b\u6216\u200b\u6a5f\u5668\u200b</li> <li>\u200b\u4e09\u500b\u200b\u60c5\u5883\u200b</li> <li>\u200b\u5c0d\u200b\u65bc\u200b\u6210\u54c1\u200b\u6c92\u6709\u200b\u5b8c\u5168\u200b\u77ad\u89e3\u200b\uff0c\u200b\u5efa\u7acb\u200b\u4e00\u4e9b\u200b\u6848\u4f8b\u200b\u7576\u4f5c\u200b Smoke Test\uff0c\u200b\u78ba\u4fdd\u200b\u6771\u897f\u200b\u81f3\u5c11\u200b\u6c92\u6709\u200b\u58de\u200b</li> <li>\u200b\u9700\u8981\u200b\u8ff4\u200b\u6b78\u200b\u57f7\u884c\u200b\u7684\u200b\u6e2c\u8a66\u200b\uff0c\u200b\u53ef\u7528\u200b\u65bc\u200b\u672a\u4f86\u200b\u91cd\u69cb\u200b\u7684\u200b\u4f9d\u64da\u200b</li> <li>\u200b\u727d\u6d89\u200b\u8907\u200b\u96dc\u7684\u200b\u8a08\u7b97\u200b\uff0c\u200b\u9a57\u8b49\u200b\u4e00\u4e9b\u200b\u5176\u4ed6\u200b\u7684\u200b Code \u200b\u662f\u5426\u200b\u6703\u200b\u5c0d\u200b\u4ed6\u200b\u7522\u751f\u200b\u5f71\u97ff\u200b</li> </ul> </li> <li>DevOps</li> <li>Rule 15: When to bring on a dedicated support engineer</li> <li>Security</li> <li>Rule 16: If you delegate all your IT security to the InfoSec, they will come up with draconian rules<ul> <li>\u200b\u5982\u679c\u200b\u8b93\u8cc7\u200b\u5b89\u90e8\u200b\u9580\u6c7a\u5b9a\u200b\u6240\u6709\u200b\u8cc7\u5b89\u76f8\u95dc\u200b\u898f\u7bc4\u200b\uff0c\u200b\u53ea\u6703\u200b\u5efa\u7acb\u200b\u51fa\u6975\u5ea6\u200b\u56b4\u82db\u200b\u7684\u200b\u898f\u7bc4\u200b</li> </ul> </li> <li>Designing and Whiteboarding</li> <li>Rule 17: Make the design session about input, not approval</li> <li>Project management</li> <li>Rule 18: Estimates serve more for creating pressure than for project planning<ul> <li>\u200b\u6642\u7a0b\u200b\u901a\u5e38\u200b\u662f\u200b\u53ea\u662f\u200b\u7528\u200b\u4f86\u200b\u88fd\u200b\u9020\u200b\u58d3\u200b\u529b\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4f5c\u70ba\u200b\u898f\u5283\u200b\u7684\u200b\u6307\u5f15\u200b</li> </ul> </li> <li>Rule 19: Be explicit about the difference between hard deadlines, soft deadlines, internal deadlines, and expected completion dates<ul> <li>\u200b\u5206\u200b\u6e05\u695a\u200b\u56db\u7a2e\u200b\u4e0d\u540c\u200b\u7684\u200b Deadline</li> <li>Hard deadline: Delay \u200b\u6703\u200b\u8b93\u200b\u8001\u200b\u95c6\u200b\u6216\u662f\u200b\u516c\u53f8\u200b\u5f88\u96e3\u200b\u770b\u200b\u7684\u200b\u72c0\u6cc1\u200b</li> <li>Soft deadline: Delay \u200b\u6703\u200b\u8b93\u200b\u67d0\u4e9b\u200b\u4eba\u200b\u5f88\u200b\u96e3\u200b\u770b\u200b\u7684\u200b\u72c0\u6cc1\u200b</li> <li>Internal deadline: \u200b\u53ea\u6703\u200b\u5f71\u97ff\u200b\u5230\u200b\u5718\u968a\u200b\u5167\u200b\u7684\u200b\u4eba\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u6703\u200b\u5f71\u97ff\u200b\u5230\u200b\u5916\u90e8\u200b\u7684\u200b\u4eba\u200b</li> <li>Expected completion date: \u200b\u5718\u968a\u200b\u5167\u90e8\u200b\u9810\u671f\u200b\u8981\u200b\u5b8c\u6210\u200b\u7684\u200b\u65e5\u671f\u200b</li> </ul> </li> <li>Rule 20: When somebody says Agile, push for Kanban, not Scrum<ul> <li>\u200b\u5982\u679c\u200b\u8981\u200b\u8dd1\u200b Agile \u200b\u7528\u200b Kanban \u200b\u4e0d\u8981\u200b\u7528\u200b Scrum</li> <li>Scrum: \u200b\u5728\u200b\u9019\u5169\u9031\u200b\u5b8c\u6210\u200b\u9019\u4e9b\u200b\u4e8b\u200b\uff0c\u200b\u5916\u90e8\u200b\u7d66\u4e88\u200b\u7684\u200b\u6642\u9593\u200b\u58d3\u529b\u200b</li> <li>Kanba: \u200b\u505a\u200b\u5169\u200b\u9031\u80fd\u200b\u5b8c\u6210\u200b\u7684\u200b\u4e8b\u200b\uff0c\u200b\u5167\u90e8\u200b\u8a55\u4f30\u200b\u53ef\u200b\u5b8c\u6210\u200b\u7684\u200b\u5de5\u4f5c\u91cf\u200b</li> </ul> </li> </ol>","tags":["Rules of thumb"]},{"location":"blog/2020/09/06/openvpn-for-docker/","title":"OpenVPN for Docker","text":"<p>OpenVPN for Docker \u200b\u628a\u200b OpenVPN \u200b\u6253\u5305\u200b\u6210\u200b Docker Image\uff0c\u200b\u900f\u904e\u200b Docker \u200b\u53ef\u4ee5\u200b\u5feb\u901f\u200b\u5efa\u7acb\u200b\u4e00\u500b\u200b OpenVPN Server\u3002</p> <p>\u200b\u5efa\u7acb\u200b OpenVPN Server \u200b\u6b65\u9a5f\u200b\uff1a</p> <p>\u200b\u900f\u904e\u200b Docker Volume \u200b\u76f8\u95dc\u200b\u6a94\u6848\u200b\u90fd\u200b\u6703\u7522\u751f\u200b\u65bc\u200b\u7576\u524d\u200b\u76ee\u9304\u200b\u4e0b\u200b\u7684\u200b opnevpn \u200b\u8cc7\u6599\u200b\u593e\u4e2d\u200b(`pwd`/openvpn)</p> <ol> <li> <p>\u200b\u5efa\u7acb\u200b\u76f8\u95dc\u200b\u8a2d\u5b9a\u200b\u8207\u200b\u6191\u8b49\u200b\uff0c\u200b\u6703\u200b\u8981\u6c42\u200b\u8a2d\u5b9a\u200b passphrase</p> <pre><code># VPN.SERVERNAME.COM \u200b\u9700\u6539\u200b\u70ba\u200b\u5be6\u969b\u200b\u7684\u200b domain \u200b\u6216\u200b ip\ndocker run -v `pwd`/openvpn:/etc/openvpn --log-driver=none --rm kylemanna/openvpn ovpn_genconfig -u udp://VPN.SERVERNAME.COM\ndocker run -v `pwd`/openvpn:/etc/openvpn --log-driver=none --rm -it kylemanna/openvpn ovpn_initpki\n</code></pre> </li> <li> <p>\u200b\u555f\u52d5\u200b OpenVPN Server</p> <pre><code>docker run -v `pwd`/openvpn:/etc/openvpn -d -p 1194:1194/udp --cap-add=NET_ADMIN kylemanna/openvpn\n</code></pre> </li> <li> <p>\u200b\u751f\u6210\u200b\u6c92\u6709\u200b passphrase \u200b\u7684\u200b client certificate</p> <pre><code>docker run -v $OVPN_DATA:/etc/openvpn --log-driver=none --rm -it kylemanna/openvpn easyrsa build-client-full CLIENTNAME nopass\n</code></pre> </li> <li> <p>\u200b\u751f\u6210\u200b\u5e36\u6709\u200b\u8a8d\u8b49\u200b\u7684\u200b OpenVPN Client \u200b\u8a2d\u5b9a\u200b\u6a94\u200b</p> <pre><code>docker run -v $OVPN_DATA:/etc/openvpn --log-driver=none --rm kylemanna/openvpn ovpn_getclient CLIENTNAME &gt; CLIENTNAME.ovpn\n</code></pre> </li> </ol> <p>OpenVPN Client\uff1a</p> <ol> <li>Mac \u200b\u63a8\u85a6\u200b\u4f7f\u7528\u200b Tunnelblick\uff0c\u200b\u8a2d\u5b9a\u200b\u6a94\u200b\u532f\u5165\u200b\u7684\u200b\u65b9\u5f0f\u200b\u662f\u5c07\u200b .ovpn \u200b\u6a94\u200b\u62d6\u66f3\u200b\u5230\u200b Menubar \u200b\u7684\u200b Tunnelblick icon \u200b\u4e0a\u200b</li> <li>windows \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b OpenVPN \u200b\u63d0\u4f9b\u200b\u7684\u200b Client\uff0c\u200b\u8a2d\u5b9a\u200b\u6a94\u200b\u532f\u5165\u200b\u7684\u200b\u65b9\u5f0f\u200b\u662f\u5c07\u200b .ovpn \u200b\u6a94\u200b\u8907\u200b\u88fd\u200b\u81f3\u200b OpenVPN \u200b\u7684\u200b config \u200b\u8cc7\u6599\u200b\u593e\u4e2d\u200b\uff0c\u200b\u5927\u591a\u200b\u70ba\u200b <code>C:\\Program Files\\OpenVPN\\config</code></li> </ol> <p>Reference:</p> <ol> <li>OpenVPN for Docker</li> </ol>","tags":["Toolbox"]},{"location":"blog/2020/09/07/number-of-ways-to-split-a-string/","title":"Number of Ways to Split a String","text":"<p>1573. Number of Ways to Split a String</p> <pre><code>class Solution:\n    def numWays(self, s: str) -&gt; int:\n        total = 0\n        for digit in s:\n            total += int(digit)\n\n        # total \u200b\u7121\u6cd5\u200b\u88ab\u200b 3 \u200b\u6574\u9664\u200b\u5fc5\u5b9a\u200b\u7121\u6cd5\u200b\u5207\u6210\u200b\u4e09\u4efd\u200b\n        if total % 3 != 0:\n            return 0\n\n        # \u200b\u5168\u70ba\u200b\u96f6\u200b\u7684\u200b\u8a71\u200b\u6709\u200b n - 1 \u200b\u500b\u200b\u5207\u5272\u200b\u9ede\u200b\uff0cC(n-1, 2) \uff1d&gt; (n-1)! / (2!*(n-1-2)!)  =&gt; (n-1)(n-2) / 2\n        if total == 0:\n            return ((len(s) - 1) * (len(s) - 2) // 2) % (10 ** 9 + 7)\n\n        # \u200b\u627e\u5230\u200b\u55ae\u908a\u200b\u6eff\u200b\u8db3\u8db3\u200b\u5920\u200b \b1 \u200b\u5230\u200b\u4e0b\u200b\u4e00\u500b\u200b 1 \u200b\u4e4b\u9593\u200b\u7684\u200b\u5207\u5272\u200b\u9ede\u6578\u91cf\u200b\n        def count_cut(s: str, total: int) -&gt; int:\n            current_sum = 0\n            cut_amount = 0\n            for ind in range(0, len(s)):\n                current_sum += int(s[ind])\n                if current_sum &gt; total / 3:\n                    break\n                elif current_sum == total / 3:\n                    cut_amount += 1\n            return cut_amount\n\n        # \u200b\u5de6\u908a\u200b\u5207\u5272\u200b\u9ede\u6578\u91cf\u200b * \u200b\u53f3\u908a\u200b\u5207\u5272\u200b\u9ede\u6578\u91cf\u200b\n        return (count_cut(s, total) * count_cut(s[::-1], total)) % (10 ** 9 + 7)\n</code></pre> <p>\u200b\u5207\u5272\u200b\u9ede\u6578\u91cf\u200b\u8aaa\u660e\u200b\uff1a</p> <pre><code>           | | | |     | | |  \n0 0 1 0 0 1 0 0 0 1 0 1 0 0 1 1  \n</code></pre> <p>\u200b\u5b57\u4e32\u200b\u7e3d\u548c\u70ba\u200b 6\uff0c\u200b\u8868\u793a\u200b\u4e09\u4efd\u200b\u5404\u81ea\u200b\u7e3d\u548c\u70ba\u200b 2\uff0c\u200b\u55ae\u908a\u200b\u958b\u59cb\u200b\u9010\u4e00\u200b\u7d2f\u52a0\u200b\uff0c\u200b\u7d2f\u52a0\u200b\u70ba\u200b 2 \u200b\u6642\u958b\u59cb\u200b\u8a08\u7b97\u200b\u53ef\u200b\u5207\u5272\u200b\u9ede\u200b\uff0c\u200b\u7576\u518d\u200b\u9047\u5230\u200b 1 \u200b\u5c31\u200b\u7121\u6cd5\u200b\u518d\u200b\u5207\u5272\u200b\uff0c\u200b\u5de6\u53f3\u200b\u5169\u908a\u200b\u5207\u5272\u200b\u9ede\u200b\u76f8\u4e58\u200b\uff084*3\uff09\u200b\u70ba\u200b\u53ef\u80fd\u200b\u7d44\u5408\u6578\u200b\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 1573. Number of Ways to Split a String - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP354</li> </ol>","tags":[]},{"location":"blog/2020/09/09/npm-err-code-self_signed_cert_in_chain/","title":"npm ERR! code SELF_SIGNED_CERT_IN_CHAIN","text":"<p>\u200b\u554f\u984c\u200b\uff1a<code>npm install</code> \u200b\u51fa\u73fe\u200b npm ERR! code SELF_SIGNED_CERT_IN_CHAIN \u200b\u932f\u8aa4\u200b\u8a0a\u606f\u200b</p> <p>\u200b\u539f\u56e0\u200b\uff1a\u200b\u820a\u7248\u200b\u7684\u200b npm \u200b\u5c07\u81ea\u7c3d\u200b\u7684\u200b CA file \u200b\u7d81\u5b9a\u200b\u5728\u200b client \u200b\u4e2d\u200b\uff0c\u200b\u56e0\u6b64\u200b\u7576\u200b npm registry \u200b\u66f4\u65b0\u200b\u7c3d\u8b49\u200b\u6642\u6703\u200b\u767c\u751f\u200b\u7c3d\u8b49\u200b\u4e0d\u200b\u543b\u5408\u200b</p> <p>\u200b\u6709\u4e09\u7a2e\u200b\u89e3\u6cd5\u200b\uff1a</p> <ol> <li> <p>\u200b\u66f4\u65b0\u200b npm \u200b\u7248\u672c\u200b</p> <pre><code>npm install npm -g --ca=null\n</code></pre> </li> <li> <p>\u200b\u4e0d\u200b\u4f7f\u7528\u200b npm \u200b\u5167\u5efa\u200b\u7684\u200b CA\uff0c\u200b\u6539\u200b\u4f7f\u7528\u200b node \u200b\u7684\u200b CA</p> <pre><code>npm config set ca=\"\"\n</code></pre> </li> <li> <p>\u200b\u505c\u7528\u200b SSL \u200b\u56b4\u683c\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u5ffd\u7565\u200b SSL \u200b\u7684\u200b\u932f\u8aa4\u200b\uff0c\u200b\u4f46\u6703\u200b\u6709\u200b\u5b89\u5168\u200b\u7591\u616e\u200b</p> <pre><code>npm set strict-ssl false\n</code></pre> </li> </ol> <p>Reference:</p> <ol> <li>nodejs \u201cnpm ERR! code SELF_SIGNED_CERT_IN_CHAIN\u201d</li> <li>More help with SELF_SIGNED_CERT_IN_CHAIN and npm</li> </ol>","tags":["Node.js"]},{"location":"blog/2020/09/18/the-future-of-ops-jobs/","title":"The Future of Ops Jobs","text":"<p>The Future of Ops Jobs</p> <p>\u200b\u672c\u7bc7\u200b\u4ecb\u7d39\u200b\u4e86\u200b\u7dad\u904b\u200b\u7684\u200b\u6539\u8b8a\u200b\u4ee5\u53ca\u200b\u7dad\u904b\u200b\u5de5\u7a0b\u200b\u5e2b\u7684\u200b\u672a\u4f86\u200b\u8077\u6daf\u200b\u8d70\u5411\u200b</p>","tags":["DevOps"]},{"location":"blog/2020/09/18/the-future-of-ops-jobs/#_1","title":"\u7dad\u904b\u200b\u7684\u200b\u6539\u8b8a","text":"<ol> <li>From monolith to microservices    \u200b\u5f9e\u200b monolith \u200b\u5230\u200b microservices\uff0c\u200b\u6578\u91cf\u200b\u7684\u200b\u589e\u52a0\u200b\u8b93\u200b\u7dad\u904b\u200b\u7684\u200b\u96e3\u5ea6\u200b\u5927\u5e45\u200b\u63d0\u5347\u200b</li> <li>From monitoring to observability    \u200b\u5f9e\u200b\u57fa\u790e\u200b\u7684\u200b\u76e3\u63a7\u200b\uff08\u200b\u5982\u200b Prometheus\uff09\u200b\u5230\u200b\u9032\u968e\u200b\u7684\u200b\u89c0\u6e2c\u200b\uff08\u200b\u5982\u200b zipkin\u3001jaeger\uff09</li> <li>From magic autoinstrumentation to instrumenting with intent    Autoinstrumentation \u200b\u96d6\u7136\u200b\u80fd\u5920\u200b\u5feb\u901f\u200b\u5206\u6790\u200b\u6216\u200b\u76e3\u63a7\u200b\u7a0b\u5f0f\u200b\uff0c\u200b\u4f46\u200b\u537b\u200b\u7121\u6cd5\u91dd\u200b\u5c0d\u200b\u7279\u5b9a\u200b\u7684\u200b\u9700\u6c42\u200b\u8abf\u6574\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4ecd\u200b\u6709\u200b\u5fc5\u8981\u200b\u64b0\u5beb\u200b\u81ea\u5df1\u200b\u7684\u200b instrumentation \u200b\u7a0b\u5f0f\u200b</li> </ol>","tags":["DevOps"]},{"location":"blog/2020/09/18/the-future-of-ops-jobs/#_2","title":"\u7dad\u904b\u200b\u5de5\u7a0b\u200b\u5e2b\u7684\u200b\u672a\u4f86\u200b\u8077\u6daf\u200b\u65b9\u5411","text":"<p>\u200b\u8207\u200b\u904e\u53bb\u200b\u76f8\u6bd4\u200b\u73fe\u5728\u200b\u7684\u200b\u7dad\u904b\u200b\u5de5\u7a0b\u200b\u5e2b\u200b\u53ef\u4ee5\u200b\u4e0d\u6b62\u200b\u4f9d\u9644\u200b\u5728\u200b\u5404\u200b\u516c\u53f8\u200b\u5e95\u4e0b\u200b\uff0cinfrastructure software as a service \u200b\u7684\u200b\u5f62\u5f0f\u200b\u8b93\u200b\u7dad\u904b\u200b\u5de5\u7a0b\u200b\u5e2b\u4e5f\u80fd\u200b\u6709\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u767c\u5c55\u200b\uff0c\u200b\u50cf\u662f\u200b AWS \u200b\u6216\u200b Azure\u3002</p> <p>\u200b\u82e5\u200b\u662f\u200b\u9078\u64c7\u200b\u5728\u200b\u5404\u200b\u516c\u53f8\u200b\u5e95\u4e0b\u200b\u64d4\u4efb\u200b\u7dad\u904b\u200b\u5de5\u7a0b\u200b\u5e2b\u200b\uff0c\u200b\u5c08\u6ce8\u200b\u5728\u200b\u8b93\u200b\u5de5\u7a0b\u200b\u5718\u968a\u200b\u9806\u66a2\u200b\u5730\u200b\u767c\u5e03\u7522\u54c1\u200b\uff0c\u200b\u76e1\u200b\u53ef\u80fd\u200b\u6e1b\u5c11\u200b\u81ea\u5df1\u200b\u6253\u9020\u200b infrastructure\u3002\u200b\u53e6\u5916\u200b\u4f5c\u8005\u200b\u4e5f\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5e7e\u500b\u200b\u8077\u6daf\u200b\u65b9\u5411\u200b\uff1a</p> <ol> <li>Vendor engineering</li> <li>\u200b\u900f\u904e\u200b\u8a62\u50f9\u200b\u8207\u200b\u8a66\u200b\u63a2\u6027\u200b\u7684\u200b\u554f\u984c\u200b\u8a55\u4f30\u200b\u5ee0\u5546\u200b\u548c\u200b\u4ed6\u5011\u200b\u7684\u200b\u7522\u54c1\u200b</li> <li>\u200b\u8a55\u4f30\u200b\u5718\u968a\u200b\u53ef\u4ee5\u200b\u4ed8\u51fa\u200b\u7684\u200b\u4eba\u529b\u200b\u8207\u200b\u6642\u9593\u200b\uff0c\u200b\u76e1\u200b\u53ef\u80fd\u200b\u524a\u6e1b\u200b\u4eba\u529b\u200b\u7684\u200b\u6295\u5165\u200b\uff0c\u200b\u5c08\u6ce8\u200b\u5728\u200b\u672c\u696d\u200b\u4e0a\u200b</li> <li>\u200b\u8861\u91cf\u200b\u7522\u54c1\u200b\u7684\u200b\u5be6\u969b\u200b\uff0c\u200b\u6559\u80b2\u200b\u8207\u200b\u63a8\u5ee3\u5408\u9069\u200b\u7684\u200b\u89e3\u6c7a\u200b\u65b9\u6848\u200b\u7d66\u5167\u90e8\u200b\u4eba\u54e1\u200b\uff0c\u200b\u7279\u5225\u200b\u662f\u200b\u4e3b\u7ba1\u200b\u8207\u200b\u8ca1\u52d9\u4eba\u54e1\u200b</li> <li>Product engineering</li> <li>\u200b\u52a0\u5165\u200b\u958b\u767c\u200b\u5718\u968a\u200b\u4e00\u6bb5\u200b\u6642\u9593\u200b\uff0c\u200b\u4e86\u89e3\u200b\u4ed6\u5011\u200b\u600e\u9ebc\u200b\u601d\u8003\u200b\u8207\u200b\u958b\u767c\u200b</li> <li>\u200b\u8ddf\u958b\u200b\u767c\u5718\u968a\u200b\u5efa\u7acb\u200b\u826f\u597d\u200b\u7684\u95dc\u200b\u4fc2\u200b</li> <li>Sociotechnical systems engineering</li> <li>\u200b\u7cbe\u7c21\u200b deploy pipeline\uff0c\u200b\u512a\u5316\u200b\u6e2c\u8a66\u200b\u3001CI/CD \u200b\u7b49\u7b49\u200b\u8b93\u200b\u90e8\u7f72\u200b\u66f4\u52a0\u200b\u81ea\u52d5\u5316\u200b</li> <li>\u200b\u8a2d\u8a08\u200b\u8207\u200b\u512a\u5316\u200b\u958b\u767c\u200b\u65b0\u200b\u529f\u80fd\u200b\u8207\u200b\u4fee\u200b\u5fa9\u200b Bug \u200b\u7684\u200b\u5faa\u74b0\u200b</li> <li>\u200b\u5efa\u7acb\u200b\u7576\u8cac\u200b\u7684\u200b\u6587\u5316\u200b</li> <li>Managing the portfolio of technical investments</li> <li>\u200b\u5b78\u6703\u200b\u512a\u96c5\u5730\u200b\u9077\u79fb\u200b\uff0c\u200b\u4e0d\u8981\u200b\u6b98\u7559\u200b\u820a\u7522\u54c1\u200b\u6216\u200b\u67b6\u69cb\u200b\u7684\u200b\u7522\u51fa\u7269\u200b</li> <li>\u200b\u52a0\u5165\u200b\u5404\u7a2e\u200b\u5de5\u5177\u200b\u6642\u8981\u200b\u5148\u554f\u200b\u81ea\u5df1\u200b\u300e\u200b\u8981\u200b\u9019\u500b\u200b\u5de5\u5177\u200b\u7684\u200b\u7dad\u8b77\u200b\u8a08\u756b\u200b\u662f\u200b\u4ec0\u9ebc\u200b\uff1f\u300f</li> <li>\u200b\u591a\u5b78\u7fd2\u200b\u3001\u200b\u591a\u200b\u589e\u52a0\u200b\u5f71\u97ff\u529b\u200b</li> </ol>","tags":["DevOps"]},{"location":"blog/2020/11/01/vue-bootstrap-admin-menu/","title":"Vue Bootstrap Admin Menu","text":"<p>vue-bootstrap-admin\uff1a\u200b\u4eff\u7167\u200b vue-element-admin \u200b\u4f7f\u7528\u200b Bootstrap \u200b\u8207\u200b vue-router \u200b\u4f9d\u200b Router \u200b\u751f\u6210\u200b Menu \u200b\u7684\u200b Template\u3002</p> <p>Features:</p> <ol> <li>\u200b\u4f9d\u200b router \u200b\u52d5\u614b\u200b\u751f\u6210\u200b Navbar\uff0c\u200b\u6700\u200b\u591a\u200b\u652f\u63f4\u200b\u5169\u5c64\u200b\u7684\u200b\u9078\u55ae\u200b</li> <li>\u200b\u5b50\u9078\u55ae\u200b active \u200b\u6642\u200b\uff0c\u200b\u6bcd\u9078\u55ae\u200b\u4e5f\u200b\u6703\u200b\u6709\u200b active style</li> </ol>","tags":["Vue"]},{"location":"blog/2020/11/01/vue-bootstrap-admin-menu/#router","title":"Router","text":"<p>\u200b\u5728\u200b Router \u200b\u4e2d\u200b\b\u200b\u6bcf\u500b\u200b\u4e00\u7d1a\u200b\u9078\u55ae\u200b\u90fd\u200b\u8996\u70ba\u200b\u4e00\u7d44\u200b Group\uff0c\u200b\u7b2c\u4e00\u200b\u500b\u968e\u200b component \u200b\u70ba\u200b Layout\uff0c\u200b\u4e14\u200b\u90fd\u200b\u81f3\u5c11\u200b\u9700\u8981\u200b\u4e00\u500b\u200b Child \u200b\u4f5c\u70ba\u200b router-view \u200b\u5167\u200b\u7684\u200b\u5167\u5bb9\u200b\uff0c\u200b\u5982\u200b Home \u200b\u7684\u200b Router \u200b\u8a2d\u5b9a\u200b\uff1a</p> <pre><code>{\n  path: '/',\n  redirect: '/home',\n  component: Layout, // &lt;== \u200b\u7b2c\u4e00\u200b\u968e\u70ba\u200b Layout\n  children: [\n    { // &lt;== \u200b\u5be6\u969b\u8981\u200b\u986f\u793a\u200b\u7684\u200b\u9801\u200b\u9762\u200b\n      path: '/home',\n      name: 'Home',\n      component: () =&gt; import('@/views/home'),\n      meta: {\n        title: 'Home' // &lt;== \u200b\u986f\u793a\u200b\u5728\u200b Menu \u200b\u7684\u200b Title\n      }\n    }\n  ]\n}\n</code></pre> <p>\u200b\u986f\u793a\u200b\u5169\u5c64\u200b\u9078\u55ae\u200b\u6642\u200b\uff0cChild \u200b\u5247\u70ba\u200b\u591a\u7d44\u200b\uff0c\u200b\u6bcd\u9078\u55ae\u200b\u7684\u200b Title \u200b\u8a2d\u5b9a\u200b\u56de\u6b78\u200b\u7b2c\u4e00\u200b\u968e\u9032\u884c\u200b\u8a2d\u5b9a\u200b\uff0c\u200b\u5982\u200b About \u200b\u7684\u200b Router \u200b\u8a2d\u5b9a\u200b\uff1a</p> <pre><code>{\n  path: '/about',\n  component: Layout,\n  meta: {\n    title: 'About' // &lt;== \u200b\u986f\u793a\u200b\u5728\u200b Menu \u200b\u7b2c\u4e00\u200b\u5c64\u200b \u200b\u7684\u200b Title\n  },\n  children: [\n    {\n      path: '/about',\n      name: 'About',\n      component: () =&gt; import('@/views/about'),\n        meta: {\n          title: 'About'\n        }\n    },\n    {\n      path: '/contact',\n      name: 'Contact',\n      component: () =&gt; import('@/views/contact'),\n      meta: {\n        title: 'Contact'\n      }\n    }\n  ]\n}\n</code></pre> <p>\u200b\u82e5\u6709\u200b Router \u200b\u6c92\u6709\u200b\u8981\u200b\u986f\u793a\u200b\u5728\u200b\u9078\u55ae\u200b\u4e2d\u200b\uff0c\u200b\u5247\u200b\u53ef\u4ee5\u200b\u8a2d\u5b9a\u200b <code>hidden=true</code>\uff0c\u200b\u5982\u200b Task \u200b\u6216\u200b User \u200b\u7684\u200b Router \u200b\u8a2d\u5b9a\u200b\uff1a</p> <pre><code>{\npath: '/task',\n  redirect: '/task/list',\n  component: Layout,\n  children: [\n    {\n      path: '/task/list',\n      name: 'Task',\n      component: () =&gt; import('@/views/task/task-list'),\n      meta: {\n        title: 'Task' // &lt;== \u200b\u56e0\u70ba\u200b children \u200b\u53ea\u200b\u5269\u4e0b\u200b\u4e00\u500b\u200b\u53ef\u200b\u986f\u793a\u200b\u7684\u200b\u9078\u55ae\u200b\uff0c\u200b\u6b64\u200b child \u200b\u8b8a\u70ba\u200b\u7b2c\u4e00\u200b\u5c64\u9078\u55ae\u200b\uff0c\u200b\u986f\u793a\u200b\u5728\u200b Menu \u200b\u7b2c\u4e00\u200b\u5c64\u200b\u7684\u200b Title \u200b\u7531\u6b64\u200b\u6c7a\u5b9a\u200b\n      }\n    },\n    {\n      path: '/task/detail/:id',\n      name: 'TaskDetail',\n      component: () =&gt; import('@/views/task/task-detail'),\n      hidden: true, // &lt;== \u200b\u4e0d\u200b\u986f\u793a\u200b\u5728\u200b\u9078\u55ae\u200b\u4e2d\u200b\n      props: true,\n      meta: {\n        title: 'Task Detail'\n      }\n    }\n  ]\n}\n</code></pre> <pre><code>{\n  path: '/user',\n  redirect: '/user/list',\n  component: Layout,\n  meta: {\n    title: 'User' // &lt;== \u200b\u6392\u9664\u200b\u6389\u200b hidden children \u200b\u5f8c\u200b\uff0cchildren \u200b\u6578\u200b &gt; 0\uff0c\u200b\u4ecd\u200b\u751f\u6210\u200b\u5169\u5c64\u200b\u9078\u55ae\u200b\uff0cMenu \u200b\u7b2c\u4e00\u200b\u5c64\u200b \u200b\u7684\u200b Title \u200b\u7531\u6b64\u200b\u6c7a\u5b9a\u200b\n  },\n  children: [\n    {\n      path: '/user/list',\n      name: 'User',\n      component: () =&gt; import('@/views/user/user-list'),\n      meta: {\n        title: 'User List'\n      }\n    },\n    {\n      path: '/user/detail/:id',\n      name: 'UserDetail',\n      component: () =&gt; import('@/views/user/user-detail'),\n      hidden: true, // &lt;== \u200b\u4e0d\u200b\u986f\u793a\u200b\u5728\u200b\u9078\u55ae\u200b\u4e2d\u200b\n      props: true,\n      meta: {\n        title: 'User Detail'\n      }\n    },\n    {\n      path: '/user/dashboard',\n      name: 'UserDashboard',\n      component: () =&gt; import('@/views/user/dashboard'),\n      meta: {\n        title: 'User Dashboard'\n      }\n    }\n  ]\n}\n</code></pre> <p>Reference:</p> <ol> <li>vue-element-admin</li> <li>vue-element-admin Document</li> </ol>","tags":["Vue"]},{"location":"blog/2020/11/02/rotate-list/","title":"Rotate List","text":"<p>61. Rotate List</p> <pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, val=0, next=None):\n#         self.val = val\n#         self.next = next\nclass Solution:\n    def rotateRight(self, head: ListNode, k: int) -&gt; ListNode:\n        if head is None or k == 0: # \u200b\u70ba\u7a7a\u200b\u6216\u200b k=0 \u200b\u6642\u200b\u76f4\u63a5\u200b\u56de\u50b3\u539f\u200b list\n            return head\n        # \u200b\u8a08\u7b97\u200b list \u200b\u7684\u200b\u9577\u200b\u5ea6\u200b\uff0c\u200b\u6c7a\u5b9a\u200b\u8981\u200b\u5f9e\u200b\u54ea\u908a\u200b\u5207\u65b7\u200b\n        list_len = 1\n        tail = head # \u200b\u540c\u6642\u200b\u7d00\u9304\u200b tail node\n        while tail.next:\n            list_len += 1\n            tail = tail.next\n        # k &gt; list_len \u200b\u6642\u200b\uff0c\u200b\u5be6\u969b\u200b\u53ea\u200b\u9700\u79fb\u52d5\u200b\u5c0d\u200b k \u200b\u53d6\u200b list_len \u200b\u9918\u6578\u200b\b\u200b\u6b21\u200b\n        k = k % list_len\n        if k == 0: # \u200b\u53d6\u200b\u5b8c\u9918\u6578\u200b\u70ba\u200b\u96f6\u56de\u200b\u50b3\u539f\u200b list\n            return head\n\n        cur_node = head\n        # \u200b\u79fb\u52d5\u200b list_len - k - 1 \u200b\u627e\u5230\u200b\u65b0\u200b\u7684\u200b head \u200b\u7684\u200b\u524d\u200b\u4e00\u500b\u200b node\n        for _ in range(list_len - k - 1):\n            cur_node = cur_node.next\n        new_head = cur_node.next\n        tail.next = head\n        cur_node.next = None\n        return new_head\n</code></pre> <p>Example:</p> <pre><code>Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, k = 2\nOutput: 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL\nExplanation:\nrotate 1 steps to the right: 5-&gt;1-&gt;2-&gt;3-&gt;4-&gt;NULL\nrotate 2 steps to the right: 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL\n</code></pre> <pre><code>list_len - k\n     ^\n{    |    }\n1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; NULL\n          ^    ^\n          |    |\n          |    new_head\n          cur_node\n</code></pre> <p>Reference:</p> <ol> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 61. Rotate List - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP365</li> </ol>","tags":[]},{"location":"blog/2020/11/03/10-most-common-mistakes-using-kubernetes/","title":"10 most common mistakes using kubernetes","text":"<p>10 most common mistakes using kubernetes</p> <ol> <li>resources - requests and limits</li> <li>CPU request \u200b\u4e0d\u8981\u200b\u4e0d\u200b\u8a2d\u5b9a\u200b\u6216\u200b\u8a2d\u592a\u4f4e\u200b\uff0c\u200b\u7576\u200b node \u200b\u8cc7\u6e90\u200b\u592a\u6eff\u200b\u7684\u200b\u6642\u5019\u200b\uff0cpod \u200b\u4ecd\u6703\u200b\u88ab\u200b\u904b\u884c\u200b\uff0c\u200b\u4f46\u6703\u200b\u62ff\u5230\u200b\u975e\u5e38\u5c11\u200b\u7684\u200b CPU\uff0c\u200b\u5c0e\u81f4\u200b app \u200b\u5ef6\u9072\u200b\u6216\u200b timeout</li> <li>Memory \u200b\u61c9\u8a72\u200b\u4f7f\u7528\u200b Guaranteed QoS setting\uff0crequest == limit\u3002CPU \u200b\u53d6\u200b\u4e0d\u5230\u200b\u7121\u6cd5\u200b\u591a\u53d6\u200b\u7684\u200b\u6642\u5019\u200b\u9802\u200b\u591a\u200b\u9020\u6210\u200b\u5ef6\u9072\u200b\uff0c\u200b\u4f46\u200b Memory \u200b\u7121\u6cd5\u200b\u64f4\u5f35\u200b\u6703\u5c0e\u81f4\u200b OOM</li> <li>liveness and readiness probes</li> <li>liveness probe \u200b\u5931\u6557\u200b\u6642\u6703\u200b\u91cd\u555f\u200b pod</li> <li>readiness probe \u200b\u5931\u6557\u200b\u6642\u4e0d\u6703\u200b\u6709\u200b\u4efb\u4f55\u200b\u9023\u7dda\u200b\u9001\u200b\u81f3\u200b pod \u200b\u4e2d\u200b</li> <li>\u200b\u5169\u7a2e\u200b probe \u200b\u5728\u200b\u6574\u500b\u200b Pod \u200b\u7684\u200b\u751f\u547d\u200b\u9031\u200b\u671f\u4e2d\u200b\u90fd\u200b\u6703\u200b\u4e0d\u505c\u200b\u63a2\u6e2c\u200b</li> <li>\u200b\u4e0d\u8981\u200b\u8b93\u200b\u4efb\u4f55\u200b\u4e00\u7a2e\u200b probe \u200b\u56e0\u70ba\u200b dependencies \u200b\u4e0b\u7dda\u200b\u800c\u200b\u5931\u6557\u200b\uff0c\u200b\u6703\u5c0e\u81f4\u200b Pod \u200b\u9023\u9396\u200b\u5931\u6557\u200b</li> <li>LoadBalancer for every http service</li> <li>\u200b\u4e0d\u8981\u200b\u70ba\u200b\u6bcf\u200b\u4e00\u500b\u200b service \u200b\u90fd\u200b\u958b\u4e00\u500b\u200b LoadBalancer\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b nginx-ingres-controller \u200b\u4f5c\u70ba\u200b\u552f\u4e00\u200b\u7684\u200b NodePort endpoint</li> <li>non-kubernetes-aware cluster autoscaling</li> <li>Not using the power of IAM/RBAC</li> <li>self anti-affinities for pods</li> <li>\u200b\u5584\u7528\u200b affinity \u200b\u8b93\u200b pod \u200b\u751f\u6210\u200b\u5728\u200b\u4e0d\u540c\u200b node \u200b\u4e0a\u200b\uff0c\u200b\u4ee5\u9054\u200b\u5230\u200b HA</li> <li>no poddisruptionbudget</li> <li>\u200b\u4f7f\u7528\u200b PodDisruptionBudget \u200b\u5728\u200b draining node \u200b\u6642\u78ba\u200b\u4fdd\u200b pod \u200b\u6578\u91cf\u200b</li> <li>more tenants or envs in shared cluster</li> <li>namespace \u200b\u4e26\u4e0d\u6703\u200b\u63d0\u200b\u5b8c\u6574\u200b\u7684\u200b\u786c\u9ad4\u200b\u9694\u200b\u96e2\u6027\u200b</li> <li>externalTrafficPolicy: Cluster</li> <li> <p>pet clusters + stressing the control plane too much</p> <ol> <li>\u200b\u4e0d\u8981\u200b\u628a\u200b cluster \u200b\u7576\u5bf5\u7269\u200b\u5728\u200b\u990a\u200b\uff0c\u200b\u8981\u7df4\u7fd2\u200b Disaster Recovery\uff0c\u200b\u96a8\u6642\u200b\u6709\u200b\u6a5f\u6703\u200b\u5f97\u200b\u91cd\u65b0\u200b\u5efa\u51fa\u200b\u4e00\u500b\u200b\u5b8c\u5168\u4e00\u81f4\u200b\u7684\u200b cluster</li> <li>\u200b\u4e0d\u8981\u200b\u904e\u5ea6\u200b\u4f9d\u8cf4\u200b control plane\uff0c\u200b\u96a8\u8457\u200b cluster \u200b\u6210\u9577\u200b\uff0c\u200b\u4e0a\u9762\u200b\u7684\u200b\u5404\u7a2e\u200b\u670d\u52d9\u6703\u200b\u8d8a\u4f86\u200b\u8d8a\u200b\u591a\u200b\uff0ccontrol plane \u200b\u6703\u200b\u958b\u59cb\u200b\u8b8a\u5f97\u200b\u7de9\u6162\u200b\uff0c\u200b\u64cd\u4f5c\u6027\u200b\u8b8a\u5dee\u200b</li> </ol> </li> <li> <p>bonus: using latest tag</p> </li> <li>\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b latest tag</li> </ol> <p>\u200b\u672c\u6587\u200b\u6700\u200b\u5f8c\u200b\u9644\u4e0a\u200b\u4e86\u200b Kubernetes Failure Stories\uff0c\u200b\u6536\u96c6\u200b\u4e86\u200b\u5404\u7a2e\u200b\u4f7f\u7528\u200b Kubernetes \u200b\u6642\u200b\u767c\u751f\u200b\u7684\u200b\u6158\u6848\u200b\uff0c\u200b\u4ee5\u4f9b\u200b\u501f\u200b\u9452\u200b\u3002</p>","tags":["K8s"]},{"location":"blog/2020/11/04/chrome-err_unsafe_port/","title":"Chrome ERR_UNSAFE_PORT","text":"<p>\u200b\u554f\u984c\u200b\uff1a\u200b\u4ee5\u200b 6666 port \u200b\u958b\u555f\u200b\u670d\u52d9\u200b\uff0c\u200b\u4f7f\u7528\u200b Chrome \u200b\u700f\u89bd\u6642\u200b\u51fa\u73fe\u200b ERR_UNSAFE_PORT \u200b\u932f\u8aa4\u200b\u8a0a\u606f\u200b</p> <p>\u200b\u539f\u56e0\u200b\uff1a\u200b\u57fa\u200b\u65bc\u200b\u5b89\u5168\u200b\u7406\u7531\u200b Chrome \u200b\u6216\u200b\u5176\u4ed6\u200b\u700f\u89bd\u5668\u200b\u6703\u200b\u76f4\u63a5\u200b\u963b\u64cb\u200b\u7279\u5b9a\u200b port \u200b\u7684\u200b\u670d\u52d9\u200b\u3002Chromium \u200b\u7684\u200b\u539f\u59cb\u200b\u78bc\u6709\u200b\u5217\u51fa\u200b\u6703\u200b\u88ab\u200b\u963b\u64cb\u200b\u7684\u200b\u6e05\u55ae\u200b\uff0c\u200b\u5728\u200b\u4f7f\u7528\u200b\u6642\u61c9\u200b\u7279\u5225\u200b\u6ce8\u610f\u200b\u3002</p> <pre><code>// The general list of blocked ports. Will be blocked unless a specific\n// protocol overrides it. (Ex: ftp can use ports 20 and 21)\nconst int kRestrictedPorts[] = {\n    1,       // tcpmux\n    7,       // echo\n    9,       // discard\n    11,      // systat\n    13,      // daytime\n    15,      // netstat\n    17,      // qotd\n    19,      // chargen\n    20,      // ftp data\n    21,      // ftp access\n    22,      // ssh\n    23,      // telnet\n    25,      // smtp\n    37,      // time\n    42,      // name\n    43,      // nicname\n    53,      // domain\n    77,      // priv-rjs\n    79,      // finger\n    87,      // ttylink\n    95,      // supdup\n    101,     // hostriame\n    102,     // iso-tsap\n    103,     // gppitnp\n    104,     // acr-nema\n    109,     // pop2\n    110,     // pop3\n    111,     // sunrpc\n    113,     // auth\n    115,     // sftp\n    117,     // uucp-path\n    119,     // nntp\n    123,     // NTP\n    135,     // loc-srv /epmap\n    139,     // netbios\n    143,     // imap2\n    179,     // BGP\n    389,     // ldap\n    427,     // SLP (Also used by Apple Filing Protocol)\n    465,     // smtp+ssl\n    512,     // print / exec\n    513,     // login\n    514,     // shell\n    515,     // printer\n    526,     // tempo\n    530,     // courier\n    531,     // chat\n    532,     // netnews\n    540,     // uucp\n    548,     // AFP (Apple Filing Protocol)\n    556,     // remotefs\n    563,     // nntp+ssl\n    587,     // smtp (rfc6409)\n    601,     // syslog-conn (rfc3195)\n    636,     // ldap+ssl\n    993,     // ldap+ssl\n    995,     // pop3+ssl\n    2049,    // nfs\n    3659,    // apple-sasl / PasswordServer\n    4045,    // lockd\n    6000,    // X11\n    6665,    // Alternate IRC [Apple addition]\n    6666,    // Alternate IRC [Apple addition]\n    6667,    // Standard IRC [Apple addition]\n    6668,    // Alternate IRC [Apple addition]\n    6669,    // Alternate IRC [Apple addition]\n    6697,    // IRC + TLS\n};\n</code></pre> <p>6665~6669 \u200b\u662f\u200b IRC protocol \u200b\u9810\u8a2d\u200b\u4f7f\u7528\u200b\u7684\u200b Port\u3002IRC \u200b\u6709\u200b\u8a31\u591a\u200b\u5b89\u5168\u6f0f\u6d1e\u200b\uff0c\u200b\u70ba\u200b\u4e86\u200b\u907f\u514d\u200b Chrome \u200b\u8b8a\u6210\u200b\u8df3\u677f\u200b\u53bb\u200b\u5f71\u97ff\u200b\u5176\u4ed6\u200b\u670d\u52d9\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6703\u4e3b\u52d5\u200b\u9032\u884c\u200b\u963b\u64cb\u200b\u3002\u200b\u56e0\u6b64\u200b\u9019\u4e9b\u200b\u963b\u64cb\u200b\u662f\u200b\u4fdd\u8b77\u200b Service \u200b\u672c\u8eab\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4fdd\u8b77\u200b Chrome \u200b\u7684\u200b\u4f7f\u7528\u8005\u200b\u3002</p> <p>Reference:</p> <ol> <li>Chrome\u200b\u9519\u8bef\u4ee3\u7801\u200b:ERR_UNSAFE_PORT</li> <li>Which ports are considered unsafe by Chrome?</li> <li>Why does Chrome consider some ports unsafe?</li> </ol>","tags":["Web Development"]},{"location":"blog/2020/11/15/docker-multi-stage-build/","title":"Docker Multi-Stage Build","text":"<p>\u200b\u5728\u200b CI \u200b\u7684\u200b\u904e\u7a0b\u200b\u4e2d\u8a31\u200b\u591a\u200b\u5c08\u6848\u200b\u90fd\u200b\u6703\u200b\u6709\u200b compile \u200b\u6216\u200b build \u200b\u7684\u200b\u9700\u6c42\u200b\uff0c\u200b\u800c\u57fa\u200b\u65bc\u200b\u6700\u5c0f\u5316\u200b\u7684\u200b Docker Image \u200b\u7684\u200b\u539f\u5247\u200b\uff0c\u200b\u5efa\u7f6e\u200b\u6642\u671f\u200b\u76f8\u4f9d\u200b\u7684\u200b\u5957\u4ef6\u200b\u4e26\u4e0d\u6703\u200b\u4e00\u540c\u200b\u6253\u5305\u200b\u9032\u200b\u6210\u54c1\u200b\u7684\u200b Image \u200b\u4e2d\u200b\u3002\u200b\u5728\u200b\u9019\u7a2e\u200b\u60c5\u5883\u200b\u4e0b\u5e38\u898b\u200b\u7684\u200b\u505a\u6cd5\u200b\u662f\u200b\u900f\u904e\u200b Pipeline \u200b\u5207\u200b\u5206\u6210\u200b\u5169\u6bb5\u200b\u8655\u7406\u200b\uff0c\u200b\u7b2c\u4e00\u6b65\u200b\u5148\u200b\u5229\u7528\u200b\u5df2\u6709\u200b\u7684\u200b\u5efa\u7f6e\u200b\u74b0\u5883\u200b Image \b\bcompile \u200b\u6216\u200b build \u200b\u539f\u59cb\u200b\u6a94\u200b\uff0c\u200b\u7b2c\u4e8c\u6b65\u200b\u518d\u5c07\u200b\u6210\u54c1\u200b\u6253\u5305\u200b\u81f3\u200b Runtime \u200b\u7684\u200b Image \u200b\u4e2d\u200b\b\u3002</p> <p>\u200b\u4e0d\u904e\u200b\u5229\u7528\u200b Pipeline \u200b\u7684\u200b\u7f3a\u9ede\u200b\u662f\u200b\u6703\u200b\u76f8\u4f9d\u200b shell script \u200b\u6216\u200b\u5176\u4ed6\u200b CI \u200b\u5de5\u5177\u200b\uff0c\u200b\u56e0\u6b64\u200b Docker \u200b\u5728\u200b Docker 17.05+ \u200b\u958b\u59cb\u200b\u63d0\u4f9b\u200b\u4e86\u200b Multi-Stage Build \u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u80fd\u5920\u200b\u5c07\u591a\u968e\u6bb5\u200b\u7684\u200b Docker Image \u200b\u8655\u200b\u7406\u5b9a\u200b\u7fa9\u5728\u200b\u4e00\u500b\u200b Dockerfile \u200b\u4e2d\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u70ba\u200b\u900f\u904e\u200b <code>FROM [compile time image] AS [temp image]</code> \u200b\u7684\u200b <code>AS</code> \u200b\u7522\u751f\u200b\u66ab\u6642\u200b\u7684\u200b Image\uff0c\u200b\u8a72\u200b Image \u200b\u53ef\u4ee5\u200b\u88ab\u200b\u4e0b\u200b\u4e00\u500b\u200b\u968e\u6bb5\u200b\u7684\u200b Image \u200b\u5f15\u7528\u200b(FROM)\uff0c\u200b\u6216\u662f\u200b\u4ee5\u200b <code>COPY --from=[temp image] /source /dist</code> \u200b\u7684\u200b\u65b9\u5f0f\u200b\u53d6\u51fa\u200b\u8981\u7528\u200b\u7684\u200b\u6210\u54c1\u200b\u3002</p> <pre><code>FROM [compile time image] AS [temp image]\nWORKDIR /workspace\nRUN touch artifact\n\nFROM [runtime image]\nWORKDIR /workspace\nCOPY  --from=[temp image] /workspace/artifact .\nCMD ls -lha artifact\n</code></pre> <p>\u200b\u7531\u200b\u65bc\u200b\u6574\u4efd\u200b Dockerfile \u200b\u4ecd\u7136\u200b\u662f\u5c6c\u200b\u65bc\u200b\u540c\u4e00\u200b\u500b\u200b build\uff0c\u200b\u56e0\u6b64\u200b\u5982\u679c\u200b\u6709\u200b\u8a2d\u5b9a\u200b <code>.dockerignore</code> \u200b\u6240\u6709\u200b Image \u200b\u7684\u200b <code>COPY</code> \u200b\u90fd\u200b\u662f\u200b\u6703\u200b\u88ab\u200b\u5f71\u97ff\u200b\u5230\u200b\u7684\u200b\uff0c\u200b\u9019\u9ede\u200b\u5728\u200b\u4f7f\u7528\u200b\u4e0a\u6642\u200b\u9700\u591a\u52a0\u200b\u6ce8\u610f\u200b\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u63d0\u4f9b\u200b Golang \u200b\u8207\u200b Vue.js \u200b\u7684\u200b\u5169\u500b\u200b Dockerfile \u200b\u7bc4\u4f8b\u200b\uff0c\u200b\u76f8\u95dc\u200b\u7a0b\u5f0f\u200b\u78bc\u53ef\u200b\u53c3\u8003\u200b docker-multi-stage-build\u3002</p>","tags":["Docker"]},{"location":"blog/2020/11/15/docker-multi-stage-build/#golang","title":"Golang","text":"<pre><code>FROM golang:alpine3.12 AS builder\nWORKDIR /workspace\nCOPY . /workspace/\nRUN go build -o hello-world\n\nFROM busybox:1.32.0\nWORKDIR /workspace\nCOPY  --from=builder /workspace/hello-world .\nCMD ./hello-world\n</code></pre>","tags":["Docker"]},{"location":"blog/2020/11/15/docker-multi-stage-build/#vuejs","title":"Vue.js","text":"<pre><code>FROM node:15.1.0-slim AS builder\nWORKDIR /workspace\nCOPY ./hello-world/ /workspace/\nRUN npm install &amp;&amp; npm run build\n\nFROM nginx:1.19.4-alpine\nCOPY  --from=builder /workspace/dist/ /usr/share/nginx/html/\n</code></pre> <p>Reference:</p> <ol> <li>\u200b\u900f\u904e\u200b Multi-Stage Builds \u200b\u6539\u5584\u200b\u6301\u7e8c\u200b\u4ea4\u4ed8\u200b\u6d41\u7a0b\u200b</li> </ol>","tags":["Docker"]},{"location":"blog/2020/11/23/two-sum/","title":"Two Sum","text":"<p>1. Two Sum</p> <pre><code>class Solution:\n    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:\n        patch_hash = {}\n        for ind, num in enumerate(nums):\n            if (target - num) in patch_hash.keys():\n                return [patch_hash[target - num], ind]\n            else:\n                patch_hash[num] = ind\n</code></pre> <p>Reference:</p> <ol> <li>Blind Curated 75</li> </ol>","tags":[]},{"location":"blog/2020/11/24/vue-vs-react-best-choice-for-startups/","title":"Vue vs React: Best Choice for Startups","text":"<p>Vue vs React: Best Choice for Startups</p> <p>\u200b\u672c\u6587\u200b\u70ba\u200b\u4f5c\u8005\u200b\u56de\u8986\u200b\u4e00\u5c01\u200b\u8a62\u554f\u200b\u70ba\u200b\u4f55\u9078\u64c7\u200b Vue \u200b\u800c\u200b\u4e0d\u662f\u200b React \u200b\u7684\u200b\u4f86\u200b\u51fd\u200b</p>","tags":["Vue"]},{"location":"blog/2020/11/24/vue-vs-react-best-choice-for-startups/#vuejs-vs-react-in-a-nutshell","title":"Vue.js vs React In a Nutshell","text":"<ol> <li>Vue \u200b\u5f88\u8f15\u91cf\u200b\u4e14\u200b\u6709\u200b\u5f88\u200b\u9ad8\u200b\u7684\u200b\u5f48\u6027\u200b\uff0c\u200b\u5728\u200b\u8f15\u5ea6\u200b\u4f7f\u7528\u200b\u7684\u200b\u60c5\u5883\u200b\u4e0b\u7528\u200b\u8d77\u4f86\u200b\u66f4\u200b\u50cf\u200b Library</li> <li>Vue \u200b\u7684\u200b\u4fb5\u5165\u200b\u6027\u6bd4\u200b React \u200b\u5c0f\u200b\uff0c\u200b\u5927\u90e8\u5206\u200b\u7684\u200b Vue Project \u200b\u90fd\u200b\u6709\u985e\u200b\u4f3c\u7684\u200b\u5c08\u6848\u200b\u67b6\u69cb\u200b\u8207\u200b Components \u200b\u7d50\u69cb\u200b\uff0c\u200b\u800c\u200b React \u200b\u5247\u5dee\u200b\u7570\u8f03\u200b\u5927\u200b\uff0c\u200b\u7576\u200b Dev \u200b\u9762\u5c0d\u200b\u65b0\u200b\u7684\u200b Code base \u200b\u6642\u200b Vue \u200b\u80fd\u200b\u8f03\u200b\u5feb\u200b\u4e0a\u200b\u624b\u200b</li> <li>\u200b\u53ef\u8b80\u200b\u6027\u9ad8\u200b\uff0chtml, css \u200b\u8207\u200b js \u200b\u90fd\u200b\u662f\u200b\u5206\u96e2\u200b\u7684\u200b\uff0c\u200b\u800c\u200b React \u200b\u90fd\u200b\u5408\u200b\u4f75\u200b\u5728\u200b js \u200b\u4e2d\u200b</li> <li>\u200b\u7368\u7acb\u200b\u7684\u200b Framework\uff0c\u200b\u4e0d\u200b\u88ab\u200b\u5927\u5ee0\u200b\u628a\u6301\u200b\uff0cReact \u200b\u7531\u200b Facebook \u200b\u7dad\u8b77\u200b\uff0cAngular \u200b\u7531\u200b Google \u200b\u7dad\u8b77\u200b</li> </ol>","tags":["Vue"]},{"location":"blog/2020/11/24/vue-vs-react-best-choice-for-startups/#when-does-react-trump-vuejs","title":"When does React Trump Vue.js","text":"<ol> <li>\u200b\u5e02\u5834\u200b\u4e0a\u200b React \u200b\u7684\u200b\u8077\u7f3a\u200b\u6578\u91cf\u200b\u4ecd\u200b\u5927\u200b\u65bc\u200b Vue</li> <li>React Components \u200b\u7684\u200b visibility \u200b\u8207\u200b maintenance \u200b\u5206\u96e2\u200b\u5728\u200b\u67d0\u4e9b\u200b\u60c5\u5883\u200b\u4e0b\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u66f4\u200b\u591a\u200b\u5f48\u6027\u200b</li> <li>\u200b\u6709\u200b\u8f03\u200b\u8a73\u76e1\u200b\u7684\u200b\u6587\u4ef6\u200b</li> </ol>","tags":["Vue"]},{"location":"blog/2020/11/24/vue-vs-react-best-choice-for-startups/#sum-up","title":"Sum Up","text":"<ol> <li>\u200b\u53ef\u4ee5\u200b\u5f88\u8f15\u200b\u6613\u5730\u200b\u878d\u5165\u200b\u820a\u6709\u200b\u7684\u200b\u5c08\u6848\u200b\u4e2d\u200b</li> <li>\u200b\u8f03\u200b\u9ad8\u200b\u7684\u200b\u53ef\u200b\u8b80\u6027\u200b</li> <li>\u200b\u6709\u200b\u826f\u597d\u200b\u7684\u200b\u97ff\u200b\u61c9\u5f0f\u200b\u7cfb\u7d71\u200b (Reactivity System)\uff0c\u200b\u4e0d\u7528\u200b\u983b\u7e41\u200b\u4f7f\u7528\u200b Set Function \u200b\u66f4\u65b0\u200b</li> <li>\u200b\u4e0d\u662f\u200b\u7531\u5927\u200b\u516c\u53f8\u200b\u7dad\u8b77\u200b</li> </ol> <p>\u200b\u6700\u200b\u5f8c\u200b\u4f5c\u8005\u200b\u4e5f\u200b\u5206\u4eab\u200b\u4e86\u200b\u53e6\u5916\u200b\u4e00\u7bc7\u200b\u66f4\u200b\u6df1\u5165\u200b\u6bd4\u8f03\u200b\u7684\u200b\u6587\u7ae0\u200b React vs Vue: What is the best choice for 2020?</p>","tags":["Vue"]},{"location":"blog/2020/11/25/twd97tm2-to-wgs84/","title":"TWD97TM2 to WGS84","text":"<p>TWD97TM2toWGS84 \u200b\u63d0\u4f9b\u200b\u4e86\u200b TWD97 \u200b\u4e8c\u5ea6\u200b\u5206\u5e36\u200b\u5ea7\u200b\u6a19\u8f49\u200b WGS \u200b\u7d93\u7def\u5ea6\u200b\u7684\u200b R \u200b\u7a0b\u5f0f\u200b\u78bc\u200b\uff0c\u200b\u4f46\u200b\u56e0\u70ba\u200b\u6709\u200b\u8a31\u591a\u200b\u8cc7\u6599\u200b\u6e05\u6d17\u200b\u6d41\u7a0b\u200b\u4f7f\u7528\u200b Python\uff0c\u200b\u6240\u4ee5\u200b\u7c21\u55ae\u200b\u8f49\u63db\u200b\u70ba\u200b Python \u200b\u7a0b\u5f0f\u200b\u78bc\u200b\u3002</p> <p>gits: twd_to_wgs.py</p> <pre><code>import math\n\n\ndef twd_to_wgs(coord_x, coord_y):\n    # coord_x: TWD97\u200b\u6a6b\u5ea7\u6a19\u200b, \u200b\u5357\u5317\u200b\u7def\u5ea6\u200b, latitude N\n    # coord_y: TWD97\u200b\u7e31\u5ea7\u6a19\u200b, \u200b\u6771\u897f\u200b\u7d93\u5ea6\u200b, longitude E\n\n    a = 6378137.0\n    b = 6356752.314245\n    lon0 = 121 * math.pi / 180\n    k0 = 0.9999\n    dx = 250000\n    dy = 0\n    e = (1 - b ** 2 / a ** 2) ** 0.5\n\n    x = coord_x - dx  # input_lat: TWD97\u200b\u6a6b\u5ea7\u6a19\u200b, \u200b\u7def\u5ea6\u200b, latitude\n    y = coord_y - dy  # input_lon: TWD97\u200b\u7e31\u5ea7\u6a19\u200b, \u200b\u7d93\u5ea6\u200b, longitude\n\n    M = y / k0\n\n    mu = M / (a * (1.0 - (e ** 2) / 4.0 - 3 * (e ** 4) / 64.0 - 5 * (e ** 6) / 256.0))\n    e1 = (1.0 - ((1.0 - (e ** 2)) ** 0.5)) / (1.0 + ((1.0 - (e ** 2)) ** 0.5))\n\n    J1 = 3 * e1 / 2 - 27 * (e1 ** 3) / 32.0\n    J2 = 21 * (e1 ** 2) / 16 - 55 * (e1 ** 4) / 32.0\n    J3 = 151 * (e1 ** 3) / 96.0\n    J4 = 1097 * (e1 ** 4) / 512.0\n\n    fp = ( mu + J1 * math.sin(2 * mu) + J2 * math.sin(4 * mu) + J3 * math.sin(6 * mu) + J4 * math.sin(8 * mu) )\n\n    e2 = (e * a / b) ** 2\n    C1 = e2 * math.cos(fp) ** 2\n    T1 = math.tan(fp) ** 2\n    R1 = a * (1 - (e ** 2)) / ((1 - (e ** 2) * (math.sin(fp) ** 2)) ** (3.0 / 2.0))\n    N1 = a / ((1 - (e ** 2) * (math.sin(fp) ** 2)) ** 0.5)\n\n    D = x / (N1 * k0)\n\n    # \u200b\u7def\u5ea6\u200b\u8a08\u7b97\u200b latitude\n    Q1 = N1 * math.tan(fp) / R1\n    Q2 = (D ** 2) / 2.0\n    Q3 = (5 + 3 * T1 + 10 * C1 - 4 * (C1 ** 2) - 9 * e2) * (D ** 4) / 24.0\n    Q4 = ( (61 + 90 * T1 + 298 * C1 + 45 * (T1 ** 2) - 3 * (C1 ** 2) - 252 * e2) * (D ** 6) / 720.0 )\n    lat = fp - Q1 * (Q2 - Q3 + Q4)\n\n    # \u200b\u7d93\u5ea6\u200b\u8a08\u7b97\u200b longitude\n    Q5 = D\n    Q6 = (1 + 2 * T1 + C1) * (D ** 3) / 6\n    Q7 = ( (5 - 2 * C1 + 28 * T1 - 3 * (C1 ** 2) + 8 * e2 + 24 * (T1 ** 2)) * (D ** 5) / 120.0 )\n    lon = lon0 + (Q5 - Q6 + Q7) / math.cos(fp)\n\n    lat = (lat * 180) / math.pi  # \u200b\u5357\u5317\u200b\u7def\u5ea6\u200b  latitude\n    lon = (lon * 180) / math.pi  # \u200b\u6771\u897f\u200b\u7d93\u5ea6\u200b  longitude\n\n    return (lon, lat)\n</code></pre> <p>Reference:</p> <ol> <li>TWD97TM2toWGS84</li> </ol>","tags":["Python","GIS"]},{"location":"blog/2020/11/29/jasperreports-with-spring/","title":"JasperReports with Spring","text":"<p>JasperReport \u200b\u662f\u200b\u4e00\u5957\u200b\u4ee5\u200b Java \u200b\u958b\u767c\u200b\u7684\u200b\u958b\u6e90\u200b\u5831\u8868\u200b\u7a0b\u5f0f\u200b\u5eab\u200b\uff0c\u200b\u6700\u521d\u200b\u7684\u200b\u7248\u672c\u200b\u767c\u200b\u4f48\u200b\u65bc\u200b 2001 \u200b\u5e74\u200b\uff0c\u200b\u80fd\u200b\b\u200b\u900f\u904e\u200b\u9810\u5148\u5b9a\u200b\u7fa9\u7684\u200b\u6a21\u677f\u200b\u5c07\u52d5\u614b\u200b\u8cc7\u6599\u200b\u5c0e\u5165\u200b\u751f\u6210\u200b PDF\u3001HTML \u200b\u6216\u200b Excel \u200b\u7b49\u200b\u6a94\u6848\u200b\u3002</p> <p>\u200b\u96d6\u7136\u200b JasperReport \u200b\u5df2\u7d93\u200b\u662f\u200b\u5f88\u200b\u53e4\u8001\u200b\u7684\u200b\u7a0b\u5f0f\u200b\u5eab\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u6a21\u677f\u200b\u8a2d\u8a08\u200b\u5de5\u5177\u200b\u8207\u200b\u4f7f\u7528\u200b\u7684\u200b\u4fbf\u5229\u6027\u200b\u4e0a\u200b\uff0c\u200b\u4ecd\u200b\u6c92\u200b\u6709\u200b\u65b0\u751f\u4ee3\u200b\u7684\u200b\u958b\u6e90\u200b\u5c08\u6848\u200b\u80fd\u5339\u200b\u6575\u200b\u3002\u200b\u6216\u8a31\u200b\u662f\u200b\u56e0\u70ba\u73fe\u200b\u5728\u200b\u7684\u200b\u5831\u8868\u200b\u5927\u591a\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b Web \u200b\u7684\u200b\u65b9\u5f0f\u200b\u9032\u884c\u200b\u5448\u73fe\u200b\uff0c\u200b\u6a21\u677f\u200b\u985e\u578b\u200b\u7684\u200b\u5de5\u5177\u200b\u5c31\u200b\u4e0d\u200b\u592a\u200b\u6709\u4eba\u200b\u6703\u200b\u6295\u6ce8\u200b\u5fc3\u529b\u200b\u958b\u767c\u200b\u4e86\u200b\u3002</p> <p>\u200b\u5728\u200b\u4f7f\u7528\u200b JasperReport \u200b\u6642\u200b\u6700\u5927\u200b\u7684\u200b\u56f0\u64fe\u200b\u5c31\u662f\u200b\u4e2d\u6587\u200b\u6216\u200b\u81ea\u8a02\u200b\u5b57\u9ad4\u200b\u7684\u200b\u986f\u793a\u200b\u554f\u984c\u200b\uff0c\u200b\u6642\u5e38\u200b\u767c\u751f\u200b\u5728\u200b\u6a21\u677f\u200b\u8a2d\u8a08\u968e\u6bb5\u200b\u53ef\u4ee5\u200b\u6b63\u5e38\u200b\u986f\u793a\u200b\u4e2d\u6587\u200b\uff0c\u200b\u4f46\u672c\u200b\u6a5f\u904b\u884c\u200b\u670d\u52d9\u200b\u6216\u200b\u4e0a\u200b\u5230\u200b Production Server \u200b\u6642\u200b\u767c\u73fe\u200b\u7121\u6cd5\u200b\u6b63\u5e38\u200b\u986f\u793a\u200b\u4e2d\u6587\u200b\u3002\u200b\u7a0d\u5fae\u200b Google \u200b\u5f8c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u767c\u73fe\u200b\u5927\u5bb6\u200b\u70ba\u200b\u4e86\u89e3\u200b\u6c7a\u200b\u4e2d\u6587\u200b\u986f\u793a\u200b\u554f\u984c\u200b\u4f7f\u7528\u200b\u4e86\u200b\u5404\u7a2e\u200b\u5947\u6280\u6deb\u5de7\u200b\uff0c\u200b\u4f46\u200b\u5176\u5be6\u200b\u4f7f\u7528\u200b\u5b98\u65b9\u200b\u6240\u200b\u63d0\u51fa\u200b\u7684\u200b Font Extension \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5b8c\u7f8e\u200b\u5730\u89e3\u200b\u6c7a\u81ea\u8a02\u200b\u5b57\u9ad4\u200b\u7684\u200b\u554f\u984c\u200b\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u5c07\u200b\u5206\u4eab\u200b\u4e00\u500b\u200b\u7c21\u55ae\u200b\u7684\u200b JasperReports Application \u200b\u5c08\u6848\u200b\u8207\u200b Font Extension \u200b\u5728\u200b\u8a2d\u5b9a\u200b\u6642\u200b\u7684\u200b\u7709\u89d2\u200b\u3002</p>","tags":["Spring Boot","JasperReport"]},{"location":"blog/2020/11/29/jasperreports-with-spring/#jasperreports-with-spring_1","title":"JasperReports with Spring","text":"<p>jasperreports-with-spring \u200b\u662f\u200b\u4e00\u500b\u200b Maven \u200b\u5c08\u6848\u200b\uff0c\u200b\u4f7f\u7528\u200b Spring Boot \u200b\u4f5c\u70ba\u200b Server \u200b\u4f9d\u64da\u200b request \u200b\u5229\u7528\u200b JasperReport \u200b\u751f\u6210\u200b PDF \u200b\u5831\u8868\u200b\uff0c\u200b\u5b57\u9ad4\u200b\u4f7f\u7528\u200b\u601d\u6e90\u200b\u771f\u9ed1\u9ad4\u200b\uff0c\u200b\u80fd\u5920\u200b\u652f\u63f4\u200b\u986f\u793a\u200b\u4e2d\u6587\u200b\u3002\u200b\u8a2d\u5b9a\u200b\u4e86\u200b Dockerfile \u200b\u8207\u200b docker-compose \u200b\u7528\u200b\u65bc\u200b\u5efa\u7f6e\u200b Docker Image \u200b\u8207\u200b\u555f\u52d5\u200b\u670d\u52d9\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u628a\u200b\u5b83\u200b\u8996\u70ba\u200b\u4e00\u500b\u200b\u5c08\u9580\u200b\u8ca0\u8cac\u200b\u751f\u6210\u200b\u5831\u8868\u200b\u7684\u200b\u5fae\u670d\u200b\u52d9\u200b\u3002</p> <p>\u200b\u5c08\u6848\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u7684\u200b jrxml \u200b\u6a21\u677f\u200b\u70ba\u200b sample.jrxml\uff0c\u200b\u800c\u200b\u751f\u6210\u200b\u7684\u200b PDF \u200b\u53ef\u4ee5\u200b\u53c3\u8003\u200b sample.pdf\u3002</p> <p>Lib Dependencies:</p> <ol> <li>Spring Boot 2.3.5</li> <li>JasperReports 6.16.0</li> </ol> <p>JasperReport Dependencies:</p> <ol> <li>TIBCO Jaspersoft\u00ae Studio 6.16.0</li> <li>Source .jrxml Version: JasperReport 6.13.0</li> <li>Compiler Settings: 6.16.0</li> </ol>","tags":["Spring Boot","JasperReport"]},{"location":"blog/2020/11/29/jasperreports-with-spring/#jaspersoft-studio","title":"Jaspersoft Studio","text":"<p>jrxml \u200b\u8207\u200b jasper \u200b\u4f7f\u7528\u200b Jaspersoft Studio \u200b\u7de8\u8f2f\u200b\u8207\u200b\u751f\u6210\u200b\uff0c\u200b\u9810\u8a2d\u200b\u7684\u200b jasper compiler \u200b\u6703\u200b\u96a8\u8457\u200b Jaspersoft Studio \u200b\u7684\u200b\u7248\u672c\u200b\u6709\u6240\u4e0d\u540c\u200b\uff0c\u200b\u7576\u7de8\u8b6f\u200b jasper \u200b\u7684\u200b\u7248\u672c\u200b\u8207\u200b run time \u200b\u6642\u200b\u7522\u200b\u88fd\u200b\u5831\u200b\u8868\u200b\u7684\u200b\u7248\u672c\u200b\u4e0d\u76f8\u5bb9\u200b\u6642\u5019\u200b\u6703\u5c0e\u81f4\u200b\u7522\u200b\u88fd\u200b\u5931\u200b\u6557\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u900f\u904e\u200b\u66f4\u6539\u200b Jaspersoft Studio \u200b\u7684\u200b compiler \u200b\u7248\u672c\u200b\u89e3\u6c7a\u200b\u9019\u500b\u200b\u554f\u984c\u200b\uff0c\u200b\u8abf\u6574\u200b\u4f4d\u7f6e\u200b\u70ba\u200b <code>Preference =&gt; Jaspersoft Studio =&gt; Compatibility =&gt; Compiler Settings =&gt; Manage JasperReports Versions</code>\u3002\u200b\u4f46\u200b Add From URL \u200b\u7121\u6cd5\u200b\u6b63\u5e38\u200b\u6307\u5b9a\u200b\u5230\u200b compiler\uff0c\u200b\u6240\u4ee5\u200b\u6539\u70ba\u200b\u76f4\u63a5\u200b\u81f3\u200b sourceforge \u200b\u4e0b\u8f09\u200b\u6574\u500b\u200b project zip \u200b\u6a94\u200b\uff0c\u200b\u518d\u200b\u4ee5\u200b Add From Path \u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f7f\u7528\u200b\u3002</p>","tags":["Spring Boot","JasperReport"]},{"location":"blog/2020/11/29/jasperreports-with-spring/#font-extension","title":"Font Extension","text":"<p>Jaspersoft Studio \u200b\u5728\u200b v6.0 \u200b\u63d0\u51fa\u200b\u4e86\u200b Font Extension \u200b\u7528\u200b\u65bc\u200b\u89e3\u6c7a\u200b\u81ea\u8a02\u200b\u5b57\u9ad4\u200b\u7684\u200b\u554f\u984c\u200b\u3002\u200b\u5728\u200b\u904e\u53bb\u200b\u7684\u200b\u7248\u672c\u200b\u4e2d\u200b\u5927\u591a\u200b\u4f7f\u7528\u200b PDF Embedded\u3001PDF Encoding \u200b\u8207\u200b PDF Font Name \u200b\u9019\u4e09\u500b\u200b\u5c6c\u6027\u200b\u8a2d\u5b9a\u200b PDF \u200b\u8f38\u51fa\u200b\u6642\u200b\u7684\u200b\u5b57\u9ad4\u200b\u8a2d\u5b9a\u200b\uff0c\b\b\u200b\u5728\u200b v6.0 \u200b\u5f8c\u200b\u7684\u200b Jaspersoft Studio \u200b\u9019\u7a2e\u200b\u8a2d\u5b9a\u200b\u65b9\u5f0f\u200b\u4ecd\u200b\u53ef\u4ee5\u200b\u76f8\u5bb9\u200b\uff0c\u200b\u4f46\u6703\u200b\u986f\u793a\u200b\u70ba\u200b\u4e0d\u200b\u63a8\u85a6\u200b\u4f7f\u7528\u200b\u3002</p> <p>\u200b\u6b64\u200b\u5c08\u6848\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u958b\u6e90\u200b\u7684\u200b\u601d\u6e90\u200b\u771f\u9ed1\u9ad4\u200b\u4f5c\u70ba\u200b\u81ea\u8a02\u200b\u5b57\u9ad4\u200b\uff0c\u200b\u601d\u6e90\u200b\u771f\u9ed1\u9ad4\u200b\u662f\u200b\u7531\u200b Google \u200b\u8207\u200b Adobe \u200b\u958b\u6e90\u200b\u7684\u200b\u601d\u6e90\u200b\u9ed1\u9ad4\u200b\u4fee\u6539\u200b\u800c\u4f86\u200b\uff0c\u200b\u5728\u200b\u7d30\u90e8\u200b\u9032\u884c\u200b\u4e86\u200b\u4e9b\u5fae\u200b\u8abf\u6574\u200b\uff0c\u200b\u4f7f\u5b57\u9ad4\u200b\u770b\u200b\u8d77\u4f86\u200b\u66f4\u52a0\u200b\u92b3\u5229\u200b\uff0c\u200b\u4e26\u200b\u63d0\u4f9b\u200b\u4e86\u200b Font Extension \u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u7684\u200b TTF \u200b\u7684\u200b\u7248\u672c\u200b\u3002</p> <p>Jaspersoft Studio \u200b\u65b0\u589e\u200b Font \u200b\u6642\u200b\u7684\u200b\u8a2d\u5b9a\u200b\u53c3\u8003\u200b\u4e0b\u5716\u200b\uff0cPDF Encoding \u200b\u9078\u64c7\u200b <code>Identify-H (Unicode with horizontal writing)</code>\u3002</p> <p></p> <p>\u200b\u5b8c\u6210\u200b\u81ea\u8a02\u200b\u5b57\u9ad4\u200b\u8a2d\u5b9a\u200b\u5f8c\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200b Font \u200b\u4e2d\u200b\u770b\u5230\u200b\u525b\u525b\u200b\u8a2d\u5b9a\u200b\u7684\u200b\u5b57\u9ad4\u200b\uff0c\u200b\u9019\u6642\u5019\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b Preview \u200b\u7684\u200b\u529f\u80fd\u200b\u4e26\u200b\u53e6\u5b58\u200b\u6210\u200b PDF \u200b\u6aa2\u200b\u67e5\u5b57\u200b\u9ad4\u200b\u662f\u5426\u200b\u80fd\u200b\u6b63\u5e38\u200b\u4f7f\u7528\u200b\u3002</p> <p>\u200b\u6a21\u677f\u200b\u8a2d\u8a08\u200b\u5b8c\u6210\u200b\u5f8c\u200b\uff0c\u200b\u63a5\u4e0b\u200b\u4f86\u200b\u5c31\u662f\u200b\u8981\u200b\u8b93\u200b Application \u200b\u80fd\u200b\u6b63\u5e38\u200b\u8f09\u5165\u4e26\u200b\u4f7f\u7528\u200b\u5b57\u9ad4\u200b\uff0c\u200b\u4f9d\u7167\u200b Font Extension \u200b\u4e2d\u200b\u7684\u200b\u8aaa\u200b\u660e\u5c07\u200b font extension jar \u200b\u532f\u51fa\u200b\u3002\u200b\u5b98\u7db2\u200b wiki \u200b\u7d66\u7684\u200b\u8aaa\u660e\u200b\u662f\u200b\u76f4\u63a5\u200b\u653e\u5728\u200b application \u200b\u7684\u200b classpath \u200b\u4e2d\u200b<code>jasperserver-pro/WEB-INF/lib</code>\u3002\u200b\u4f46\u200b\u5982\u679c\u200b\u662f\u200b\u4f7f\u7528\u200b Spring Boot \u200b\u5247\u61c9\u200b\u8a72\u200b\u900f\u904e\u200b pom \u200b\u9032\u884c\u200b\u76f8\u4f9d\u200b\u7684\u200b\u8a2d\u5b9a\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5c07\u5b57\u9ad4\u200b jar \u200b\u6a94\u653e\u200b\u65bc\u200b project \u200b\u6839\u76ee\u9304\u200b\u7684\u200b lib \u200b\u8cc7\u6599\u200b\u593e\u4e2d\u200b\uff0c\u200b\u5728\u200b pom.xml \u200b\u589e\u52a0\u200b\u6b64\u200b jar \u200b\u7684\u200b dependency\u3002</p> <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.blueswen&lt;/groupId&gt;\n    &lt;artifactId&gt;customfont&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${basedir}/lib/genshin.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u200b\u800c\u200b\u70ba\u200b\u4e86\u200b\u8b93\u200b external jar \u200b\u80fd\u5920\u200b\u88ab\u200b\u6253\u5305\u200b\u9032\u200b\u6700\u200b\u5f8c\u200b\u7684\u200b\u6210\u54c1\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b <code>spring-boot-maven-plugin</code> plugin\uff0c\u200b\u4e26\u8a2d\u5b9a\u200b <code>includeSystemScope</code> \u200b\u70ba\u200b true\u3002</p> <pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>","tags":["Spring Boot","JasperReport"]},{"location":"blog/2020/11/29/jasperreports-with-spring/#request-sample","title":"Request Sample","text":"<p>Server \u200b\u904b\u884c\u200b\u5f8c\u200b\u53ef\u4ee5\u200b\u767c\u9001\u200b Http Request \u200b\u6e2c\u8a66\u200b\u5831\u8868\u200b\u7522\u200b\u88fd\u200b\u529f\u80fd\u200b</p> <pre><code>curl \\\n  -X POST \\\n  -H \"Content-Type: application/json\" \\\n  -o sample.pdf \\\n  -d '{\n    \"template\": \"sample.jasper\",\n    \"fileName\": \"sample\",\n    \"parameters\": {\n      \"sr\": \"200503001\"\n    },\n    \"data\": [\n      {\n        \"ind\": \"1\",\n        \"name\": \"\u200b\u860b\u679c\u200b\",\n        \"amount\": \"3\",\n        \"price\": \"30\",\n        \"total_price\": \"90\"\n      },\n      {\n        \"ind\": \"2\",\n        \"name\": \"\u200b\u6a58\u5b50\u200b\",\n        \"amount\": \"2\",\n        \"price\": \"40\",\n        \"total_price\": \"80\"\n      },\n      {\n        \"ind\": \"3\",\n        \"name\": \"\u200b\u897f\u74dc\u200b\",\n        \"amount\": \"1\",\n        \"price\": \"100\",\n        \"total_price\": \"100\"\n      }\n    ]\n  }' \\\n  http://localhost:8080/report\n</code></pre> <p>\u200b\u6216\u8005\u200b\u4f7f\u7528\u200b Postman \u200b\u767c\u9001\u200b Request\uff0c\u200b\u767c\u9001\u200b\u6642\u200b\u8a18\u5f97\u200b\u9078\u64c7\u200b Send \u200b\u4e0b\u62c9\u9078\u200b\u55ae\u4e2d\u200b\u7684\u200b Send and Download</p> <p></p> <p>\u200b\u53d6\u5f97\u200b\u7684\u200b PDF \u200b\u5982\u4e0b\u200b\u5716\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6b63\u5e38\u200b\u986f\u793a\u200b\u4e2d\u6587\u200b</p> <p></p>","tags":["Spring Boot","JasperReport"]},{"location":"blog/2020/11/29/jasperreports-with-spring/#_1","title":"\u5176\u4ed6\u200b\u89e3\u6c7a\u200b\u65b9\u6848","text":"<p>\u200b\u5982\u200b\u524d\u9762\u200b\u6240\u8ff0\u200b\uff0c\u200b\u6709\u200b\u4e00\u4e9b\u200b\u4eba\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5176\u4ed6\u200b\u7684\u200b\u65b9\u5f0f\u200b\u89e3\u6c7a\u200b\u4e2d\u6587\u200b\u986f\u793a\u200b\u7684\u200b\u554f\u984c\u200b\uff0c\u200b\u5927\u90e8\u5206\u200b\u90fd\u200b\u662f\u200b\u5728\u200b application \u200b\u4e2d\u200b\u5f15\u5165\u200b iTextAsian.jar\uff0c\u200b\u5229\u7528\u200b\u88e1\u9762\u200b\u6253\u5305\u200b\u597d\u200b\u7684\u200b\u5b8b\u9ad4\u200b\u505a\u200b PDF \u200b\u7522\u200b\u88fd\u200b\u6240\u200b\u4f7f\u7528\u200b\u7684\u200b\u5b57\u9ad4\u200b\uff0c\u200b\u4f46\u200b\u7f3a\u9ede\u200b\u662f\u200b\u5b57\u9ad4\u200b\u5c31\u200b\u6703\u200b\u88ab\u200b\u4fb7\u200b\u9650\u200b\uff0c\u200b\u5728\u200b\u8a2d\u8a08\u200b\u6a21\u677f\u200b\u968e\u6bb5\u200b\u4e5f\u200b\u6703\u200b\u7121\u6cd5\u200b\u9810\u89bd\u6b63\u200b\u78ba\u5b57\u9ad4\u200b\uff0c\u200b\u8a2d\u5b9a\u200b\u4e0a\u200b\u4e5f\u200b\u9817\u200b\u70ba\u200b\u9ebb\u7169\u200b\u3002\b</p> <p>\u200b\u5728\u200b\u641e\u61c2\u200b Font Extension \u200b\u524d\u200b\u6211\u200b\u4e5f\u200b\u662f\u200b\u4f9d\u7167\u200b\u9019\u4e9b\u200b\u5206\u4eab\u200b\u4f7f\u7528\u200b\u9019\u7a2e\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4f46\u5f8c\u4f86\u200b\u767c\u73fe\u200b\u9650\u5236\u200b\u5be6\u5728\u200b\u592a\u591a\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5c31\u200b\u9084\u662f\u200b\u8d70\u4e0a\u200b\u6b63\u898f\u200b\u7684\u200b\u9053\u8def\u200b\u3002\u200b\u96d6\u7136\u200b\u6700\u5f8c\u6c92\u6709\u200b\u63a1\u7528\u200b\u9019\u4e9b\u200b\u89e3\u6c7a\u200b\u65b9\u6848\u200b\uff0c\u200b\u4f46\u200b\u6709\u200b\u5e7e\u7bc7\u200b\u4ecd\u200b\u80fd\u200b\u63d0\u4f9b\u200b\u4e00\u4e9b\u200b\u4e0d\u932f\u200b\u7684\u200b\u601d\u8def\u200b\uff0c\u200b\u672a\u4f86\u200b\u5982\u679c\u200b\u8207\u200b\u5230\u985e\u200b\u4f3c\u7684\u200b\u554f\u984c\u200b\u6216\u8a31\u200b\u53ef\u4ee5\u200b\u4f5c\u70ba\u200b\u53c3\u8003\u200b\u3002</p> <p>Jasperreport \u200b\u4e0e\u200b Springmvc \u200b\u7ed3\u5408\u200b\u751f\u6210\u200b PDF web \u200b\u9875\u9762\u200b\u7b14\u8bb0\u200b\uff08\u200b\u542b\u200b\u89e3\u51b3\u200b\u4e2d\u6587\u200b\u95ee\u9898\u200b\uff09\u200b\u4f9d\u7167\u200b\u9019\u200b\u7bc7\u6587\u7ae0\u200b\u63d0\u4f9b\u200b\u7684\u200b dependencies \u200b\u5c31\u200b\u80fd\u5920\u200b\u5b8c\u6574\u200b\u7522\u200b\u88fd\u200b\u542b\u6709\u200b\u4e2d\u6587\u200b\u7684\u200b\u5831\u8868\u200b\uff0c\u200b\u5982\u679c\u200b\u8981\u200b\u4f7f\u7528\u200b\u7e41\u9ad4\u200b pdfFontName \u200b\u9700\u8a2d\u5b9a\u200b\u70ba\u200b MHei-Medium\u3001MSung-Light \u200b\u6216\u200b MSungStd-Light\uff0cpdfEncoding \u200b\u8a2d\u70ba\u200b UniCNS-UCS2-H\u3002\u200b\u800c\u200b\u56e0\u70ba\u200b\u6709\u200b\u9650\u5b9a\u200b\u4e86\u200b jasperreports \u200b\u7684\u200b\u7248\u672c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u53ef\u80fd\u200b\u6703\u200b\u9047\u5230\u200b\u4f7f\u7528\u200b Jaspersoft Studio compile \u200b\u51fa\u4f86\u200b\u7684\u200b jasper \u200b\u5728\u200b run time \u200b\u7121\u6cd5\u200b\u88ab\u200b\u4f7f\u7528\u200b\u7684\u200b\u554f\u984c\u200b\uff0c\u200b\u9019\u6642\u5019\u200b\u5c31\u8981\u200b\u4f7f\u7528\u200b\u524d\u9762\u200b\u63d0\u5230\u200b\u7684\u200b\u8abf\u6574\u200b Jaspersoft Studio \u200b\u7684\u200b compiler \u200b\u7248\u672c\u200b\u4f86\u200b\u89e3\u6c7a\u200b\u3002</p> <p>iText-Asian jar\u200b\u53ef\u200b \u200b\u4ee5\u200b\u4f7f\u7528\u200b\u7684\u200b\u4e2d\u6587\u200b\u5b57\u7b26\u200b\u53ca\u200b iText\u2014\u2014&gt;html2pdf \u200b\u4f7f\u7528\u200b(\u200b\u9644\u5751\u200b) \u200b\u91dd\u5c0d\u200b iTextAsian.jar \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u6bd4\u200b\u8f03\u200b\u8a73\u7d30\u200b\u7684\u200b\u4ecb\u7d39\u200b\u8207\u200b\u8aaa\u660e\u200b\u3002</p> <p>Reference:</p> <ol> <li>Spring Boot with Docker</li> <li>\"mvnw\" won't work on docker-pipeline with the \"maven\" image because docker-pipeline doesn't honor docker image entrypoint</li> <li>Custom Font with the Font Extension</li> <li>\u200b\u601d\u6e90\u200b\u771f\u9ed1\u9ad4\u200b</li> <li>\u200b\u7528\u200b Java \u200b\u7522\u51fa\u200b\u4e2d\u6587\u200b\u7684\u200b JasperReports PDF</li> <li>JASPER REPORTS WITH SPRING BOOT</li> <li>Jasper Reports using unavailable fonts</li> <li>jasper \u200b\u7efc\u5408\u200b\u4f7f\u7528\u200b - javabean \u200b\u7ed3\u5408\u5b9e\u9645\u200b\u4e1a\u52a1\u200b-\u200b\u89e3\u51b3\u200b PDF \u200b\u4e2d\u6587\u200b</li> <li>Spring Boot \u200b\u6253\u5305\u200b external jar \u200b\u89e3\u6c7a\u200b\u65b9\u6848\u200b</li> </ol>","tags":["Spring Boot","JasperReport"]},{"location":"blog/2020/11/30/longest-substring-without-repeating-characters/","title":"Longest Substring Without Repeating Characters","text":"<p>3. Longest Substring Without Repeating Characters</p> <pre><code>class Solution:\n    def lengthOfLongestSubstring(self, s: str) -&gt; int:\n        hash_dict = {}\n        ans = 0\n        i = 0\n        for j, w in enumerate(s):\n            i = max(i, hash_dict.get(w, -1) + 1)\n            ans = max(ans, j - i + 1)\n            hash_dict[w] = j\n        return ans\n</code></pre> <p>Reference:</p> <ol> <li>Blind Curated 75</li> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 3. Longest Substring Without Repeating Characters - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP295</li> </ol>","tags":[]},{"location":"blog/2020/12/01/technologies--tools-to-watch-in-2021/","title":"Technologies &amp; Tools to Watch in 2021","text":"<p>Technologies &amp; Tools to Watch in 2021</p> <p>\u200b\u672c\u6587\u200b\u5206\u4eab\u200b\u4e86\u200b\u5e7e\u500b\u200b 2021 \u200b\u503c\u5f97\u200b DevOps Engineers \u200b\u8207\u200b SREs \u200b\u95dc\u6ce8\u200b\u7684\u200b\u5de5\u5177\u200b</p> <ol> <li> <p>Managing Cloud Services via Kubernetes CRDs</p> <p>\u200b\u73fe\u5728\u200b\u5728\u200b K8s \u200b\u4e0a\u200b\u90fd\u200b\u80fd\u200b\u4f7f\u7528\u200b custom resource definitions (CRDs) \u200b\u555f\u7528\u200b\u8207\u200b\u7ba1\u7406\u200b AWS, Azure \u200b\u8207\u200b GCP \u200b\u4e0a\u200b\u7684\u200b\u670d\u52d9\u200b\u3002AWS \u200b\u4f7f\u7528\u200b AWS Controllers for Kubernetes (ACK)\uff1bAzure \u200b\u4f7f\u7528\u200b Azure Service Operator (for Kubernetes)\uff1bGCP \u200b\u4f7f\u7528\u200b Config Connector\u3002\u200b\u597d\u8655\u200b\u662f\u200b\u7121\u8ad6\u200b\u662f\u200b K8s \u200b\u6216\u200b cloud services \u200b\u90fd\u200b\u80fd\u200b\u7528\u200b K8s \u200b\u7684\u200b API \u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4f46\u200b\u7f3a\u9ede\u200b\u5c31\u662f\u200b\u8ddf\u200b K8s \u200b\u6709\u592a\u6df1\u200b\u7684\u200b\u8026\u5408\u200b\u3002</p> </li> <li> <p>Pulumi</p> </li> </ol> <p>Pulumi \u200b\u662f\u200b\u4e00\u500b\u200b IaC \u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u8207\u200b\u4e00\u822c\u200b\u5e38\u898b\u200b\u7528\u200b JSON \u200b\u6216\u200b YAML \u200b\u70ba\u200b\u57fa\u790e\u200b\u7684\u200b IaC \u200b\u4e0d\u540c\u200b\uff0c\u200b\u4ed6\u200b\u80fd\u5920\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b Go, Python, Javascript \u200b\u4f86\u200b\u505a\u200b IaC\uff0c\u200b\u80fd\u5920\u200b\u5e36\u4f86\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u5f48\u6027\u200b\uff0c\u200b\u4e26\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u539f\u672c\u200b\u8a9e\u8a00\u200b\u5c31\u200b\u6709\u200b\u7684\u200b\u6e2c\u8a66\u200b\u6846\u67b6\u200b\u9032\u884c\u200b\u6e2c\u8a66\u200b\u3002</p> <ol> <li>Terragrunt &amp; TFSEC</li> </ol> <p>Terragrunt \u200b\u5c07\u200b Terraform \u200b\u5305\u88dd\u200b\u8d77\u4f86\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u66f4\u200b\u591a\u529f\u80fd\u200b\u4fbf\u200b\u65bc\u200b\u7ba1\u7406\u200b\u5927\u578b\u200b\u7684\u200b Terraform \u200b\u5c08\u6848\u200b\uff0c\u200b\u4e26\u200b\u652f\u63f4\u200b\u7248\u672c\u200b\u7684\u200b\u7ba1\u7406\u200b\u65b9\u5f0f\u200b\u3002TFSEC \u200b\u63d0\u4f9b\u200b\u6383\u63cf\u200b Terraform \u200b\u5c08\u6848\u200b\u4e2d\u200b IaC \u200b\u53ef\u80fd\u200b\u7684\u200b\u5b89\u5168\u200b\u554f\u984c\u200b\u3002</p> <ol> <li>Tekton</li> </ol> <p>Tekton \u200b\u662f\u200b Cloud Native \u200b\u7684\u200b CI/CD \u200b\u5de5\u5177\u200b\uff0c\u200b\u5c08\u6ce8\u200b\u5728\u200b K8s \u200b\u7684\u200b workloads\u3002Pipeline \u200b\u90fd\u200b\u662f\u200b\u900f\u904e\u200b CRDs \u200b\u5b9a\u7fa9\u200b\uff0c\u200b\u56e0\u6b64\u200b\u80fd\u7e7c\u627f\u200b K8s \u200b\u4e00\u4e9b\u200b\u826f\u597d\u200b\u7684\u200b\u7279\u6027\u200b\uff0c\u200b\u5982\u200b rollbacks\uff0c\u200b\u4e5f\u200b\u80fd\u200b\u8ddf\u200b JenkinsX \u200b\u6216\u200b ArgoCD \u200b\u6709\u200b\u826f\u597d\u200b\u7684\u200b\u4ecb\u63a5\u200b\u3002</p> <ol> <li>Trivy</li> </ol> <p>Trivy \u200b\u80fd\u5920\u200b\u6383\u63cf\u200b Container \u200b\u8207\u200b OS \u200b\u5b89\u88dd\u200b\u7684\u200b Package \u200b\u662f\u5426\u200b\u6709\u200b\u5b89\u5168\u6f0f\u6d1e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5f88\u8f15\u200b\u6613\u5730\u200b\u4e32\u63a5\u200b\u5728\u200b CI \u200b\u6d41\u7a0b\u200b\u4e2d\u200b\u3002</p> <ol> <li>ShellCheck</li> </ol> <p>shellcheck \u200b\u53ef\u4ee5\u200b\u6aa2\u67e5\u200b Shell \u200b\u4e2d\u5e38\u200b\u898b\u200b\u7684\u200b\u932f\u8aa4\u200b\uff0c\u200b\u6709\u200b\u63d0\u4f9b\u200b web \u200b\u7248\u200b\u3001CLI\uff0c\u200b\u751a\u81f3\u200b\u9084\u6709\u200b\u5404\u7a2e\u200b\u7de8\u8f2f\u5668\u200b\u7684\u200b plugin\u3002</p> <ol> <li>Pitest/Stryker</li> </ol> <p>Pitest (Java) \u200b\u8207\u200b Stryker (Javascript, C#, Scala) \u200b\u90fd\u200b\u662f\u200b Mutation Test \u200b\u7684\u200b\u5de5\u5177\u200b\u3002Mutation Test \u200b\u7684\u200b\u5047\u8a2d\u200b\u662f\u200b\u5982\u679c\u200b\u7a0b\u5f0f\u200b\u78bc\u6709\u200b\u8b8a\u52d5\u200b\uff0c\u200b\u4e00\u500b\u200b\u597d\u200b\u7684\u200b\u55ae\u5143\u200b\u6e2c\u8a66\u200b\u61c9\u8a72\u200b\u8981\u200b\u56e0\u70ba\u200b\u9019\u500b\u200b\u8b8a\u52d5\u200b\u800c\u200b\u5931\u6557\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9019\u5169\u500b\u200b\u5de5\u5177\u200b\u90fd\u200b\u6703\u200b\u81ea\u52d5\u200b\u52a0\u5165\u200b\u8b8a\u52d5\u200b\u5230\u200b\u7a0b\u5f0f\u200b\u4e2d\u200b\uff0c\u200b\u85c9\u6b64\u200b\u9a57\u8b49\u200b\u55ae\u5143\u200b\u6e2c\u8a66\u200b\u6216\u200b\u6e2c\u8a66\u200b\u6848\u4f8b\u200b\u662f\u5426\u662f\u200b\u597d\u200b\u7684\u200b\u6e2c\u8a66\u200b\u3002</p> <ol> <li>Litmus</li> </ol> <p>Litmus \u200b\u662f\u200b\u4e00\u500b\u200b chaos engineering tool\uff0c\u200b\u8f15\u91cf\u200b\u4e14\u200b\u6613\u200b\u65bc\u200b\u4f7f\u7528\u200b\uff0c\u200b\u6709\u200b\u826f\u597d\u200b\u7684\u200b\u5be6\u9a57\u200b\u8a2d\u8a08\u200b\u529f\u80fd\u200b\u800c\u200b\u975e\u200b\u55ae\u7d14\u200b\u7684\u200b\u96a8\u610f\u200b\u522a\u9664\u200b Pod\uff0c\u200b\u53e6\u5916\u200b\u4e5f\u200b\u76f4\u63a5\u200b\u63d0\u4f9b\u200b\u4e86\u200b ChaosResult CRD \u200b\u76f4\u63a5\u200b\u67e5\u770b\u200b\u7d50\u679c\u200b\u3002</p> <p>Reference:</p> <ol> <li>\u200b\u8b8a\u7570\u200b\u6e2c\u8a66\u200b (Mutation Test) \u2014 \u200b\u4e00\u7a2e\u200b\u63d0\u9ad8\u200b\u6e2c\u8a66\u200b\u548c\u200b\u4ee3\u78bc\u200b\u8cea\u91cf\u200b\u7684\u200b \u201d\u200b\u65b0\u200b\u201d \u200b\u65b9\u6cd5\u200b\u901f\u8a18\u200b</li> </ol>","tags":["DevOps"]},{"location":"blog/2020/12/02/disable-try-it-out-in-swagger-ui/","title":"Disable 'Try it out' in Swagger UI","text":"<p>Swagger UI \u200b\u80fd\u200b\u751f\u6210\u200b\u4e00\u500b\u200b\u5b8c\u6574\u200b\u7684\u200b\u7db2\u9801\u200b\u5448\u73fe\u200b OpenAPI \u200b\u6587\u4ef6\u200b\uff0c\u200b\u4e14\u200b\u540c\u6642\u200b\u53ef\u4ee5\u200b\u5728\u200b\u9801\u200b\u9762\u4e0a\u200b\u76f4\u63a5\u200b\u767c\u9001\u200b Request \u200b\u9032\u884c\u200b\u6e2c\u8a66\u200b\u3002\u200b\u4f46\u200b\u5728\u200b\u4e00\u4e9b\u200b\u60c5\u6cc1\u200b\u4e0b\u6703\u200b\u4e0d\u200b\u5e0c\u671b\u200b\u4f7f\u7528\u8005\u200b\u76f4\u63a5\u200b\u767c\u9001\u200b\uff0c\u200b\u4f8b\u5982\u200b\u6587\u4ef6\u200b\u53ea\u662f\u200b\u4f9b\u200b\u700f\u89bd\u200b\uff0c\u200b\u6216\u5f8c\u53f0\u200b\u5c1a\u672a\u200b\u5b8c\u6210\u200b\u7b49\u7b49\u200b\uff0c\u200b\u9019\u6642\u5019\u200b\u5c31\u200b\u6703\u200b\u5e0c\u671b\u200b\u53ef\u4ee5\u200b\u505c\u7528\u200b Try it out \u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u5728\u200b\u6bd4\u200b\u8f03\u200b\u820a\u200b\u7684\u200b\u7248\u672c\u200b\u53ef\u4ee5\u200b\u900f\u904e\u200b plugin \u200b\u7684\u200b\u65b9\u5f0f\u200b\u505c\u7528\u200b Try it out</p> <pre><code>var SwaggerUIBundle = require('swagger-ui-dist').SwaggerUIBundle\n\nconst DisableTryItOutPlugin = function() {\n  return {\n    statePlugins: {\n      spec: {\n        wrapSelectors: {\n          allowTryItOutFor: () =&gt; () =&gt; false\n        }\n      }\n    }\n  }\n}\n\nconst ui = SwaggerUIBundle({\n    url: \"https://petstore.swagger.io/v2/swagger.json\",\n    dom_id: '#swagger-ui',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n    ],\n    plugins: [\n        DisableTryItOutPlugin // &lt;== \u200b\u505c\u7528\u200b\u7684\u200b plugin\n    ],\n    layout: \"StandaloneLayout\"\n})\n</code></pre> <p>\u200b\u6bd4\u8f03\u200b\u65b0\u200b\u7684\u200b\u7248\u672c\u200b\u5247\u6709\u200b supportedSubmitMethods \u200b\u9019\u500b\u200b\u53c3\u6578\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\uff0c\u200b\u53c3\u6578\u503c\u200b\u70ba\u200b\u6b63\u5411\u200b\u8868\u5217\u200b\u53ef\u4ee5\u200b\u8981\u200b\u555f\u7528\u200b Try it out \u200b\u7684\u200b HTTP method\uff0c\u200b\u70ba\u200b\u7a7a\u6642\u200b\u8868\u793a\u200b\u5168\u90e8\u200b\u505c\u7528\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b Docker \u200b\u7684\u200b\u74b0\u5883\u200b\u8b8a\u6578\u200b\u8a2d\u5b9a\u200b\uff0c\u200b\u4ee5\u200b docker-compose \u200b\u70ba\u7bc4\u4f8b\u200b</p> <pre><code>version: \"3.8\"\nservices:\n  swagger-ui:\n    image: swaggerapi/swagger-ui\n    ports:\n      - 80:8080\n    environment:\n      - SUPPORTED_SUBMIT_METHODS=[]\n</code></pre> <p>Javascript \u200b\u7684\u200b\u8a71\u5247\u200b\u662f\u200b</p> <pre><code>var SwaggerUIBundle = require('swagger-ui-dist').SwaggerUIBundle\n\nconst ui = SwaggerUIBundle({\n    url: \"https://petstore.swagger.io/v2/swagger.json\",\n    dom_id: '#swagger-ui',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n    ],\n    supportedSubmitMethods: [], // &lt;== \u200b\u505c\u7528\u200b\u6240\u6709\u200b HTTP method \u200b\u7684\u200b Try it out\n    layout: \"StandaloneLayout\"\n})\n</code></pre> <p>Reference:</p> <ol> <li>How to disable 'Try it out' in Swagger UI 3.x</li> <li>Swagger UI Usage</li> </ol>","tags":["OpenAPI"]},{"location":"blog/2020/12/06/django-custom-user-with-drf-and-simple-jwt/","title":"Django Custom User with DRF and Simple JWT","text":"<p>Django \u200b\u5167\u5efa\u200b User Model \u200b\u4f9b\u200b\u8a8d\u8b49\u200b\uff0c\u200b\u4f46\u200b\u5b98\u65b9\u200b\u6587\u4ef6\u200b\u5f37\u70c8\u200b\u5efa\u8b70\u200b\u5728\u200b\u5c08\u6848\u200b\u4e00\u958b\u59cb\u200b\u5c31\u200b\u4f7f\u7528\u200b\u81ea\u8a02\u200b\u7684\u200b User Model\u3002\u200b\u56e0\u70ba\u200b\u672a\u4f86\u200b\u82e5\u200b\u5c0d\u200b User Model \u200b\u6709\u200b\u8abf\u6574\u200b\u9700\u6c42\u200b\uff0c\u200b\u4f8b\u5982\u200b\u589e\u52a0\u200b\u6b04\u4f4d\u200b\uff0c\u200b\u90fd\u200b\u53ea\u80fd\u200b\u4f7f\u7528\u200b\u81ea\u8a02\u200b\u7684\u200b User Model\uff0c\b\u200b\u5728\u200b\u4e00\u958b\u59cb\u200b\u5c31\u200b\u4f7f\u7528\u200b\u5167\u5efa\u200b\u7684\u200b User Model \u200b\u6703\u200b\u56e0\u70ba\u200b\u727d\u6d89\u200b\u5230\u200b\u5404\u7a2e\u200b foreign ken \u200b\u8207\u200b\u591a\u200b\u5c0d\u200b\u591a\u95dc\u200b\u4fc2\u200b\u5c0e\u81f4\u200b\u96e3\u4ee5\u200b\u9077\u79fb\u200b(Changing to a custom user model mid-project)\u3002</p> <p>\u200b\u5b98\u65b9\u200b\u6587\u4ef6\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u500b\u200b\u6bd4\u200b\u8f03\u200b\u8907\u200b\u96dc\u7684\u200b Custom User \u200b\u5efa\u7acb\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4f46\u200b\u4f7f\u7528\u200b AbstractBaseUser \u200b\u6216\u662f\u200b AbstractUser \u200b\u662f\u200b\u5927\u5bb6\u200b\u6bd4\u8f03\u200b\u5e38\u7528\u200b\u800c\u4e14\u200b\u4e5f\u200b\u76f8\u200b\u5c0d\u200b\u7c21\u55ae\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002AbstractBaseUser \u200b\u9700\u8981\u200b\u88dc\u5145\u200b\u8a31\u591a\u200b User Model \u200b\u7684\u200b\u5be6\u4f5c\u200b\u7d30\u7bc0\u200b\uff0c\u200b\u800c\u200b AbstractUser \u200b\u662f\u200b AbstractBaseUser \u200b\u7684\u200b subclass\uff0c\u200b\u5df2\u7d93\u5be6\u200b\u4f5c\u51fa\u200b\u4e00\u500b\u200b\u5b8c\u6574\u200b\u7684\u200b User Model\uff0c\u200b\u55ae\u7d14\u200b\u53ea\u662f\u200b\u8abf\u6574\u200b\u6b04\u4f4d\u200b\u4f7f\u7528\u200b AbstractUser \u200b\u662f\u200b\u6700\u200b\u7c21\u4fbf\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002</p> <p>\u200b\u672c\u7bc4\u4f8b\u200b\u4f7f\u7528\u200b Django REST framework(DRF) \u200b\u505a\u200b API\uff0c\u200b\u4e26\u200b\u5229\u7528\u200b Simple JWT \u200b\u9032\u884c\u9a57\u8b49\u200b\u3002\u200b\u5b8c\u6574\u200b\u7bc4\u4f8b\u200b\u8acb\u200b\u53c3\u8003\u200b Django Custom User with DRF and Simple JWT\u3002</p>","tags":["Python","Django","JWT"]},{"location":"blog/2020/12/06/django-custom-user-with-drf-and-simple-jwt/#setup","title":"Setup","text":"<ol> <li>\u200b\u4f7f\u7528\u200b virtualenv \u200b\u5efa\u7acb\u200b\u865b\u64ec\u200b\u74b0\u5883\u200b</li> <li>\u200b\u5b89\u88dd\u200b package</li> <li>\u200b\u521d\u59cb\u200b Django project website</li> <li>\u200b\u5efa\u7acb\u200b Django application account \u200b\u7528\u200b\u65bc\u200b\u653e\u7f6e\u200b Custom User Model</li> </ol> <pre><code>$ mkdir django-custom-user &amp;&amp; cd django-custom-user\n$ python -m venv .venv\n$ source .venv/bin/activate\n$ pip install Django==3.1.4 djangorestframework==3.12.2 djangorestframework-simplejwt==4.6.0\n(.venv) $ django-admin.py startproject website .\n(.venv) $ python manage.py startapp account\n(.venv) $ python manage.py runserver\n</code></pre>","tags":["Python","Django","JWT"]},{"location":"blog/2020/12/06/django-custom-user-with-drf-and-simple-jwt/#custom-user-model","title":"Custom User Model","text":"<ol> <li>\u200b\u5efa\u7acb\u200b Custom User Model</li> <li>\u200b\u66f4\u65b0\u200b <code>website/settings.py</code>\uff0c\u200b\u5c07\u200b User Model \u200b\u6539\u70ba\u200b Custom User Model</li> <li>\u200b\u57f7\u884c\u200b <code>makemigrations</code> \u200b\u8207\u200b <code>migrate</code> \u200b\u66f4\u65b0\u200b DB</li> <li>\u200b\u5efa\u7acb\u200b superuser admin \u200b\u5e33\u865f\u200b</li> </ol> <p>\u200b\u5728\u200b <code>account/models.py</code> \u200b\u65b0\u589e\u200b\u6211\u5011\u200b\u8981\u200b\u7528\u200b\u7684\u200b Custom User Model\uff0c\u200b\u9019\u6642\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u589e\u52a0\u200b\u9700\u8981\u200b\u7684\u200b\u6b04\u4f4d\u200b\uff0c\u200b\u4f8b\u5982\u200b\u751f\u65e5\u200b\u7b49\u200b\u3002</p> <pre><code># account/models.py\nfrom django.contrib.auth.models import AbstractUser\nfrom django.db import models\n\n\nclass CustomUser(AbstractUser):\n    birthday = models.DateField(null=True, blank=True, default=None)\n    # add additional fields in here\n\n    def __str__(self):\n        return self.username\n</code></pre> <p>\u200b\u5728\u200b <code>website/settings.py</code> \u200b\u9700\u8981\u200b\u52a0\u5165\u200b\u6211\u5011\u200b\u589e\u52a0\u200b\u7684\u200b account application\uff0c\u200b\u4e26\u200b\u589e\u52a0\u200b <code>AUTH_USER_MODEL</code> \u200b\u8a2d\u70ba\u200b\u6211\u5011\u200b\u65b0\u5efa\u200b\u7684\u200b Custom User Model\uff0c\u200b\u53d6\u4ee3\u200b\u539f\u672c\u200b\u5167\u5efa\u200b\u7684\u200b User Model\u3002</p> <pre><code># website/settings.py\n...\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'account.apps.AccountConfig', # new\n]\n...\nAUTH_USER_MODEL = \"account.CustomUser\"\n</code></pre> <p>\u200b\u5b8c\u6210\u200b <code>AUTH_USER_MODEL</code> \u200b\u7684\u200b\u8a2d\u5b9a\u200b\u5f8c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u57f7\u884c\u200b\u9996\u6b21\u200b\u7684\u200b <code>makemigrations</code> \u200b\u8207\u200b <code>migrate</code>\uff0c\u200b\u5728\u200b\u8abf\u6574\u200b <code>AUTH_USER_MODEL</code> \u200b\u524d\u200b\u5207\u52ff\u200b\u57f7\u884c\u200b\uff01</p> <pre><code>(.venv) $ python manage.py makemigrations\n(.venv) $ python manage.py migrate\n</code></pre> <p>\u200b\u5efa\u7acb\u200b superuser \u200b\u4e4b\u5f8c\u7528\u200b\u65bc\u200b\u9a57\u8b49\u200b\u3002</p> <pre><code>(.venv) $ python manage.py createsuperuser\n</code></pre>","tags":["Python","Django","JWT"]},{"location":"blog/2020/12/06/django-custom-user-with-drf-and-simple-jwt/#django-rest-framework","title":"Django REST framework","text":"<ol> <li>\u200b\u65b0\u589e\u200b <code>account/serializers.py</code>, <code>account/views.py</code> \u200b\u8207\u200b <code>account/urls.py</code></li> <li>\u200b\u66f4\u65b0\u200b <code>website/settings.py</code> \u200b\u8207\u200b <code>website/urls.py</code></li> </ol> <p>\u200b\u5e8f\u5217\u5316\u200b\u67e5\u8a62\u200b\u7d50\u679c\u200b\uff0c\u200b\u9664\u4e86\u200b Customer User Model \u200b\u5916\u200b\u4e5f\u200b\u589e\u52a0\u200b\u4e86\u200b\u5167\u5efa\u200b\u7684\u200b Group Model\u3002\u200b\u8f38\u51fa\u200b\u7684\u200b <code>fields</code> \u200b\u8a2d\u5b9a\u200b\u70ba\u200b\u5168\u90e8\u200b\u6b04\u4f4d\u200b\uff0c\u200b\u53ef\u4f9d\u200b\u9700\u6c42\u200b\u8abf\u6574\u200b\u3002</p> <pre><code># account/serializers.py\nfrom .models import CustomUser\nfrom django.contrib.auth.models import Group\nfrom rest_framework import serializers\n\n\nclass CustomUserSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = CustomUser\n        fields = \"__all__\"\n\n\nclass GroupSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Group\n        fields = \"__all__\"\n</code></pre> <p>\u200b\u8a2d\u5b9a\u200b View \u200b\u4f5c\u70ba\u200b API interface\u3002</p> <pre><code># account/views.py\nfrom .models import CustomUser\nfrom django.contrib.auth.models import Group\nfrom rest_framework import viewsets\nfrom rest_framework import permissions\nfrom .serializers import CustomUserSerializer, GroupSerializer\n\n\nclass CustomUserViewSet(viewsets.ModelViewSet):\n    \"\"\"\n    API endpoint that allows users to be viewed or edited.\n    \"\"\"\n\n    queryset = CustomUser.objects.all().order_by(\"-date_joined\")\n    serializer_class = CustomUserSerializer\n    permission_classes = [permissions.IsAuthenticated]\n\n\nclass GroupViewSet(viewsets.ModelViewSet):\n    \"\"\"\n    API endpoint that allows groups to be viewed or edited.\n    \"\"\"\n\n    queryset = Group.objects.all()\n    serializer_class = GroupSerializer\n    permission_classes = [permissions.IsAuthenticated]\n</code></pre> <p>\u200b\u5c07\u200b View \u200b\u8a3b\u200b\u518a\u200b\u5230\u200b router \b\u200b\u4e2d\u200b\u3002</p> <pre><code># account/urls.py\nfrom django.urls import include, path\nfrom rest_framework import routers\n\nfrom . import views\n\nrouter = routers.DefaultRouter()\nrouter.register(r\"account/user\", views.CustomUserViewSet)\nrouter.register(r\"account/group\", views.GroupViewSet)\n\nurlpatterns = [\n    path(\"\", include(router.urls)),\n]\n</code></pre> <p>\u200b\u5728\u200b <code>website/settings.py</code> \u200b\u7684\u200b <code>INSTALLED_APPS</code> \u200b\u589e\u52a0\u200b <code>rest_framework</code>\u3002</p> <pre><code># website/settings.py\n...\nINSTALLED_APPS = [\n    ...\n    \"rest_framework\", # new\n]\n...\n</code></pre> <p>include \u200b\u524d\u9762\u200b\u5728\u200b account \u200b\u4e2d\u200b\u8a2d\u5b9a\u200b\u7684\u200b url\uff0c\u200b\u4e26\u200b\u589e\u52a0\u200b api-auth \u200b\u7528\u200b\u65bc\u200b\u901a\u904e\u200b DRF \u200b\u7684\u200b\u5167\u5efa\u200b\u7db2\u9801\u200b\u8a8d\u8b49\u200b\u3002</p> <pre><code># website/urls.py\nfrom django.contrib import admin\nfrom django.urls import path, include\n\n\nurlpatterns = [\n    path(\"admin/\", admin.site.urls),\n    path(\"api/\", include(\"account.urls\")), # new\n    path(\"api-auth/\", include(\"rest_framework.urls\", namespace=\"rest_framework\")), # new\n]\n</code></pre> <p>\u200b\u5b8c\u6210\u200b\u5f8c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>curl</code> \u200b\u6e2c\u8a66\u200b API\uff0c\u200b\u5e33\u865f\u200b\u4f7f\u7528\u200b\u5148\u524d\u200b\u5efa\u7acb\u200b\u7684\u200b superuser\u3002</p> <pre><code>$ curl -H 'Accept: application/json; indent=4' -u admin:admin http://127.0.0.1:8000/api/account/user/\n[\n    {\n        \"id\": 1,\n        \"password\": \"pbkdf2_sha256$216000$fHERFJ7toIcI$3QOXbA4or+srGXn+60aW+z4rslvJkQcW2wS0oWWzYHI=\",\n        \"last_login\": \"2020-12-07T15:46:50.478483Z\",\n        \"is_superuser\": true,\n        \"username\": \"admin\",\n        \"first_name\": \"\",\n        \"last_name\": \"\",\n        \"email\": \"admin@sample.com\",\n        \"is_staff\": true,\n        \"is_active\": true,\n        \"date_joined\": \"2020-12-07T13:54:21.479125Z\",\n        \"birthday\": null,\n        \"groups\": [],\n        \"user_permissions\": []\n    }\n]\n</code></pre> <p>\u200b\u6216\u662f\u200b\u958b\u8d77\u200b DRF \u200b\u5167\u5efa\u200b\u7684\u200b\u7db2\u9801\u200b localhost:8000/api/account/user/\uff0c\u200b\u5982\u4e0b\u200b\u5716\u200b\uff1a</p> <p></p> <p>\u200b\u5f9e\u200b\u7d50\u679c\u200b\u53ef\u4ee5\u200b\u78ba\u8a8d\u200b\u6211\u5011\u200b\u4f7f\u7528\u200b\u7684\u200b Custom User \u200b\u6709\u200b\u65b0\u589e\u200b\u7684\u200b Birthday \u200b\u6b04\u4f4d\u200b\uff0csuperuser \u200b\u4e5f\u200b\u662f\u200b\u5efa\u7acb\u200b\u5728\u200b Custom User Model \u200b\u4e2d\u200b\u3002</p>","tags":["Python","Django","JWT"]},{"location":"blog/2020/12/06/django-custom-user-with-drf-and-simple-jwt/#simple-jwt","title":"Simple JWT","text":"<ol> <li>\u200b\u66f4\u65b0\u200b <code>website/settings.py</code>\uff0c\u200b\u8abf\u6574\u200b\u9810\u8a2d\u200b\u8a8d\u8b49\u200b class</li> <li>\u200b\u66f4\u65b0\u200b <code>website/urls.py</code>\uff0c\u200b\u589e\u52a0\u200b Token \u200b\u76f8\u95dc\u200b API</li> </ol> <p>\u200b\u8a2d\u5b9a\u200b <code>REST_FRAMEWORK</code> \u200b\u7684\u200b <code>DEFAULT_AUTHENTICATION_CLASSES</code> \u200b\u70ba\u200b Simple JWT\u3002</p> <pre><code># website/settings.py\nREST_FRAMEWORK = {\n    \"DEFAULT_AUTHENTICATION_CLASSES\": (\n        \"rest_framework_simplejwt.authentication.JWTAuthentication\",\n    )\n}\n</code></pre> <p>\u200b\u589e\u52a0\u200b\u53d6\u5f97\u200b Token \u200b\u8207\u200b\u66f4\u65b0\u200b Token \u200b\u7684\u200b\u5169\u500b\u200b API\u3002</p> <pre><code># website/urls.py\nfrom rest_framework_simplejwt.views import (\n    TokenObtainPairView,\n    TokenRefreshView,\n)\n\nurlpatterns = [\n    ...\n    path('api/token/', TokenObtainPairView.as_view(), name='token_obtain_pair'),\n    path('api/token/refresh/', TokenRefreshView.as_view(), name='token_refresh'),\n    ...\n]\n</code></pre> <p>\u200b\u5b8c\u6210\u200b\u5f8c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5148\u524d\u200b\u5efa\u7acb\u200b\u7684\u200b superuser \u200b\u53d6\u5f97\u200b Token\u3002</p> <pre><code>$ curl \\\n  -X POST \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"admin\", \"password\": \"admin\"}' \\\n  http://localhost:8000/api/token/\n\n{\"refresh\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTYwNzQ0MzQ3NiwianRpIjoiYzQzYjM2Zjg2ODA0NDU1MzliYzUwNTlmN2YzN2NkMTEiLCJ1c2VyX2lkIjoxfQ.ZC0fAj7HR99v_po4BI-uVVeS9c7ZoN4B35_pYzosE_o\",\"access\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjA3MzU3Mzc2LCJqdGkiOiIyYjY5NzkxMmZhNjE0NzY3YmJkNDA2NjExMzE1YzkxMCIsInVzZXJfaWQiOjF9.92m-V9vjRxUWGLlcJRFBdLqSHp0UII3SLPTt_yPynqY\"}\n</code></pre> <p>\u200b\u5c07\u200b\u53d6\u5f97\u200b\u7684\u200b Token \u200b\u52a0\u5165\u200b Header \u200b\u4e2d\u200b\uff0c\u200b\u518d\u6b21\u200b\u6e2c\u8a66\u200b User \u200b\u6e05\u55ae\u200b\u7684\u200b API\u3002</p> <pre><code>$ curl -H 'Accept: application/json; indent=4' -H \"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjA3MzU3Mzc2LCJqdGkiOiIyYjY5NzkxMmZhNjE0NzY3YmJkNDA2NjExMzE1YzkxMCIsInVzZXJfaWQiOjF9.92m-V9vjRxUWGLlcJRFBdLqSHp0UII3SLPTt_yPynqY\" http://127.0.0.1:8000/api/account/user/\n[\n    {\n        \"id\": 1,\n        \"password\": \"pbkdf2_sha256$216000$fHERFJ7toIcI$3QOXbA4or+srGXn+60aW+z4rslvJkQcW2wS0oWWzYHI=\",\n        \"last_login\": \"2020-12-07T16:02:06.847562Z\",\n        \"is_superuser\": true,\n        \"username\": \"admin\",\n        \"first_name\": \"\",\n        \"last_name\": \"\",\n        \"email\": \"admin@sample.com\",\n        \"is_staff\": true,\n        \"is_active\": true,\n        \"date_joined\": \"2020-12-07T13:54:21.479125Z\",\n        \"birthday\": null,\n        \"groups\": [],\n        \"user_permissions\": []\n    }\n]\n</code></pre> <p>Reference:</p> <ol> <li>Django Custom User Model</li> <li>\u200b\u81ea\u8a02\u200b Django User Model \u200b\u7684\u200b\u4e09\u7a2e\u200b\u65b9\u5f0f\u200b</li> <li>Django REST framework</li> <li>SimpleJWT Document</li> </ol>","tags":["Python","Django","JWT"]},{"location":"blog/2021/01/18/longest-palindromic-substring/","title":"Longest Palindromic Substring","text":"<p>5. Longest Palindromic Substring</p> <pre><code>class Solution:\n    def longestPalindrome(self, s: str) -&gt; str:\n        def getLen(s, l, r):\n            while l &gt;= 0 and r &lt; len(s) and s[l] == s[r]:\n                l -= 1\n                r += 1\n            return r - l - 1\n\n        maxLen = 0\n        start = 0\n        for i in range(len(s)):\n            curMax = max(getLen(s, i, i), getLen(s, i, i + 1))\n            if curMax &lt;= maxLen:\n                continue\n            maxLen = curMax\n            start = i - (curMax - 1) // 2\n        return s[start : start + maxLen]\n</code></pre> <p>Reference:</p> <ol> <li>Blind Curated 75</li> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 5. Longest Palindromic Substring - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP292</li> </ol>","tags":[]},{"location":"blog/2021/01/20/kubernetes-operator-for-beginners--what-why-how/","title":"Kubernetes Operator for Beginners \u2014 What, Why, How","text":"<p>Kubernetes Operator for Beginners \u2014 What, Why, How</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7d39\u200b\u4e86\u200b Operator \u200b\u7684\u200b\u529f\u80fd\u200b\u4ee5\u53ca\u200b\u5982\u4f55\u200b\u5efa\u7acb\u200b Operator</p>","tags":["K8s"]},{"location":"blog/2021/01/20/kubernetes-operator-for-beginners--what-why-how/#what-is-an-operator","title":"What is an operator","text":"<p>\u200b\u5229\u7528\u200b Custom Resource (CRD) \u200b\u64cd\u4f5c\u200b K8\bs \u200b\u4e0a\u200b\u7684\u200b\u5176\u4ed6\u200b\u8cc7\u6e90\u200b\uff0c\u200b\u4e26\u4e14\u200b\u7b26\u5408\u200b K8s \u200b\u7684\u200b Control loop \u200b\u6a5f\u5236\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b K8s native api \u200b\u7ba1\u7406\u200b</p>","tags":["K8s"]},{"location":"blog/2021/01/20/kubernetes-operator-for-beginners--what-why-how/#why-you-need-an-operator","title":"Why you need an operator","text":"<p>\u200b\u4ee5\u200b Code \u200b\u7684\u200b\u65b9\u5f0f\u200b\u81ea\u52d5\u5316\u200b\u5c0d\u200b K8\bs \u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u7dad\u904b\u200b\u7684\u200b\u53ef\u9760\u6027\u200b</p>","tags":["K8s"]},{"location":"blog/2021/01/20/kubernetes-operator-for-beginners--what-why-how/#how-to-write-an-operator","title":"How to write an Operator","text":"<ol> <li>Kudo</li> <li>Helm</li> <li>Dynamic Operator: \u200b\u5f48\u6027\u200b\u9ad8\u200b\uff0c\u200b\u9700\u8981\u200b\u624b\u52d5\u200b\u64b0\u200b\u5beb\u200b\u8a31\u591a\u200b\u7a0b\u5f0f\u200b\u78bc\u200b</li> <li>Operator SDK</li> <li>Kubebuilder</li> </ol>","tags":["K8s"]},{"location":"blog/2021/01/20/kubernetes-operator-for-beginners--what-why-how/#is-operator-necessary","title":"Is Operator Necessary","text":"<ol> <li>\u200b\u4e0d\u8981\u200b\u6c88\u6eba\u200b\u65bc\u200b\u81ea\u52d5\u5316\u200b\u3002\u200b\u5982\u679c\u200b\u9019\u500b\u200b\u5de5\u4f5c\u200b\u4e00\u500b\u200b\u6708\u200b\u53ea\u200b\u9700\u8981\u200b\u82b1\u200b\u5341\u5206\u200b\u9418\u8655\u7406\u200b\uff0c\u200b\u90a3\u200b\u5b8c\u5168\u200b\u4e0d\u200b\u503c\u5f97\u200b\u82b1\u4e00\u9031\u200b\u6216\u200b\u751a\u81f3\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u6642\u9593\u200b\u4f86\u200b\u7279\u5730\u200b\u5beb\u200b\u4e00\u500b\u200b Operator</li> <li>\u200b\u5982\u679c\u200b\u5df2\u7d93\u200b\u6709\u200b Helm Chart \u200b\u6216\u200b Kudo template \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7684\u200b\u8a71\u200b\uff0c\u200b\u4e0d\u8981\u200b\u786c\u7528\u200b Operator SDK \u200b\u6216\u200b Kubebuilder \u200b\u91cd\u65b0\u200b\u5be6\u4f5c\u200b\uff0cYAML \u200b\u6c38\u9060\u200b\u6bd4\u200b Go Code \u200b\u7c21\u55ae\u200b\u66f4\u200b\u591a\u200b</li> <li>\u200b\u5982\u679c\u200b\u53ef\u4ee5\u200b\u7684\u200b\u8a71\u200b\uff0c\u200b\u6bd4\u8d77\u200b\u5ba2\u5236\u200b Operator\uff0c\u200b\u9078\u64c7\u200b\u919c\u964b\u200b\u4f46\u200b\u7c21\u55ae\u200b\u7684\u200b bash script \u200b\u6709\u200b\u6642\u5019\u200b\u6703\u200b\u66f4\u200b\u8f15\u200b\u9b06\u200b\u4e00\u200b\u9ede\u200b</li> </ol>","tags":["K8s"]},{"location":"blog/2021/01/21/arrow-keys-not-working-in-vim-in-jupyter-console/","title":"Arrow keys not working in vim in Jupyter console","text":"<p>\u200b\u554f\u984c\u200b\uff1avim \u200b\u5728\u200b jupyter notebook console \u200b\u4f7f\u7528\u200b\u6642\u200b\u65b9\u5411\u200b\u9375\u884c\u200b\u70ba\u200b\u7570\u5e38\u200b\uff0c\u200b\u7121\u6cd5\u200b\u6b63\u5e38\u200b\u79fb\u52d5\u200b</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u5728\u200b <code>~/.vimrc</code> \u200b\u589e\u52a0\u200b <code>:set term=builtin_ansi</code></p> <p>\u200b\u5728\u200b Windows \u200b\u7684\u200b Unix console Cmder \u200b\u4e5f\u200b\u6709\u4eba\u200b\u9047\u5230\u200b\u9019\u500b\u7a2e\u200b\u554f\u984c\u200b\uff0c\u200b\u4e00\u6a23\u200b\u53ef\u4ee5\u200b\u7528\u200b\u76f8\u540c\u200b\u65b9\u5f0f\u200b\u89e3\u6c7a\u200b\uff0c\u200b\u4f46\u200b\u526f\u4f5c\u7528\u200b\u70ba\u6703\u200b\u5f71\u97ff\u200b syntax highlighting\u3002\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u4fdd\u6301\u200b syntax highlighting \u200b\u53ef\u4ee5\u200b\u53c3\u8003\u200b\u8abf\u6574\u200b key code mapping \u200b\u7684\u200b\u89e3\u6cd5\u200b\u3002</p> <p>Reference:</p> <ol> <li>Arrow keys not working in vim in Jupyter console</li> </ol>","tags":["jupyter notebook"]},{"location":"blog/2021/01/23/vxe-table-with-filter-search-and-pagination/","title":"vxe-table with filter search and pagination","text":"<p>vxe-table \u200b\u662f\u200b\u4e00\u6b3e\u200b\u57fa\u200b\u65bc\u200b Vue \u200b\u7684\u200b PC \u200b\u7aef\u200b\u8868\u683c\u200b\u5143\u4ef6\u200b\uff0c\u200b\u652f\u63f4\u200b CRUD\u3001\u200b\u865b\u64ec\u200b\u6efe\u52d5\u200b\u3001\u200b\u61f6\u52a0\u8f09\u200b\u3001\u200b\u5206\u9801\u200b\u3001\u200b\u6a39\u72c0\u200b\u986f\u793a\u200b\u7b49\u200b\u529f\u80fd\u200b\uff0c\u200b\u4e14\u200b\u6709\u200b\u5b8c\u5584\u200b\u7684\u200b API \u200b\u6587\u4ef6\u200b\u8207\u200b\u5927\u91cf\u200b\u7bc4\u4f8b\u200b\u3002</p> <p>\u200b\u6587\u4ef6\u200b\u4e2d\u95dc\u200b\u65bc\u200b\u67e5\u8a62\u200b\u8207\u200b\u5206\u9801\u200b\u7684\u200b\u7bc4\u4f8b\u200b\u90fd\u200b\u8f03\u200b\u70ba\u200b\u8907\u200b\u96dc\u200b\uff0c\u200b\u4e00\u822c\u200b\u5e38\u7528\u200b\u4ee5\u200b filter \u200b\u5be6\u73fe\u200b\u67e5\u8a62\u200b\u7684\u200b\u529f\u80fd\u200b\u9808\u200b\u81ea\u884c\u200b\u5be6\u4f5c\u200b\u3002\u200b\u6240\u4ee5\u200b\u7c21\u55ae\u200b\u5beb\u200b\u4e86\u200b\u4e00\u500b\u200b\u7bc4\u4f8b\u200b\uff0c\u200b\u8a73\u7d30\u200b\u7a0b\u5f0f\u200b\u78bc\u200b\u5982\u4e0b\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u53c3\u8003\u200b CodeSandbox\u3002</p> <p>App.js</p> <pre><code>&lt;template&gt;\n  &lt;div id=\"app\"&gt;\n    &lt;vxe-grid\n      border\n      resizable\n      show-overflow\n      height=\"auto\"\n      :columns=\"tableColumn\"\n      :toolbar-config=\"{ slots: { buttons: 'toolbar_buttons' } }\"\n      :data=\"tableData\"\n      :pager-config=\"tablePage\"\n      @page-change=\"handlePageChange\"\n    &gt;\n      &lt;template v-slot:toolbar_buttons&gt;\n        &lt;vxe-form&gt;\n          &lt;vxe-form-item title=\"Filter\"&gt;\n            &lt;template v-slot&gt;\n              &lt;vxe-input v-model=\"keyword\" placeholder=\"Search\" clearable /&gt;\n            &lt;/template&gt;\n          &lt;/vxe-form-item&gt;\n        &lt;/vxe-form&gt;\n      &lt;/template&gt;\n\n      &lt;template v-slot:empty&gt;\n        &lt;span style=\"color: red\"&gt;\n          &lt;p&gt;Data Not Found&lt;/p&gt;\n        &lt;/span&gt;\n      &lt;/template&gt;\n    &lt;/vxe-grid&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      tableColumn: [\n        { field: \"code\", title: \"Customer Code\" },\n        { field: \"title\", title: \"Customer Name\", showHeaderOverflow: true },\n      ],\n      tablePage: {\n        total: 0,\n        currentPage: 1,\n        pageSize: 5,\n        align: \"center\",\n        layouts: [\n          \"PrevJump\",\n          \"PrevPage\",\n          \"Number\",\n          \"NextPage\",\n          \"NextJump\",\n          \"FullJump\",\n          \"Total\",\n        ],\n        perfect: true,\n      },\n      customerList: [\n        { code: \"001\", title: \"one\" },\n        { code: \"002\", title: \"two\" },\n        { code: \"003\", title: \"three\" },\n        { code: \"004\", title: \"four\" },\n        { code: \"005\", title: \"five\" },\n        { code: \"006\", title: \"six\" },\n        { code: \"007\", title: \"seven\" },\n        { code: \"008\", title: \"eight\" },\n        { code: \"009\", title: \"nine\" },\n        { code: \"010\", title: \"ten\" },\n      ],\n      keyword: \"\",\n    };\n  },\n  computed: {\n    filteredData() {\n      const lowerKeyworkd = this.keyword.toLowerCase();\n      return lowerKeyworkd\n        ? this.customerList.filter(\n            (row) =&gt;\n              row.code.toLowerCase().includes(lowerKeyworkd) ||\n              row.title.toLowerCase().includes(lowerKeyworkd)\n          )\n        : this.customerList;\n    },\n    tableData() {\n      return this.filteredData.slice(\n        (this.tablePage.currentPage - 1) * this.tablePage.pageSize,\n        this.tablePage.currentPage * this.tablePage.pageSize\n      );\n    },\n  },\n  watch: {\n    filteredData(newValue) {\n      this.tablePage.total = newValue.length;\n    },\n  },\n  methods: {\n    handlePageChange({ currentPage, pageSize }) {\n      this.tablePage.currentPage = currentPage;\n      this.tablePage.pageSize = pageSize;\n    },\n  },\n};\n&lt;/script&gt;\n\n&lt;style&gt;\n#app {\n  margin: 20px;\n}\n&lt;/style&gt;\n</code></pre> <p>main.js</p> <pre><code>import Vue from \"vue\";\nimport App from \"./App.vue\";\n\nimport \"xe-utils\";\nimport VXETable from \"vxe-table\";\nimport VXETablePluginElement from \"vxe-table-plugin-element\";\n\nVue.config.productionTip = false;\n\nVue.use(VXETable);\nVXETable.use(VXETablePluginElement);\n\nnew Vue({\n  render: (h) =&gt; h(App)\n}).$mount(\"#app\");\n</code></pre>","tags":["Vue"]},{"location":"blog/2021/01/25/container-with-most-water/","title":"Container With Most Water","text":"<p>11. Container With Most Water</p> <pre><code>class Solution:\n    def maxArea(self, height: List[int]) -&gt; int:\n        ans = 0\n        l = 0\n        r = len(height) - 1\n        while l != r:\n            ans = max(ans, min(height[l], height[r]) * (r - l))\n            if height[l] &lt; height[r]:\n                l += 1\n            else:\n                r -= 1\n        return ans\n</code></pre> <p>Reference:</p> <ol> <li>Blind Curated 75</li> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 11. Container With Most Water - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP121</li> </ol>","tags":[]},{"location":"blog/2021/01/29/why-we-switched-from-flask-to-fastapi-for-production-machine-learning/","title":"Why we switched from Flask to FastAPI for production machine learning","text":"<p>Why we switched from Flask to FastAPI for production machine learning</p> <p>Cortex \u200b\u662f\u200b\u4e00\u500b\u200b\u63d0\u4f9b\u200b ML \u200b\u670d\u52d9\u200b\u7684\u200b Infra\uff0c\u200b\u652f\u63f4\u200b\u591a\u7a2e\u200b\u4e0d\u540c\u200b\u6846\u67b6\u200b TensorFlow\u3001PyTorch\u3001scikit-learn \u200b\u7b49\u200b\uff0c\u200b\u4e26\u200b\u63d0\u4f9b\u200b autoscaling\u3001rolling updates\u3001log \u200b\u7ba1\u7406\u200b\u7b49\u200b\u3002\u200b\u5728\u200b\u4ed6\u5011\u200b\u7684\u200b 0.14 \u200b\u7248\u4e4b\u5f8c\u5c07\u200b API \u200b\u7684\u200b\u5e95\u5c64\u200b\u5f9e\u200b Flask \u200b\u63db\u6210\u200b\u4e86\u200b FastAPI\uff0c\u200b\u4e4b\u5f8c\u7d93\u6b77\u200b\u4e86\u200b\u591a\u6b21\u200b\u66f4\u65b0\u200b\u5c0d\u200b\u65bc\u200b\u66f4\u200b\u63db\u6210\u200b FastAPI \u200b\u611f\u5230\u200b\u975e\u5e38\u200b\u6eff\u610f\u200b\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u4e09\u9ede\u200b\u662f\u200b\u4ed6\u5011\u200b\u6c7a\u5b9a\u200b\u66f4\u63db\u200b\u7684\u200b\u539f\u56e0\u200b</p>","tags":["Python","API"]},{"location":"blog/2021/01/29/why-we-switched-from-flask-to-fastapi-for-production-machine-learning/#1-ml-inference-benefits-from-native-async-support","title":"1. ML inference benefits from native async support","text":"<p>Cortex \u200b\u5f9e\u200b\u539f\u672c\u200b\u7684\u200b\u4f9d\u64da\u200b CPU \u200b\u4f7f\u7528\u7387\u200b\u7684\u200b autoscaling \u200b\u7b56\u7565\u200b\uff0c\u200b\u6539\u6210\u200b\u4f9d\u64da\u200b request \u200b\u7684\u200b\u6578\u91cf\u200b\u3002\u200b\u4f46\u200b Flask \u200b\u56e0\u70ba\u200b\u6c92\u6709\u200b\u539f\u751f\u200b\u652f\u63f4\u200b async\uff0c\u200b\u4e00\u6b21\u200b\u53ea\u80fd\u200b\u5f9e\u200b queue \u200b\u53d6\u51fa\u200b\u6578\u500b\u200b\u4ed6\u200b\u80fd\u5920\u200b\u8655\u7406\u200b\u7684\u200b request \u200b\u9032\u884c\u200b\u904b\u7b97\u200b\uff0c\u200b\u7121\u6cd5\u200b\u5f97\u77e5\u200b queue \u200b\u6709\u200b\u591a\u5c11\u200b\u7b46\u5f85\u200b\u8655\u7406\u200b\u7684\u200b request\u3002\u200b\u800c\u57fa\u200b\u65bc\u200b Uvicorn \u200b\u7684\u200b FastAPI \u200b\u5f97\u529b\u200b\u65bc\u200b ASGI server \u200b\u7684\u200b\u7279\u6027\u200b\uff0c\u200b\u539f\u751f\u200b\u5c31\u200b\u652f\u63f4\u200b async event loop\uff0c\u200b\u6240\u6709\u200b request \u200b\u90fd\u200b\u6703\u200b\u76f4\u63a5\u200b\u9032\u5230\u200b FastAPI \u200b\u4e2d\u200b\uff0c\u200b\u800c\u200b\u4e0d\u6703\u200b\u5728\u200b\u670d\u52d9\u5916\u200b\u6392\u6210\u200b\u4e00\u500b\u200b queue\uff0c\u200b\u6240\u4ee5\u200b\u5c31\u200b\u80fd\u5920\u200b\u53d6\u5230\u200b\u7576\u4e0b\u200b request \u200b\u7684\u200b\u7b46\u6578\u200b\u3002</p>","tags":["Python","API"]},{"location":"blog/2021/01/29/why-we-switched-from-flask-to-fastapi-for-production-machine-learning/#2-improved-latency-is-a-huge-deal-for-inference","title":"2. Improved latency is a huge deal for inference","text":"<p>\u200b\u5728\u200b\u5be6\u969b\u5834\u200b\u666f\u200b\u4e2d\u670d\u200b\u52d9\u200b\u7684\u200b\u901f\u5ea6\u200b\u5c0d\u200b\u4f7f\u7528\u8005\u200b\u7684\u200b\u5f71\u97ff\u200b\u662f\u200b\u975e\u5e38\u200b\u5de8\u5927\u200b\u7684\u200b\uff0c\u200b\u5982\u679c\u200b Gmail \u200b\u7684\u200b\u6587\u53e5\u200b\u81ea\u52d5\u200b\u5b8c\u6210\u200b\u529f\u80fd\u200b\u6bd4\u200b\u4f7f\u7528\u8005\u200b\u6253\u5b57\u200b\u6162\u200b\u7684\u200b\u8a71\u200b\uff0c\u200b\u90a3\u200b\u9019\u500b\u200b\u529f\u80fd\u200b\u5c31\u200b\u5b8c\u5168\u200b\u55aa\u5931\u200b\u4e86\u200b\u4ed6\u200b\u4e86\u200b\u50f9\u503c\u200b\u3002\u200b\u5728\u200b Web Framework Benchmarks \u200b\u4e2d\u200b FastAPI \u200b\u6bd4\u200b Flask \u200b\u5feb\u200b\u4e86\u200b 300%\u3002</p>","tags":["Python","API"]},{"location":"blog/2021/01/29/why-we-switched-from-flask-to-fastapi-for-production-machine-learning/#3-fastapi-is-easy-to-switch-toby-design","title":"3. FastAPI is easy to switch to\u2014by design","text":"<p>\u200b\u5f9e\u200b Flask \u200b\u8f49\u63db\u200b\u81f3\u200b FastAPI \u200b\u662f\u200b\u975e\u5e38\u200b\u8f15\u200b\u9b06\u200b\u7684\u200b\uff0c\u200b\u5169\u8005\u200b\u500b\u200b\u5beb\u6cd5\u200b\u57fa\u672c\u4e0a\u200b\u975e\u5e38\u200b\u76f8\u4f3c\u200b\uff0c\u200b\u8f49\u63db\u200b\u6210\u672c\u200b\u5728\u200b\u8f49\u63db\u200b\u6846\u67b6\u200b\u6642\u200b\u4e5f\u200b\u662f\u200b\u4e00\u500b\u200b\u975e\u5e38\u200b\u91cd\u8981\u200b\u7684\u200b\u53c3\u8003\u200b\u56e0\u7d20\u200b\u3002</p> <p>Flask API endpoint example</p> <pre><code>@app.route(\"/hello\", methods=[\"GET\"])\ndef hello():\n    return \"Hello, World\"\n</code></pre> <p>FastAPI API endpoint example</p> <pre><code>@app.get(\"/hello\")\nasync def hello():\n    return \"Hello, World\"\n</code></pre>","tags":["Python","API"]},{"location":"blog/2021/01/29/why-we-switched-from-flask-to-fastapi-for-production-machine-learning/#nice-to-haves","title":"Nice to haves","text":"<p>\u200b\u9664\u4e86\u200b\u4e0a\u8ff0\u200b\u7684\u200b\u512a\u9ede\u200b\u5916\u200b\uff0cFastAPI \u200b\u4e5f\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u8cc7\u6599\u200b\u683c\u5f0f\u200b\u9a57\u8b49\u200b\u3001\u200b\u66f4\u200b\u53cb\u5584\u200b\u7684\u200b\u932f\u8aa4\u200b\u8655\u7406\u200b\u3001\u200b\u81ea\u52d5\u200b\u751f\u6210\u200b\u7684\u200b API Spec \u200b\u7b49\u200b\u529f\u80fd\u200b\u3002</p> <p>Flask \u200b\u505a\u200b\u70ba\u200b\u6bcf\u200b\u4e00\u500b\u200b\u5beb\u200b Python API \u200b\u7684\u200b Developer \u200b\u7b2c\u4e00\u200b\u500b\u200b\u4f7f\u7528\u200b\u7684\u200b Package\uff0c\u200b\u5b8c\u5584\u200b\u7684\u200b\u751f\u614b\u200b\u5708\u200b\u8b93\u200b\u4ed6\u200b\u6709\u200b\u8457\u200b\u5e7e\u4e4e\u200b\u4e0d\u53ef\u200b\u64bc\u52d5\u200b\u7684\u200b\u5730\u4f4d\u200b\u3002\u200b\u8cc7\u6599\u200b\u9a57\u8b49\u200b\u3001API Spec \u200b\u7b49\u200b\u529f\u80fd\u200b\u5176\u5be6\u200b\u4e5f\u200b\u6709\u200b\u5c0d\u200b\u61c9\u200b\u7684\u200b Package \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5982\u200b Flask-RESTX\u3002\u200b\u4f46\u200b\u5167\u200b\u5efa\u975e\u200b\u540c\u6b65\u200b\u78ba\u5be6\u200b\u662f\u200b\u4e00\u500b\u200b\u5f88\u200b\u5438\u5f15\u200b\u4eba\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u6700\u8fd1\u200b\u4e5f\u200b\u662f\u200b\u4e00\u6a23\u200b\u6709\u200b\u9047\u5230\u200b\u7121\u6cd5\u200b\u53d6\u5f97\u200b request \u200b\u6578\u91cf\u200b\u7684\u200b\u554f\u984c\u200b\uff0c\u200b\u53ea\u80fd\u200b\u5920\u900f\u904e\u200b\u5916\u90e8\u200b\u7684\u200b gateway \u200b\u53bb\u200b\u53d6\u5f97\u200b\uff0c\u200b\u6c92\u60f3\u200b FastAPI \u200b\u80fd\u5920\u200b\u8f15\u200b\u9b06\u200b\u89e3\u200b\u6c7a\u200b\u9019\u200b\u500b\u200b\u554f\u200b\u984c\u200b\u3002\u200b\u5f8c\u200b\u7e8c\u6703\u200b\u518d\u200b\u591a\u91dd\u200b\u5c0d\u200b FastAPI \u200b\u8207\u200b ASGI Server \u200b\u9032\u884c\u200b\u6bd4\u200b\u8f03\u200b\u6df1\u5165\u200b\u7684\u200b\u7814\u7a76\u200b\uff0c</p>","tags":["Python","API"]},{"location":"blog/2021/02/05/%E6%8A%80%E8%A1%93%E5%B7%A5%E4%BD%9C%E8%80%85%E7%9A%84%E5%95%86%E6%A5%AD%E6%80%9D%E7%B6%AD/","title":"\u6280\u8853\u200b\u5de5\u4f5c\u8005\u200b\u7684\u200b\u5546\u696d\u200b\u601d\u7dad","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b\u807d\u200b\u5b8c\u200b 91 \u200b\u5927\u5728\u200b\u5546\u696d\u200b\u601d\u7dad\u5b78\u9662\u200b\u5206\u4eab\u200b\u300e\u200b\u6280\u8853\u200b\u5de5\u4f5c\u8005\u200b\u7684\u200b\u5546\u696d\u200b\u601d\u7dad\u200b\u300f\u200b\u5f8c\u200b\u7684\u200b\u901f\u8a18\u200b\u8207\u200b\u5fc3\u5f97\u200b</p> <p>\u200b\u8b1b\u5ea7\u200b\u7684\u200b\u555f\u767c\u200b\uff1a\u200b\u660e\u78ba\u200b\u638c\u63e1\u200b\u81ea\u5df1\u200b\u7684\u200b\u5b9a\u4f4d\u200b\uff0c\u200b\u642d\u914d\u200b\u51fa\u7368\u200b\u7279\u4e14\u200b\u6709\u200b\u5e02\u5834\u200b\u50f9\u503c\u200b\u7684\u200b\u7522\u54c1\u200b\u7d44\u5408\u200b\uff0c\u200b\u6210\u70ba\u200b\u5e02\u5834\u200b\u7684\u200b\u7368\u4f54\u8005\u200b\u5f8c\u200b\u9664\u4e86\u200b\u85aa\u6c34\u200b\u7684\u200b\u56de\u5831\u200b\uff0c\u200b\u66f4\u200b\u9084\u80fd\u200b\u5f97\u5230\u200b\u66f4\u200b\u591a\u200b\u81ea\u7531\u200b</p>","tags":["Rules of thumb","Business Thinking"]},{"location":"blog/2021/02/05/%E6%8A%80%E8%A1%93%E5%B7%A5%E4%BD%9C%E8%80%85%E7%9A%84%E5%95%86%E6%A5%AD%E6%80%9D%E7%B6%AD/#_2","title":"\u5167\u5bb9\u901f\u8a18","text":"","tags":["Rules of thumb","Business Thinking"]},{"location":"blog/2021/02/05/%E6%8A%80%E8%A1%93%E5%B7%A5%E4%BD%9C%E8%80%85%E7%9A%84%E5%95%86%E6%A5%AD%E6%80%9D%E7%B6%AD/#_3","title":"\u8077\u6daf\u200b\u6210\u9577","text":"<ul> <li>Job</li> <li>\u200b\u50f9\u503c\u200b\uff1a\u200b\u6642\u9593\u200b\u6700\u8cb4\u200b<ul> <li>\u200b\u8001\u200b\u95c6\u200b\u7684\u200b\u6642\u9593\u200b</li> <li>\u200b\u5718\u968a\u200b\u7684\u200b\u6642\u9593\u200b</li> <li>\u200b\u7528\u200b\u6642\u9593\u200b\u8cb7\u200b\u6642\u9593\u200b\uff0c\u200b\u9078\u64c7\u200b\u597d\u200b\u7684\u200b\u5de5\u5177\u200b\u4e26\u719f\u7df4\u200b\u4f7f\u7528\u200b\u5de5\u5177\u200b</li> </ul> </li> <li>\u200b\u89d2\u8272\u200b\uff1a\u200b\u5c0d\u200b\u5916\u6a4b\u200b\u63a5\u200b<ul> <li>\u200b\u4e0d\u8981\u200b\u88ab\u200b\u516c\u53f8\u200b\u7d81\u200b\u4f4f\u200b\uff0c\u200b\u591a\u200b\u63a5\u89f8\u200b\u5916\u9762\u200b\u7684\u200b\u4e8b\u200b\u3001\u200b\u4eba\u200b</li> <li>\u200b\u5f9e\u200b\u5916\u90e8\u200b\u53d6\u7d93\u200b\uff0c\u200b\u56de\u994b\u200b\u5230\u200b\u5167\u90e8\u200b\u7684\u200b\u50f9\u503c\u200b\u4e2d\u200b\uff0c\u200b\u7bc0\u7701\u200b\u6240\u6709\u4eba\u200b\u7684\u200b\u6642\u9593\u200b</li> </ul> </li> <li>\u200b\u6e9d\u901a\u200b\uff1a\u200b\u5411\u4e0a\u200b\u6e9d\u901a\u200b<ul> <li>\u200b\u96a8\u6642\u200b\u56de\u5831\u200b\u5de5\u4f5c\u200b\u72c0\u6cc1\u200b</li> <li>\u200b\u76ee\u524d\u200b\u60c5\u6cc1\u200b</li> <li>\u200b\u5efa\u8b70\u200b\u65b9\u6848\u200b \uff21, \uff22, \uff23</li> <li>\u200b\u63a8\u85a6\u200b\u4f7f\u7528\u200b \uff21\uff0c\u200b\u56e0\u70ba\u200b\u5728\u200b\u9019\u500b\u200b\u9700\u6c42\u200b\u4e0b\u5229\u5927\u200b\u65bc\u200b\u5f0a\u200b</li> <li>\u200b\u6301\u7e8c\u200b\u540c\u6b65\u200b\u516c\u53f8\u200b\u671f\u671b\u200b\u8207\u200b\u500b\u200b\u4eba\u200b\u6210\u679c\u200b</li> <li>Value First\uff0c\u200b\u4f46\u662f\u200b\u8207\u200b\u8001\u200b\u95c6\u200b\u5171\u540c\u200b\u7684\u200b Value</li> </ul> </li> <li>Work</li> <li>\u200b\u627e\u200b\u611b\u200b\uff1a\u200b\u9577\u200b\u671f\u200b\u6295\u8cc7\u200b<ul> <li>\u200b\u5c0f\u200b\u6210\u672c\u200b\u6295\u8cc7\u53bb\u200b\u5c0b\u627e\u200b\u611b\u200b\uff0c\u200b\u52c7\u200b\u65bc\u200b\u5617\u8a66\u200b\u5404\u7a2e\u200b\u4e0d\u540c\u200b\u7684\u200b\u6280\u8853\u200b</li> <li>\u200b\u6709\u200b\u611b\u200b\u624d\u80fd\u200b\u6490\u200b\u5f97\u200b\u6bd4\u5225\u200b\u4eba\u4e45\u200b\uff0c\u200b\u5c31\u7b97\u200b\u6c92\u6709\u200b\u5be6\u8cea\u200b\u56de\u5831\u200b\uff0c\u200b\u904e\u7a0b\u200b\u4e5f\u200b\u662f\u200b\u958b\u5fc3\u200b\u7684\u200b</li> </ul> </li> <li>\u200b\u7d9c\u6548\u200b\uff1a\u200b\u7279\u8272\u200b\u8b8a\u73fe\u200b<ul> <li>\u200b\u628a\u200b\u81ea\u5df1\u200b\u7684\u200b\u611b\u505a\u200b\u95dc\u806f\u200b</li> </ul> </li> <li>\u200b\u5f71\u97ff\u200b\uff1a\u200b\u5275\u9020\u200b\u9023\u7d50\u200b</li> <li>Career</li> <li>\u200b\u9078\u64c7\u200b\uff1a\u200b\u6210\u9577\u200b&gt;\u200b\u7e3e\u6548\u200b<ul> <li>\u200b\u500b\u200b\u4eba\u200b\u6210\u9577\u200b\u5927\u200b\u65bc\u200b\u7e3e\u6548\u200b\uff0c\u200b\u591a\u200b\u505a\u200b\u5c0d\u200b\u81ea\u5df1\u200b\u6210\u9577\u200b\u6709\u200b\u5e6b\u52a9\u200b\u7684\u200b\u4e8b\u200b\uff0c\u200b\u6709\u4e9b\u200b\u7e3e\u6548\u200b\u5c0d\u200b\u500b\u200b\u4eba\u200b\u6210\u9577\u200b\u6c92\u6709\u200b\u52a9\u76ca\u200b</li> <li>\u200b\u627e\u200b\u65b0\u200b\u5de5\u4f5c\u200b\u6642\u200b\u5982\u679c\u200b\u4e09\u5e74\u200b\u4e0d\u200b\u52a0\u85aa\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u63a5\u53d7\u200b\uff0c\u200b\u56e0\u70ba\u200b\u6709\u200b\u60f3\u5b78\u200b\u6216\u200b\u60f3\u200b\u767c\u5c55\u200b\u7684\u200b\u9818\u57df\u200b\uff0c\u200b\u4f46\u200b\u4e09\u5e74\u200b\u52a0\u85aa\u200b\u5e45\u5ea6\u200b\u8981\u200b\u704c\u200b\u5728\u200b\u4e00\u958b\u59cb\u200b\u8ac7\u200b\u7684\u200b\u85aa\u6c34\u200b\u4e2d\u200b\uff0c\u200b\u9019\u6a23\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e0d\u70ba\u200b\u7e3e\u6548\u200b\u505a\u4e8b\u200b\uff0c\u200b\u6709\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u81ea\u7531\u200b</li> </ul> </li> <li>\u200b\u76ee\u6a19\u200b\uff1a\u200b\u5929\u82b1\u677f\u200b&gt;\u200b\u6536\u5165\u200b<ul> <li>\u200b\u5929\u82b1\u677f\u200b\u662f\u200b Career\uff0c\u200b\u6536\u5165\u200b\u662f\u200b Job</li> </ul> </li> <li>\u200b\u6b0a\u5a01\u200b\uff1a\u200b\u6210\u679c\u200b&gt;\u200b\u5c65\u6b77\u200b<ul> <li>\u200b\u6210\u679c\u200b\u662f\u200b Career \u200b\u7684\u200b\u7d2f\u7a4d\u200b</li> <li>\u200b\u5c65\u6b77\u200b\u662f\u200b\u70ba\u200b Job \u200b\u6e96\u5099\u200b</li> <li>Job \u200b\u8207\u200b Work \u200b\u7684\u200b\u7522\u51fa\u200b\u90fd\u200b\u8981\u200b\u6301\u7e8c\u200b\u8f38\u51fa\u200b\u5230\u200b\u6210\u679c\u200b\u4e2d\u200b</li> </ul> </li> <li>Values</li> <li>\u200b\u521d\u200b\u5fc3\u200b\uff1a\u200b\u64c7\u5df1\u200b\u6240\u200b\u611b\u200b</li> <li>\u200b\u4eba\u8108\u200b\uff1a\u200b\u771f\u80fd\u200b\u5e6b\u4e0a\u200b\u591a\u5c11\u200b\u4eba\u200b<ul> <li>\u200b\u6709\u200b\u80fd\u529b\u200b\u5e6b\u4eba\u200b</li> <li>\u200b\u77e5\u9053\u200b\u5225\u4eba\u200b\u6709\u200b\u9700\u8981\u200b</li> <li>\u200b\u5225\u4eba\u200b\u9858\u610f\u200b\u9078\u64c7\u200b\u627e\u200b\u4f60\u200b\u5e6b\u5fd9\u200b</li> </ul> </li> <li>\u200b\u81ea\u7531\u200b\uff1a\u200b\u505a\u200b\u81ea\u5df1\u200b\uff0c\u200b\u4e0d\u200b\u59d4\u5c48\u200b</li> </ul>","tags":["Rules of thumb","Business Thinking"]},{"location":"blog/2021/02/05/%E6%8A%80%E8%A1%93%E5%B7%A5%E4%BD%9C%E8%80%85%E7%9A%84%E5%95%86%E6%A5%AD%E6%80%9D%E7%B6%AD/#_4","title":"\u63a8\u85a6\u200b\u66f8\u7c4d","text":"<ol> <li>\u200b\u8cfd\u65af\u9ad8\u200b\u6c40\u200b</li> <li>\u200b\u6233\u200b\u76d2\u5b50\u200b\u5ba3\u8a00\u200b\uff1a\u200b\u5f9e\u200b\u60f3\u5230\u200b\u505a\u200b</li> <li>\u200b\u6709\u200b\u6a5f\u6703\u200b\u62fc\u200b\u5c31\u200b\u5c0d\u200b\u4e86\u200b\uff1a\u200b\u5f9e\u200b\u60f3\u5230\u200b\u505a\u200b</li> <li>\u200b\u4f4e\u8c37\u200b\uff1a\u200b\u81ea\u7531\u200b\u5de5\u4f5c\u8005\u200b</li> <li>\u200b\u52d5\u6a5f\u200b\uff0c\u200b\u55ae\u7d14\u200b\u7684\u200b\u529b\u91cf\u200b\uff1a\u200b\u63a8\u52d5\u200b\u8b8a\u9769\u200b</li> <li>\u200b\u5b78\u751f\u200b\u70ba\u200b\u4ec0\u9ebc\u200b\u4e0d\u200b\u559c\u6b61\u200b\u4e0a\u5b78\u200b\uff1aFor trainer</li> <li>\u200b\u505a\u500b\u200b\u6709\u200b\u6897\u200b\u7684\u200b\u4eba\u200b\uff1a\u200b\u5982\u4f55\u200b\u505a\u5617\u8a66\u200b</li> <li>\u200b\u523b\u610f\u200b\u7df4\u7fd2\u200b\uff1a\u200b\u5b78\u7fd2\u200b\u76f8\u95dc\u200b</li> <li>\u200b\u9ede\u5b50\u200b\u90fd\u200b\u662f\u200b\u5077\u4f86\u200b\u7684\u200b\uff1a\u200b\u5b78\u7fd2\u200b\u76f8\u95dc\u200b</li> </ol>","tags":["Rules of thumb","Business Thinking"]},{"location":"blog/2021/02/05/%E6%8A%80%E8%A1%93%E5%B7%A5%E4%BD%9C%E8%80%85%E7%9A%84%E5%95%86%E6%A5%AD%E6%80%9D%E7%B6%AD/#_5","title":"\u5fc3\u5f97","text":"<p>91 \u200b\u5927\u200b\u5206\u4eab\u200b\u4e86\u200b\u5f88\u591a\u200b\u4ed6\u200b\u5728\u200b\u8077\u6daf\u200b\u4e2d\u200b\u7684\u200b\u5fc3\u5f97\u200b\uff0c\u200b\u5176\u4e2d\u200b\u6709\u4e09\u9ede\u200b\u6211\u200b\u89ba\u5f97\u200b\u555f\u767c\u200b\u6211\u200b\u5f88\u591a\u200b</p> <p>\u200b\u6bcf\u591a\u200b\u8cfa\u200b 100 \u200b\u842c\u200b\uff0c\u200b\u4e0d\u5feb\u200b\u6a02\u200b\u7a0b\u5ea6\u200b\u5927\u6982\u200b\u6703\u8b8a\u200b\u5169\u500d\u200b\uff0c\u200b\u66f4\u6158\u200b\u7684\u200b\u662f\u200b\u6263\u200b\u5b8c\u7a05\u200b\u5be6\u969b\u200b\u624d\u200b\u591a\u200b\u62ff\u200b 70 \u200b\u5230\u200b 80 \u200b\u842c\u200b \u200b\u4e0b\u73ed\u200b\u5f8c\u200b\u7684\u200b\u4f11\u606f\u200b\uff0c\u200b\u7121\u6cd5\u200b\u88dc\u511f\u200b\u4e0a\u73ed\u200b\u6642\u200b\u7684\u200b\u4e0d\u5feb\u200b\u6a02\u200b</p> <p>\u200b\u96d6\u7136\u200b\u9019\u500b\u200b\u9053\u7406\u200b\u4e00\u76f4\u200b\u90fd\u200b\u61c2\u200b\uff0c\u200b\u4f46\u7528\u200b\u6578\u5b57\u200b\u8d64\u88f8\u88f8\u200b\u5448\u73fe\u200b\u7684\u200b\u6642\u5019\u200b\u9084\u662f\u200b\u8b93\u200b\u4eba\u200b\u5f88\u200b\u9707\u64bc\u200b\u3002\u200b\u807d\u200b\u5b8c\u4e4b\u5f8c\u66f4\u6703\u200b\u8b93\u200b\u4eba\u200b\u60f3\u8981\u200b\u591a\u200b\u52aa\u529b\u200b\u4e00\u9ede\u200b\uff0c\u200b\u4e0d\u8981\u200b\u6389\u5165\u200b\u9019\u500b\u200b\u75db\u82e6\u200b\u7684\u200b\u6f29\u200b\u6e26\u4e2d\u200b\u3002</p> <p>\u200b\u7121\u8ad6\u200b\u662f\u200b\u5728\u200b\u5de5\u4f5c\u200b\u4e2d\u200b\u6216\u662f\u200b\u5728\u200b\u5c0b\u627e\u200b\u65b0\u200b\u7684\u200b\u5de5\u4f5c\u200b\u6642\u200b\uff0c\u200b\u90fd\u200b\u61c9\u8a72\u200b\u8981\u200b\u628a\u200b\u773c\u5149\u200b\u653e\u5728\u200b\u767c\u200b\u5c55\u6027\u200b\uff0c\u200b\u662f\u4e0d\u662f\u200b\u6709\u8db3\u5920\u200b\u7684\u200b\u6210\u9577\u200b\u7a7a\u9593\u200b\uff0c\u200b\u4e0d\u8981\u200b\u53ea\u200b\u95dc\u6ce8\u200b\u77ed\u671f\u200b\u7684\u200b\u56de\u5831\u200b</p> <p>\u200b\u4ee5\u7121\u9650\u8cfd\u200b\u5c40\u200b\u7684\u200b\u89d2\u5ea6\u200b\u4f86\u200b\u770b\u5f85\u200b\uff0c\u200b\u7121\u8ad6\u200b\u662f\u200b\u6280\u8853\u200b\u3001\u200b\u4eba\u751f\u200b\u6216\u662f\u200b\u6295\u8cc7\u200b\u90fd\u200b\u662f\u200b\u95dc\u6ce8\u9577\u200b\u671f\u200b\u7684\u200b\u7372\u5229\u200b\u624d\u200b\u662f\u200b\u8f03\u200b\u4f73\u200b\u7684\u200b\u7b56\u7565\u200b\u3002</p> <p>\u200b\u7e31\u4f7f\u200b\u4f60\u200b\u6709\u200b\u80fd\u529b\u200b\u80fd\u200b\u5e6b\u52a9\u5225\u200b\u4eba\u200b\uff0c\u200b\u5225\u4eba\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u9858\u610f\u200b\u9078\u64c7\u200b\u627e\u200b\u4f60\u200b\u5e6b\u5fd9\u200b</p> <p>\u200b\u904e\u53bb\u200b\u5f88\u5c11\u200b\u53bb\u200b\u601d\u8003\u200b\u9019\u4e00\u9ede\u200b\uff0c\u200b\u4f46\u200b\u9019\u624d\u200b\u662f\u200b\u80fd\u200b\u4e0d\u80fd\u200b\u5e6b\u52a9\u200b\u5230\u200b\u5225\u4eba\u200b\u7684\u200b\u95dc\u9375\u200b\uff0c\u200b\u5982\u679c\u200b\u4ed6\u200b\u4e0d\u9858\u610f\u200b\u627e\u200b\u4f60\u200b\uff0c\u200b\u6709\u200b\u518d\u5f37\u200b\u7684\u200b\u80fd\u529b\u200b\u90fd\u200b\u7121\u6cd5\u200b\u5e6b\u52a9\u200b\u5230\u200b\u4ed6\u200b\u3002\u200b\u800c\u200b\u5e6b\u52a9\u200b\u4e5f\u200b\u662f\u200b\u4e00\u500b\u200b\u6b63\u5411\u200b\u7684\u200b\u5faa\u74b0\u200b\uff0c\u200b\u6bcf\u5354\u52a9\u200b\u89e3\u6c7a\u200b\u4e00\u500b\u200b\u554f\u984c\u200b\u90fd\u200b\u662f\u200b\u80fd\u529b\u200b\u8207\u200b\u4eba\u8108\u200b\u7684\u200b\u7d2f\u52a0\u200b\uff0c\u200b\u80fd\u200b\u5e6b\u52a9\u200b\u8d8a\u4f86\u200b\u8d8a\u200b\u591a\u200b\u4eba\u200b\uff0c\u200b\u80fd\u200b\u89e3\u6c7a\u200b\u7684\u200b\u554f\u984c\u200b\u4e5f\u200b\u8d8a\u4f86\u200b\u8d8a\u200b\u591a\u200b\uff0c\u200b\u81ea\u5df1\u200b\u4e5f\u200b\u6703\u200b\u8b8a\u5f97\u200b\u8d8a\u4f86\u200b\u8d8a\u200b\u5f37\u5927\u200b\u3002</p>","tags":["Rules of thumb","Business Thinking"]},{"location":"blog/2021/02/05/%E6%8A%80%E8%A1%93%E5%B7%A5%E4%BD%9C%E8%80%85%E7%9A%84%E5%95%86%E6%A5%AD%E6%80%9D%E7%B6%AD/#_6","title":"\u8077\u6daf\u200b\u8986\u76e4","text":"<p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b91\u200b\u5927\u200b\u63d0\u51fa\u200b\u7684\u200b\u4e5d\u984c\u200b\u8077\u6daf\u200b\u8986\u76e4\u200b\u554f\u7b54\u200b\uff0c\u200b\u56e0\u70ba\u200b\u76ee\u524d\u200b\u9084\u662f\u200b Junior\uff0c\u200b\u6240\u4ee5\u200b\u5148\u200b\u5f9e\u200b\u7d44\u7e54\u200b\u5167\u90e8\u200b\u7684\u200b\u89d2\u5ea6\u200b\u56de\u7b54\u200b\u9019\u4e9b\u200b\u554f\u984c\u200b</p> <p>\u200b\u8077\u6daf\u200b\u8986\u76e4\u200b\u56de\u7b54\u200b</p> <ol> <li>\u200b\u6211\u200b\u76ee\u524d\u200b\u7528\u4f86\u200b\u5275\u9020\u200b\u5546\u696d\u200b\u50f9\u503c\u200b\u7684\u200b\u4e3b\u8981\u200b\u4f9d\u64da\u200b\u70ba\u4f55\u200b\uff1f<ul> <li>\u200b\u5206\u6790\u200b\u9700\u6c42\u200b\u4e26\u7368\u7acb\u200b\u642d\u5efa\u200b\u89e3\u6c7a\u200b\u65b9\u6848\u200b</li> </ul> </li> <li>\u200b\u6211\u200b\u771f\u6b63\u200b\u611f\u5230\u200b\u71b1\u611b\u7684\u200b\u6280\u80fd\u200b\u3001\u200b\u5de5\u4f5c\u200b\u3001\u200b\u559c\u597d\u200b\u3001\u200b\u5c08\u696d\u200b\u662f\u200b\u54ea\u4e9b\u200b\uff1f<ul> <li>\u200b\u6316\u6398\u200b\u9700\u6c42\u200b\u3001\u200b\u8a2d\u8a08\u200b\u8207\u200b\u5be6\u4f5c\u200b\u89e3\u6c7a\u200b\u65b9\u6848\u200b\uff0c\u200b\u5f9e\u7121\u5230\u200b\u6709\u200b\u642d\u5efa\u200b\u6574\u500b\u200b\u670d\u52d9\u200b</li> <li>Web Application</li> <li>Vue.js, python</li> <li>K8s, Docker, OpenAPI, DevOps</li> </ul> </li> <li>\u200b\u5982\u4f55\u200b\u5f9e\u200b\u6211\u200b\u71b1\u611b\u7684\u200b\u9818\u57df\u200b\u8b8a\u73fe\u200b\u6216\u200b\u5275\u9020\u200b\u5546\u696d\u200b\u50f9\u503c\u200b\uff1f<ul> <li>\u200b\u4e3b\u52d5\u200b\u767c\u6398\u200b\u7d44\u7e54\u200b\u5167\u200b\u7684\u200b\u9700\u6c42\u200b\uff0c\u200b\u63d0\u51fa\u200b\u53ef\u884c\u200b\u7684\u200b\u89e3\u6c7a\u200b\u65b9\u6848\u200b\u4e26\u5be6\u4f5c\u200b</li> <li>\u200b\u88ab\u52d5\u200b\u627f\u63a5\u200b\u7d44\u7e54\u200b\u5167\u200b\u7684\u200b\u4efb\u52d9\u200b\uff0c\u200b\u4f46\u200b\u540c\u6642\u200b\u4e3b\u52d5\u200b\u6316\u6398\u200b\u5176\u4ed6\u200b\u6f5b\u5728\u200b\u7684\u200b\u75db\u9ede\u200b</li> </ul> </li> <li>\u200b\u8ab0\u200b\u6703\u200b\u9700\u8981\u200b\u9019\u6a23\u200b\u7684\u200b\u5546\u696d\u200b\u50f9\u503c\u200b\uff1f\u200b\u70ba\u200b\u4ec0\u9ebc\u200b\u8981\u200b\u9078\u64c7\u200b\u6211\u200b\uff1f<ul> <li>\u200b\u9700\u8981\u200b\u5feb\u901f\u200b\u9a57\u8b49\u200b\u8207\u200b\u5be6\u4f5c\u200b\u9700\u6c42\u200b\uff0c\u200b\u4e00\u689d\u200b\u9f8d\u80fd\u200b\u52a0\u5feb\u200b\u958b\u767c\u200b\u901f\u5ea6\u200b</li> <li>\u200b\u53ea\u200b\u9700\u8981\u200b\u7c97\u7565\u5730\u200b\u63cf\u8ff0\u200b\u9700\u6c42\u200b\uff0c\u200b\u5f9e\u200bSA, PG, OP \u200b\u90fd\u200b\u4e00\u624b\u200b\u5305\u8fa6\u200b\uff0c\u200b\u7368\u7acb\u200b\u7522\u51fa\u200b\u53ef\u7528\u200b\u7684\u200b\u670d\u52d9\u200b</li> </ul> </li> <li>\u200b\u54ea\u4e9b\u200b\u71b1\u611b\u7684\u200b\u9818\u57df\u200b\u4ea4\u96c6\u200b\uff0c\u200b\u80fd\u7522\u751f\u200b\u7d9c\u6548\u200b\u6216\u200b\u7368\u7279\u200b\u5546\u696d\u200b\u50f9\u503c\u200b\uff1f<ul> <li>\u200b\u5c0d\u200b\u524d\u5f8c\u7aef\u200b\u90fd\u200b\u6709\u200b\u81ea\u4e3b\u200b\u958b\u767c\u200b\u80fd\u529b\u200b\uff0c\u200b\u642d\u914d\u200b\u5bb9\u5668\u200b\u5316\u6280\u8853\u200b\uff0c\u200b\u80fd\u5920\u200b\u7368\u7acb\u958b\u200b\u767c\u51fa\u200b\u53ef\u7528\u200b\u7684\u200b\u670d\u52d9\u200b</li> </ul> </li> <li>\u200b\u9084\u6709\u200b\u54ea\u4e9b\u200b\u9700\u6c42\u200b\u6216\u200b\u5546\u6a5f\u200b\uff0c\u200b\u9700\u8981\u200b\u54ea\u4e9b\u200b\u9818\u57df\u200b\u4ea4\u96c6\u200b\u624d\u80fd\u200b\u9054\u6210\u200b\uff1f<ul> <li>\u200b\u589e\u52a0\u200b DB, Redis, MQ \u200b\u7684\u200b\u6280\u8853\u200b\u80fd\u529b\u200b\uff0c\u200b\u64f4\u5927\u200b\u670d\u52d9\u200b\u7684\u200b\u9632\u5b88\u200b\u7bc4\u570d\u200b</li> </ul> </li> <li>\u200b\u5982\u4f55\u200b\u990a\u6210\u200b\u80fd\u89e3\u200b\u6c7a\u5225\u200b\u4eba\u200b\u554f\u984c\u200b\u7684\u200b\u80fd\u529b\u200b\uff0c\u200b\u4e26\u8b93\u200b\u4eba\u200b\u77e5\u9053\u200b\uff1f<ul> <li>\u200b\u628a\u200b\u81ea\u5df1\u200b\u958b\u767c\u6642\u200b\u9047\u5230\u200b\u7684\u200b\u554f\u984c\u200b\u7d00\u9304\u200b\u4e0b\u4f86\u200b\uff0c\u200b\u4e26\u5beb\u200b\u6210\u200b\u6587\u4ef6\u200b\u767c\u200b\u4f48\u200b\u5230\u200b\u7d44\u7e54\u200b\u5167\u200b\u7684\u200b\u77e5\u8b58\u200b\u7ba1\u7406\u7cfb\u200b\u7d71\u4e2d\u200b</li> </ul> </li> <li>\u200b\u600e\u9ebc\u200b\u767c\u73fe\u200b\u4ed6\u4eba\u200b\u6709\u200b\u9019\u6a23\u200b\u7684\u200b\u9700\u6c42\u200b\u8207\u200b\u554f\u984c\u200b\uff1f<ul> <li>\u200b\u591a\u200b\u95dc\u6ce8\u200b\u6709\u4eba\u200b\u5728\u200b\u62b1\u6028\u200b\u6216\u200b\u88ab\u200b\u62b1\u6028\u200b\u7684\u200b\u5167\u5bb9\u200b</li> </ul> </li> <li>\u200b\u600e\u9ebc\u200b\u8b93\u200b\u4ed6\u5011\u200b\u9858\u610f\u200b\u9078\u64c7\u200b\u6211\u200b\uff0c\u200b\u63a5\u53d7\u200b\u6211\u200b\u7684\u200b\u5e6b\u52a9\u200b\uff1f<ul> <li>\u200b\u4e3b\u52d5\u200b\u8207\u200b\u4ed6\u4eba\u200b\u5206\u4eab\u200b\u8207\u200b\u5176\u696d\u52d9\u200b\u76f8\u95dc\u200b\u7684\u200b\u6280\u8853\u200b\u5167\u5bb9\u200b\uff0c\u200b\u8b93\u200b\u5c0d\u65b9\u200b\u77e5\u9053\u200b\u6211\u200b\u4e5f\u200b\u5c0d\u200b\u8a72\u200b\u9818\u57df\u200b\u6709\u200b\u6d89\u7565\u200b\uff0c\u200b\u672a\u4f86\u200b\u9047\u5230\u200b\u554f\u984c\u200b\u6642\u200b\u5c31\u200b\u6709\u200b\u53ef\u80fd\u200b\u6703\u4e3b\u52d5\u200b\u5fb5\u8a62\u200b\uff0c\u200b\u4e26\u200b\u63a5\u53d7\u200b\u5e6b\u52a9\u200b</li> </ul> </li> </ol> <p>\u200b\u56de\u7b54\u200b\u5b8c\u200b\u9019\u4e9b\u200b\u554f\u984c\u200b\u6642\u200b\uff0c\u200b\u8b93\u200b\u6211\u200b\u66f4\u200b\u8a8d\u771f\u200b\u6aa2\u8996\u200b\u81ea\u8eab\u200b\u6280\u80fd\u200b\u8207\u200b\u5546\u696d\u200b\u50f9\u503c\u200b\u4e4b\u9593\u200b\u7684\u200b\u9023\u7d50\u200b\u3002\u200b\u4ee5\u200b\u6211\u200b\u800c\u8a00\u200b\uff0c\u200b\u6709\u4e9b\u200b\u81ea\u8a8d\u200b\u53ef\u4ee5\u200b\u5e36\u4f86\u200b\u7684\u200b\u5546\u696d\u200b\u50f9\u503c\u200b\uff0c\u200b\u5728\u200b\u505a\u200b\u9023\u7d50\u6642\u200b\u53cd\u800c\u200b\u767c\u73fe\u200b\u4e00\u4e9b\u200b\u8edf\u6027\u200b\u7684\u200b\u6280\u80fd\u200b\u5176\u5be6\u200b\u53ef\u4ee5\u200b\u8aaa\u200b\u662f\u200b\u7f3a\u4e4f\u200b\u7684\u200b\uff0c\u200b\u50cf\u662f\u200b\u9700\u6c42\u200b\u5206\u6790\u200b\u9084\u6709\u200b\u5f88\u591a\u200b\u53ef\u4ee5\u200b\u52a0\u5f37\u200b\u7684\u200b\u7a7a\u9593\u200b\u3002</p> <p>\u200b\u8207\u200b\u8edf\u6027\u200b\u7684\u200b\u6280\u80fd\u200b\u76f8\u6bd4\u200b\uff0c\u200b\u6280\u8853\u9762\u200b\u7684\u200b\u80fd\u529b\u200b\u9ad8\u4f4e\u200b\u662f\u200b\u76f8\u200b\u5c0d\u200b\u660e\u78ba\u200b\u7684\u200b\uff0c\u200b\u6642\u6642\u200b\u90fd\u200b\u6703\u200b\u8a55\u4f30\u200b\u662f\u5426\u200b\u6709\u200b\u9700\u8981\u200b\u52a0\u5f37\u200b\u7684\u200b\u5730\u65b9\u200b\u3002\u200b\u4f46\u200b\u8edf\u6027\u200b\u6280\u80fd\u200b\u7684\u200b\u4e0d\u8db3\u200b\uff0c\u200b\u6bd4\u8f03\u200b\u96e3\u200b\u900f\u904e\u200b\u81ea\u8eab\u200b\u5bdf\u89ba\u200b\uff0c\u200b\u6703\u6163\u6027\u200b\u5730\u7528\u200b\u6280\u8853\u200b\u53bb\u200b\u514b\u670d\u200b\u3002\u200b\u50cf\u662f\u200b\u9700\u6c42\u200b\u5206\u6790\u200b\u6280\u5de7\u200b\u56e0\u70ba\u200b\u4e0d\u5920\u200b\u597d\u200b\uff0c\u200b\u5c31\u200b\u900f\u904e\u200b\u9ad8\u200b\u983b\u7387\u200b\u7684\u200b\u958b\u767c\u200b\u8fed\u4ee3\u200b\uff0c\u200b\u76f4\u63a5\u200b trial and error \u200b\u627e\u51fa\u200b\u6b63\u78ba\u89e3\u200b\u3002\u200b\u4f46\u200b\u4eba\u200b\u4e26\u4e0d\u50cf\u200b\u6a5f\u5668\u200b\u53ef\u4ee5\u200b\u7121\u200b\u9650\u6b21\u200b\u5617\u8a66\u200b\uff0c\u200b\u904e\u9ad8\u200b\u7684\u200b\u983b\u7387\u200b\u6703\u200b\u8017\u640d\u200b\u5f7c\u6b64\u200b\u7684\u200b\u8010\u5fc3\u200b\u8207\u200b\u6d88\u78e8\u200b\u4fe1\u4efb\u611f\u200b\uff0c\u200b\u61c9\u8a72\u200b\u8981\u200b\u52a0\u5f37\u200b\u9700\u6c42\u200b\u5206\u6790\u200b\u80fd\u529b\u200b\uff0c\u200b\u8b93\u200b\u6574\u500b\u200b\u958b\u767c\u200b\u904e\u7a0b\u200b\u9054\u200b\u5230\u200b\u4e00\u500b\u200b\u6bd4\u200b\u8f03\u200b\u597d\u200b\u7684\u200b\u5e73\u8861\u200b\u3002</p>","tags":["Rules of thumb","Business Thinking"]},{"location":"blog/2021/02/08/install-node-sass-without-download-the-bindingnode-file-from-github/","title":"Install node-sass without download the binding.node file from GitHub","text":"<p>\u200b\u554f\u984c\u200b\uff1a\u200b\u5b89\u88dd\u200b node-sass \u200b\u6642\u200b\uff0c\u200b\u56e0\u70ba\u200b\u7db2\u8def\u200b\u554f\u984c\u200b\u7121\u6cd5\u200b\u6b63\u5e38\u200b\u4e0b\u8f09\u200b GitHub \u200b\u4e0a\u200b\u7684\u200b binary\uff0c\u200b\u5c0e\u81f4\u200b\u5c08\u6848\u200b\u5efa\u7f6e\u200b\u5931\u6557\u200b</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u53c3\u8003\u200b https://github.com/sass/node-sass/issues/2133#issuecomment-477924161 \u200b\u9019\u5247\u200b\u56de\u8986\u200b\u4e2d\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4ee5\u81ea\u8a02\u200b Binary \u200b\u7db2\u8def\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8b93\u200b\u4e0b\u8f09\u200b\u80fd\u200b\u6b63\u5e38\u200b\u57f7\u884c\u200b</p> <ol> <li>\u200b\u624b\u52d5\u200b\u4e0b\u8f09\u200b\u8981\u200b\u4f7f\u7528\u200b\u7684\u200b Binary \u200b\u7248\u672c\u200b</li> <li>\u200b\u4e0a\u200b\u50b3\u81f3\u200b\u5167\u90e8\u200b\u7684\u200b Nexus \u200b\u7684\u200b Raw Repositories\uff0cURL \u200b\u683c\u5f0f\u200b\u70ba\u200b <code>https://nexus.intra/repository/nodejs/vx.x.x/</code></li> <li> <p>\u200b\u5728\u200b npm \u200b\u4e2d\u200b\u8a2d\u5b9a\u200b node-sass \u200b\u6293\u53d6\u200b Binary \u200b\u6307\u5411\u200b\u7db2\u7ad9\u200b</p> <pre><code>npm config set sass-binary-site=https://nexus.intra/repository/nodejs/ --global\n</code></pre> </li> </ol> <p>\u200b\u5728\u200b\u9019\u500b\u200b issue \u200b\u4e2d\u200b\u6709\u4eba\u200b\u5c0d\u5b89\u88dd\u200b npm package \u200b\u9810\u8a2d\u200b\u5c45\u7136\u200b\u662f\u200b\u4e0b\u8f09\u200b Binary \u200b\u6a94\u200b\u63d0\u51fa\u200b\u8cea\u7591\u200b\uff0c\u200b\u9019\u5728\u8cc7\u200b\u5b89\u4e0a\u200b\u5176\u5be6\u200b\u6709\u200b\u5f88\u5927\u200b\u7684\u200b\u6f0f\u6d1e\u200b\uff0c\u200b\u800c\u4e14\u200b\u5927\u591a\u200b\u6578\u200b\u516c\u53f8\u200b\u5728\u5efa\u200b\u7f6e\u200b\u74b0\u5883\u200b\u4e0b\u200b\u90fd\u200b\u662f\u200b\u7121\u6cd5\u200b\u9023\u5916\u200b\uff0c\u200b\u53ea\u200b\u5f9e\u200b private repository \u200b\u4e0a\u4e0b\u200b\u8f09\u6aa2\u6838\u904e\u200b\u7684\u200b package\u3002</p> <p>\u200b\u672a\u4f86\u200b\u5728\u200b\u5b89\u88dd\u200b package \u200b\u4e5f\u200b\u8981\u200b\u591a\u200b\u6ce8\u610f\u200b\u662f\u5426\u200b\u6709\u200b\u9019\u7a2e\u200b\u4e0b\u8f09\u200b Binary \u200b\u7684\u200b\u60c5\u6cc1\u200b\uff0c\u200b\u907f\u514d\u200b\u5f15\u5165\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u98a8\u96aa\u200b\u3002</p> <p>Reference:</p> <ol> <li>Is there a way to install node-sass without download the binding.node file from GitHub?</li> </ol>","tags":["Node.js"]},{"location":"blog/2021/02/22/3sum/","title":"3Sum","text":"<p>15. 3Sum</p>","tags":[]},{"location":"blog/2021/02/22/3sum/#hash-table","title":"Hash Table","text":"<pre><code>class Solution:\n    def threeSum(self, nums: List[int]) -&gt; List[List[int]]:\n        ans = []\n        num_dict = {}\n        nums.sort()\n        for x in nums:\n            num_dict[x] = num_dict.get(x, 0) + 1\n        for i in range(0, len(nums)):\n            x = nums[i]\n            if i &gt; 0 and x == nums[i - 1]:\n                continue\n            for j in range(i + 1, len(nums)):\n                y = nums[j]\n                if j - 1 != i and y == nums[j - 1]:\n                    continue\n                t = -(x + y)\n                if t &lt; y:\n                    continue\n                if num_dict.get(t, 0) == 0:\n                    continue\n                if num_dict.get(t, 0) &gt;= 1 + (x == t) + (y == t):\n                    ans.append([x, y, t])\n        return ans\n</code></pre>","tags":[]},{"location":"blog/2021/02/22/3sum/#tow-pointers","title":"Tow Pointers","text":"<pre><code>class Solution:\n    def threeSum(self, nums: List[int]) -&gt; List[List[int]]:\n        ans = []\n        n = len(nums)\n        nums.sort()\n        for i in range(0, n):\n            if i &gt; 0 and nums[i] == nums[i - 1]:\n                continue\n            j = i + 1\n            k = n - 1\n            while j &lt; k:\n                if nums[j] + nums[k] &gt; -nums[i]:\n                    k -= 1\n                elif nums[j] + nums[k] &lt; -nums[i]:\n                    j += 1\n                else:\n                    ans.append([nums[i], nums[j], nums[k]])\n                    while j &lt; k and nums[j] == nums[j + 1]:\n                        j += 1\n                    while j &lt; k and nums[k] == nums[k - 1]:\n                        k -= 1\n                    j += 1\n                    k -= 1\n        return ans\n</code></pre> <p>Reference:</p> <ol> <li>Blind Curated 75</li> <li>\u200b\u82b1\u82b1\u200b\u9171\u200b LeetCode 15. 3Sum - \u200b\u5237\u9898\u200b\u627e\u200b\u5de5\u4f5c\u200b EP383</li> </ol>","tags":[]},{"location":"blog/2021/03/09/implementing-request-based-autoscaling-for-machine-learning-workloads/","title":"Implementing request-based autoscaling for machine learning workloads","text":"<p>Implementing request-based autoscaling for machine learning workloads</p> <p>Cortex \u200b\u662f\u200b\u4e00\u500b\u200b\u63d0\u4f9b\u200b ML \u200b\u670d\u52d9\u200b\u7684\u200b Infra\uff0c\u200b\u652f\u63f4\u200b\u591a\u7a2e\u200b\u4e0d\u540c\u200b\u6846\u67b6\u200b TensorFlow\u3001PyTorch\u3001scikit-learn \u200b\u7b49\u200b\uff0c\u200b\u4e26\u200b\u63d0\u4f9b\u200b autoscaling\u3001rolling updates\u3001log \u200b\u7ba1\u7406\u200b\u7b49\u200b\u3002\u200b\u672c\u7bc7\u200b\u662f\u200b Cortex \u200b\u5718\u968a\u200b\u4e4b\u6240\u4ee5\u200b\u8981\u200b\u5f9e\u200b Flask \u200b\u8f49\u63db\u6210\u200b FastAPI \u200b\u7684\u200b\u59cb\u672b\u200b\uff08Why we switched from Flask to FastAPI for production machine learning \uff09\uff0c\u200b\u8aaa\u660e\u200b\u4ed6\u5011\u200b\u5728\u200b\u91cd\u65b0\u200b\u8a2d\u8a08\u200b autoscaling strategy \u200b\u7684\u200b\u601d\u8def\u200b\u3002</p> <p>ML inference \u200b\u7684\u200b\u4e00\u4e9b\u200b\u7279\u6027\u200b\u8b93\u200b instance \u200b\u7684\u200b scaling \u200b\u76f8\u8f03\u200b\u4e00\u822c\u200b\u670d\u52d9\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u6311\u6230\u6027\u200b\uff1a</p> <ol> <li>Model can be huge: ML \u200b\u7684\u200b\u6a21\u578b\u200b\u6709\u200b\u6642\u5019\u200b\u53ef\u80fd\u200b\u6703\u200b\u5f88\u5927\u200b\uff0c\u200b\u4f8b\u5982\u200b\u8d85\u904e\u200b 5 GB\uff0c\u200b\u6240\u4ee5\u200b\u6703\u200b\u9700\u8981\u200b\u66f4\u5927\u200b\u7684\u200b instance</li> <li>Concurrency is a pain: \u200b\u55ae\u7d14\u200b\u57f7\u884c\u200b\u4e00\u500b\u200b\u9810\u6e2c\u200b\u53ef\u80fd\u200b\u5c31\u200b\u6703\u200b\u4f7f\u7528\u200b\u5230\u200b instance \u200b\u7684\u200b\u6240\u6709\u200b\u8cc7\u6e90\u200b\uff0c\u200b\u6240\u4ee5\u200b\u70ba\u200b\u4e86\u200b\u80fd\u5920\u200b\u8ca0\u64d4\u200b\u8db3\u5920\u200b\u7684\u200b Concurrency \u200b\u5c31\u200b\u5fc5\u9808\u200b\u591a\u958b\u200b instance</li> <li>Latency can be expensive: Latency \u200b\u904e\u9577\u200b\u6703\u56b4\u200b\u91cd\u5f71\u200b\u97ff\u200b\u4f7f\u7528\u8005\u200b\u7684\u200b\u9ad4\u9a57\u200b\uff0c\u200b\u4f46\u200b\u5f88\u591a\u200b\u6642\u5019\u200b\u53ea\u6709\u200b\u4f7f\u7528\u200b GPU \u200b\u624d\u80fd\u200b\u9054\u5230\u200b\u4ee4\u4eba\u200b\u6eff\u610f\u200b\u7684\u200b Latency</li> </ol> <p>\u200b\u57fa\u200b\u65bc\u200b\u4e0a\u9762\u200b\u7684\u200b\u539f\u56e0\u200b\uff0c\u200b\u70ba\u200b\u4e86\u200b\u9054\u200b\u5230\u200b\u66f4\u597d\u200b\u7684\u200b\u9ad4\u9a57\u200b\uff0cinstance \u200b\u9700\u8981\u200b\u5920\u597d\u200b\uff08\u200b\u6709\u200b GPU\uff09\uff0c\u200b\u9084\u8981\u5920\u200b\u5927\u200b\uff08Model \u200b\u53ef\u80fd\u200b\u5f88\u5927\u200b\uff09\u3002\u200b\u5982\u679c\u200b\u4e0d\u5de7\u200b\u670d\u52d9\u200b\u975e\u5e38\u200b\u71b1\u9580\u200b\uff0c\u200b\u70ba\u200b\u4e86\u89e3\u200b\u6c7a\u200b Concurrency \u200b\u7684\u200b\u554f\u984c\u200b\uff0c\u200b\u9084\u5f97\u958b\u200b\u5f88\u591a\u200b\u500b\u200b\u3002\u200b\u9019\u4e9b\u200b\u56e0\u7d20\u200b\u90fd\u200b\u6703\u200b\u8b93\u200b instance \u200b\u7684\u200b\u76f8\u95dc\u200b\u8cbb\u7528\u200b\u6025\u901f\u200b\u589e\u9577\u200b\uff0c\u200b\u800c\u200b\u4e00\u5957\u200b\u597d\u200b\u7684\u200b autoscaling strategy\uff0c\u200b\u80fd\u5920\u200b\u8b93\u200b\u6bcf\u4e00\u5206\u200b\u9322\u82b1\u200b\u5f97\u200b\u66f4\u200b\u6709\u200b\u6548\u76ca\u200b\u3002</p>","tags":["Python","API","K8s"]},{"location":"blog/2021/03/09/implementing-request-based-autoscaling-for-machine-learning-workloads/#idea-1-based-on-cpu-utilization","title":"Idea #1 Based on CPU utilization","text":"<p>CPU \u200b\u662f\u200b\u6700\u5e38\u898b\u200b\u7684\u200b autoscaling metrics\uff0c\u200b\u4f46\u200b\u5728\u200b ML \u200b\u7684\u200b\u60c5\u5883\u200b\u88e1\u200b\uff0c\u200b\u55ae\u7d14\u200b\u4f7f\u7528\u200b CPU \u200b\u9032\u884c\u200b inference \u200b\u6642\u200b\u90fd\u200b\u6703\u200b\u5403\u200b\u6eff\u200b\u6240\u6709\u200b CPU\uff0c\u200b\u800c\u80fd\u200b\u4f7f\u7528\u200b GPU \u200b\u6642\u200b\u53c8\u200b\u4e0d\u592a\u6703\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b CPU\u3002\u200b\u56e0\u6b64\u200b CPU \u200b\u4f7f\u7528\u91cf\u200b\u5728\u200b\u9019\u88e1\u200b\u5c31\u200b\u4e0d\u662f\u200b\u4e00\u500b\u200b\u5f88\u200b\u6709\u6548\u200b\u7684\u200b\u6307\u6a19\u200b\u3002</p>","tags":["Python","API","K8s"]},{"location":"blog/2021/03/09/implementing-request-based-autoscaling-for-machine-learning-workloads/#idea-2-based-on-inference-latency","title":"Idea #2 Based on inference latency","text":"<p>\u200b\u7528\u200b latency \u200b\u7684\u200b\u9577\u200b\u77ed\u4f86\u200b\u5224\u65b7\u200b\u662f\u5426\u200b\u9700\u8981\u200b scaling \u200b\u4f3c\u4e4e\u200b\u662f\u200b\u4e00\u500b\u200b\u6eff\u200b\u76f4\u89c0\u200b\u7684\u200b\u60f3\u6cd5\u200b\uff0c\u200b\u4f46\u200b\u6df1\u5165\u7814\u7a76\u200b\u5f8c\u200b\u6703\u200b\u767c\u73fe\u200b\u6709\u200b\u5176\u4ed6\u200b\u554f\u984c\u200b\uff1a</p> <ol> <li>latency \u200b\u7684\u200b\u4f30\u8a08\u200b\u90fd\u200b\u662f\u200b\u57fa\u200b\u65bc\u200b\u7576\u524d\u200b\u7684\u200b\u6a21\u578b\u200b\uff0c\u200b\u4f46\u200b\u6a21\u578b\u200b\u66f4\u7248\u6642\u200b\u53ef\u80fd\u200b\u6703\u200b\u8b93\u200b latency \u200b\u6c38\u9060\u200b\u7121\u6cd5\u200b\u9054\u200b\u5230\u200b\u8a2d\u5b9a\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u5c0e\u81f4\u200b\u7121\u9650\u200b scaling</li> <li>latency \u200b\u96e3\u4ee5\u200b\u4f5c\u70ba\u200b scaling down \u200b\u7684\u200b\u6307\u6a19\u200b</li> <li>\u200b\u5982\u679c\u200b API \u200b\u9700\u8981\u200b\u547c\u53eb\u200b\u7b2c\u4e09\u65b9\u200b API\uff0c\u200b\u9019\u6642\u200b\u7b2c\u4e09\u65b9\u200b API \u200b\u7684\u200b latency \u200b\u5c31\u6703\u56b4\u200b\u91cd\u5f71\u200b\u97ff\u5230\u200b\u539f\u200b API \u200b\u7684\u200b latency</li> </ol>","tags":["Python","API","K8s"]},{"location":"blog/2021/03/09/implementing-request-based-autoscaling-for-machine-learning-workloads/#idea-3-based-on-queue-length","title":"Idea #3 Based on queue length","text":"<p>\u200b\u4f7f\u7528\u200b\u5728\u200b\u6392\u968a\u200b\u7b49\u5f85\u200b\u7684\u200b request \u200b\u6578\u91cf\u200b\u4f5c\u70ba\u200b scaling \u200b\u4e5f\u200b\u662f\u200b\u53e6\u200b\u4e00\u500b\u200b\u76f4\u89c0\u200b\u7684\u200b\u505a\u6cd5\u200b\uff0c\u200b\u540c\u6642\u200b\u4e5f\u200b\u80fd\u200b\u4f5c\u70ba\u200b scaling down \u200b\u7684\u200b\u6307\u6a19\u200b\u3002\u200b\u4ed6\u5011\u200b\u4e00\u958b\u59cb\u200b\u63d0\u51fa\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u53ef\u80fd\u200b\u7684\u200b\u505a\u6cd5\u200b\uff1a</p> <ol> <li>\u200b\u5efa\u7acb\u200b\u4e00\u500b\u200b request forwarder\uff0c\u200b\u8ca0\u8cac\u200b\u8a08\u7b97\u200b\u6709\u200b\u591a\u5c11\u200b request \u200b\u9032\u5165\u200b</li> <li>\u200b\u5f9e\u200b Istio \u200b\u6539\u70ba\u200b Gloo\uff0c\u200b\u56e0\u70ba\u200b Gloo \u200b\u6709\u200b\u63d0\u4f9b\u200b requests in flight \u200b\u7684\u200b metics</li> </ol> <p>\u200b\u4f46\u200b\u5169\u500b\u200b\u65b9\u6848\u200b\u57f7\u884c\u200b\u6210\u672c\u200b\u90fd\u200b\u504f\u9ad8\u200b\uff0c\u200b\u7b2c\u4e00\u200b\u9805\u200b\u9700\u8981\u200b\u6295\u5165\u200b\u904e\u591a\u200b\u7684\u200b\u958b\u767c\u200b\u4eba\u529b\u200b\uff0c\u200b\u800c\u200b\u7b2c\u4e8c\u200b\u9805\u5247\u200b\u9700\u8981\u200b\u5927\u5e45\u5ea6\u200b\u8abf\u6574\u200b\u5df2\u200b\u5efa\u7acb\u200b\u597d\u200b\u7684\u200b Istio\u3002\u200b\u56e0\u6b64\u200b\u4ed6\u5011\u200b\u628a\u200b\u76ee\u6a19\u200b\u8f49\u5411\u200b\u4e86\u200b\u5229\u7528\u200b FastAPI \u200b\u8207\u200b Uvicorn \u200b\u66ff\u4ee3\u200b Flask \u200b\u8207\u200b Gunicorn\uff0c\u200b\u5229\u7528\u200b Uvicorn \u200b\u7684\u200b async event loop \u200b\u80fd\u5920\u200b\u5728\u200b\u5be6\u969b\u200b\u57f7\u884c\u200b inference \u200b\u524d\u8a08\u7b97\u200b request \u200b\u6578\u76ee\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b FastAPI \u200b\u8207\u200b Uvicorn \u200b\u7684\u200b\u65b0\u67b6\u69cb\u200b\u80fd\u5920\u200b\u78ba\u4fdd\u200b autoscale \u200b\u8db3\u5920\u200b\u7684\u200b instance\uff0c\u200b\u4e26\u4e14\u200b\u76e1\u200b\u53ef\u80fd\u200b\u964d\u4f4e\u200b\u5efa\u7acb\u200b instance \u200b\u7684\u200b\u8cbb\u7528\u200b\u3002</p> <p>\u200b\u6700\u5f8c\u4ed6\u200b\u5011\u200b\u4e5f\u200b\u63d0\u5230\u200b\u9084\u200b\u53ef\u4ee5\u200b\u6839\u64da\u200b queue length \u200b\u5efa\u7acb\u200b\u66f4\u200b\u7d30\u200b\u7dfb\u200b\u7684\u200b metrics\uff0c\u200b\u50cf\u662f\u200b\u4f7f\u7528\u200b queue length \u200b\u7684\u200b\u8b8a\u52d5\u200b\u901f\u7387\u200b\uff08\u200b\u5c0d\u200b queue length \u200b\u4f5c\u200b\u5fae\u5206\u200b\uff09\u3002\u200b\u4f8b\u5982\u200b queue length \u200b\u958b\u59cb\u200b\u5feb\u901f\u200b\u6e1b\u5c11\u200b\uff0c\u200b\u9019\u6642\u200b\u8868\u793a\u200b\u7576\u4e0b\u200b\u7684\u200b instance \u200b\u8db3\u4ee5\u200b\u6d88\u8017\u6389\u200b\u7b49\u5f85\u200b\u4e2d\u200b\u7684\u200b request\uff0c\u200b\u56e0\u6b64\u200b\u4e0d\u200b\u9700\u8981\u200b\u591a\u958b\u200b instance\uff0c\u200b\u53cd\u4e4b\u200b\u5247\u200b\u9700\u8981\u200b scale up\u3002</p> <p>\u200b\u524d\u9663\u5b50\u200b\u4e5f\u200b\u6709\u200b\u5728\u200b\u7814\u7a76\u200b\u8a72\u200b\u5982\u4f55\u200b\u66ff\u200b Python \u200b\u7684\u200b ML deployment \u200b\u8a2d\u5b9a\u200b scaling metrics\uff0c\u200b\u67b6\u69cb\u200b\u540c\u6a23\u200b\u662f\u200b\u4f7f\u7528\u200b Flask \u200b\u642d\u914d\u200b Gunicorn\u3002\u200b\u4e00\u958b\u59cb\u200b\u4e5f\u200b\u662f\u200b\u60f3\u200b\u55ae\u7d14\u200b\u4f7f\u7528\u200b CPU \u200b\u6216\u200b Memory \u200b\u9019\u4e9b\u200b\u57fa\u790e\u200b\u6307\u6a19\u200b\uff0c\u200b\u4f46\u200b\u4e00\u6a23\u200b\u662f\u200b\u9047\u5230\u200b\u672c\u7bc7\u200b\u63d0\u5230\u200b\u7684\u200b CPU \u200b\u4f7f\u7528\u200b\u554f\u984c\u200b\uff0c\u200b\u7136\u5f8c\u56e0\u200b\u70ba\u200b Python GIL \u200b\u7684\u200b\u7279\u6027\u200b\uff0c\u200b\u4e00\u6b21\u200b\u5fc5\u5b9a\u200b\u6307\u57f7\u884c\u200b\u4e00\u500b\u200b thread\uff0c\u200b\u5c31\u7b97\u200b Gunicorn \u200b\u66f4\u63db\u200b\u4e0d\u540c\u200b\u7684\u200b worker type \u200b\u90fd\u200b\u7121\u6cd5\u200b\u8b93\u200b CPU \u200b\u6216\u200b Memory \u200b\u6709\u4ec0\u9ebc\u200b\u7279\u6b8a\u200b\u7684\u200b\u8b8a\u5316\u200b\u3002</p> <p>\u200b\u800c\u200b\u56e0\u70ba\u200b\u6211\u5011\u200b\u76ee\u524d\u200b\u4f7f\u7528\u200b\u7684\u200b K8s \u200b\u662f\u200b HPE \u200b\u7684\u200b KEM\uff0cscale metrics \u200b\u53ea\u80fd\u200b\u8a2d\u5b9a\u200b CPU \u200b\u6216\u200b Memory\uff0c\u200b\u4e0d\u200b\u652f\u63f4\u200b\u4efb\u4f55\u200b\u5176\u4ed6\u200b\u81ea\u8a02\u200b metrics\uff0c\u200b\u6240\u4ee5\u200b\u6700\u200b\u5f8c\u200b\u4e5f\u200b\u53ea\u80fd\u200b\u66ab\u6642\u200b\u5ba3\u544a\u200b\u653e\u68c4\u200b\u3002\u200b\u5f85\u200b\u672a\u4f86\u200b\u5207\u63db\u200b\u5230\u200b OKD \u200b\u6642\u200b\uff0c\u200b\u518d\u4f86\u200b\u597d\u597d\u200b\u5617\u8a66\u200b queue length \u200b\u7684\u200b\u8b8a\u52d5\u200b\u901f\u7387\u200b\u9019\u7a2e\u200b\u6709\u8da3\u200b\u7684\u200b\u6307\u6a19\u200b\u3002</p>","tags":["Python","API","K8s"]},{"location":"blog/2021/03/10/gitbook-base-path/","title":"GitBook Base Path","text":"<p>\u200b\u9700\u6c42\u200b\uff1a\u200b\u6709\u200b\u591a\u4efd\u200b GitBook \u200b\u9700\u8981\u200b\u639b\u8f09\u200b\u5728\u200b\u540c\u4e00\u200b\u500b\u200b web server \u200b\u4e0b\u200b\uff0c\u200b\u5fc5\u9808\u200b\u91dd\u5c0d\u200b\u4e0d\u540c\u200b GitBook \u200b\u8a2d\u5b9a\u200b base path</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u4f7f\u7528\u200b GitBook Plugin Base \u200b\u5728\u200b GitBook \u200b\u7684\u200b <code>book.json</code> \u200b\u8a2d\u5b9a\u200b base \u200b\u53c3\u6578\u200b</p> <pre><code>{\n    \"pluginsConfig\": {\n        \"base\":{\n            \"base\": \"/book-name/content\"\n        }\n    }\n}\n</code></pre> <p>\u200b\u9019\u6a23\u200b\u5efa\u69cb\u200b\u51fa\u4f86\u200b\u7684\u200b GitBook URL \u200b\u90fd\u200b\u6703\u200b\u4ee5\u200b <code>/book-name/conten/</code> \u200b\u4f5c\u70ba\u200b\u958b\u982d\u200b</p>","tags":["GitBook"]},{"location":"blog/2021/07/19/remove-nth-node-from-end-of-list/","title":"Remove Nth Node From End of List","text":"<p>19. Remove Nth Node From End of List</p>","tags":[]},{"location":"blog/2021/07/19/remove-nth-node-from-end-of-list/#list","title":"List","text":"<pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, val=0, next=None):\n#         self.val = val\n#         self.next = next\nclass Solution:\n    def removeNthFromEnd(self, head: ListNode, n: int) -&gt; ListNode:\n        node_list = []\n        cur = head\n        while cur != None:\n            node_list.append(cur)\n            cur = cur.next\n        size = len(node_list)\n        if n == 1 and n == size: # remove the only one node\n            return None\n        if n == size: # remove head\n            return node_list[1]\n        node_list[-n - 1].next = node_list[-n].next\n        return head\n</code></pre>","tags":[]},{"location":"blog/2021/07/19/remove-nth-node-from-end-of-list/#one-pass-algorithm","title":"One pass algorithm","text":"<pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, val=0, next=None):\n#         self.val = val\n#         self.next = next\nclass Solution:\n    def removeNthFromEnd(self, head: ListNode, n: int) -&gt; ListNode:\n        target_node = None # parent of removed node\n        count = 0\n        cur = head\n        while cur is not None:\n            if count == n:\n                if target_node is None:\n                    target_node = head\n                else:\n                    target_node = target_node.next\n            else:\n                count += 1\n            cur = cur.next\n        if target_node == head and target_node.next is None: # remove the only one node\n            return None\n        if target_node is None: # remove head\n            return head.next\n        target_node.next = target_node.next.next\n        return head\n</code></pre> <p>Reference:</p> <ol> <li>Blind Curated 75</li> </ol>","tags":[]},{"location":"blog/2021/07/20/10-things-to-avoid-in-docker-containers/","title":"10 things to avoid in docker containers","text":"<p>10 things to avoid in docker containers</p> <p>\u200b\u539f\u6587\u200b\u5beb\u200b\u65bc\u200b 2016 \u200b\u5e74\u200b\uff0c\u200b\u8ddd\u4eca\u200b\u7d04\u200b 5 \u200b\u5e74\u524d\u200b\uff0c\u200b\u63d0\u51fa\u200b\u4e86\u200b 10 \u200b\u500b\u200b\u4f7f\u7528\u200b Docker Container \u200b\u6642\u61c9\u200b\u8a72\u200b\u907f\u514d\u200b\u7684\u200b\u884c\u70ba\u200b</p> <ol> <li>Don't store data in containers    \u200b\u4e0d\u8981\u200b\u5728\u200b Container \u200b\u4e2d\u5132\u5b58\u200b\u9700\u8981\u200b\u6c38\u4e45\u200b\u4fdd\u7559\u200b\u7684\u200b\u8cc7\u6599\u200b\uff0c\u200b\u61c9\u200b\u4f7f\u7528\u200b Volume\u3002</li> <li>Don't ship your application in two pieces    \u200b\u6709\u4e9b\u200b\u4eba\u6703\u200b\u628a\u200b Container \u200b\u5b8c\u5168\u200b\u8996\u70ba\u200b Virtual Machine\uff0c\u200b\u6240\u4ee5\u200b\u8a66\u5716\u200b\u628a\u200b application \u200b\u90e8\u7f72\u200b\u81f3\u904b\u884c\u200b\u4e2d\u200b\u7684\u200b Container\u3002\u200b\u4f46\u200b\u6b63\u78ba\u200b\u7684\u200b\u505a\u6cd5\u200b\u70ba\u200b\u628a\u200b application \u200b\u8207\u200b\u53ef\u904b\u884c\u200b\u74b0\u5883\u200b\u7684\u200b base image \u200b\u6253\u5305\u200b\u6210\u4e00\u500b\u200b\u65b0\u200b\u7684\u200b image\u3002</li> <li>Don't create large images    \u200b\u904e\u80a5\u200b\u7684\u200b image \u200b\u6703\u200b\u5f71\u97ff\u200b\u90e8\u7f72\u200b\u901f\u5ea6\u200b\u3002</li> <li>Don't use a single layer image    \u200b\u907f\u514d\u200b\u505a\u51fa\u200b\u53ea\u6709\u200b\u4e00\u5c64\u200b layer \u200b\u7684\u200b image\uff0c\u200b\u53ef\u4ee5\u200b OS \u200b\u4e00\u5c64\u200b\u3001User \u200b\u8a2d\u5b9a\u200b\u4e00\u5c64\u200b\u3001\u200b\u5404\u7a2e\u200b package \u200b\u5b89\u88dd\u200b\u4e00\u5c64\u200b\u3001config \u200b\u4e00\u5c64\u200b\uff0c\u200b\u6700\u200b\u5f8c\u200b application \u200b\u81ea\u5df1\u200b\u4e00\u5c64\u200b\u3002\u200b\u900f\u904e\u200b\u9019\u6a23\u200b\u7684\u200b\u5206\u5c64\u200b\u672a\u200b\u66f4\u52d5\u200b\u7684\u200b layer \u200b\u5728\u5efa\u200b\u7f6e\u200b\u7684\u200b\u6642\u5019\u200b\u80fd\u5920\u200b\u4f7f\u7528\u200b cache\uff0c\u200b\u53ef\u4ee5\u200b\u52a0\u5feb\u200b\u5efa\u7f6e\u200b\u7684\u200b\u901f\u5ea6\u200b\uff0c\u200b\u56e0\u70ba\u200b\u5728\u200b\u4e00\u822c\u200b\u60c5\u6cc1\u200b\u4e0b\u200b\u90fd\u200b\u662f\u200b application \u200b\u8b8a\u52d5\u200b\u3002</li> <li>Don't create images from running containers    \u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b Docker commit \u200b\u7684\u200b\u65b9\u5f0f\u200b\u5c07\u904b\u884c\u200b\u4e2d\u200b\u7684\u200b Container \u200b\u532f\u51fa\u200b\u6210\u200b image\uff0c\u200b\u61c9\u200b\u4f7f\u7528\u200b Dockerfile \u200b\u5efa\u7f6e\u200b\u3002</li> <li>Don't use only the \"latest\" tag    latest \u200b\u4e0d\u200b\u5177\u6709\u200b\u4efb\u4f55\u200b\u8b58\u5225\u6027\u200b\uff0c\u200b\u61c9\u200b\u52a0\u4e0a\u200b\u5176\u4ed6\u200b tag \u200b\u4f9b\u8b58\u5225\u200b\uff0c\u200b\u5982\u200b\u7248\u672c\u200b\u865f\u200b\u3001commit id\u3001\u200b\u6642\u9593\u200b\u6233\u200b\u8a18\u7b49\u200b\u3002</li> <li>Don't run more than one process in a single container    Container \u200b\u4e2d\u200b\u53ea\u200b\u904b\u884c\u200b\u4e00\u500b\u200b process\uff0c\u200b\u540c\u6642\u200b\u904b\u884c\u200b\u591a\u500b\u200b process \u200b\u7121\u6cd5\u200b\u6709\u6548\u200b\u900f\u904e\u200b Docker \u200b\u7ba1\u7406\u200b Container \u200b\u4e2d\u200b process \u200b\u7684\u200b\u72c0\u614b\u200b\u3002</li> <li>Don't store credentials in the image. Use environment variables    \u200b\u4e0d\u8981\u200b\u628a\u200b\u6a5f\u654f\u200b\u8cc7\u8a0a\u200b\u5132\u5b58\u200b\u65bc\u200b Image \u200b\u4e2d\u200b\uff0c\u200b\u5982\u200b DB \u200b\u5e33\u5bc6\u200b\u3001\u200b\u5404\u7a2e\u200b \bSaaS \u200b\u7684\u200b api key\uff0c\u200b\u53ef\u4ee5\u200b\u900f\u904e\u200b\u74b0\u5883\u200b\u8b8a\u6578\u200b\u7684\u200b\u65b9\u5f0f\u200b\u653e\u5165\u200b\u3002</li> <li>Don't run processes as a root user    Process \u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b root user\uff0c\u200b\u5982\u679c\u200b\u57f7\u884c\u200b\u7684\u200b\u670d\u52d9\u6709\u200b\u5b89\u5168\u6f0f\u6d1e\u200b\u53ef\u80fd\u200b\u6703\u200b\u8b93\u200b\u99ed\u5ba2\u200b\u66f4\u52a0\u200b\u5bb9\u6613\u200b\u53d6\u5f97\u200b Container \u200b\u7684\u200b root \u200b\u6b0a\u9650\u200b\u3002</li> <li>Don't rely on IP addresses     \u200b\u4e0d\u8981\u200b\u4f9d\u8cf4\u200b Container \u200b\u7684\u200b IP\uff0cContainer \u200b\u5728\u200b\u91cd\u65b0\u200b\u555f\u52d5\u5f8c\u6703\u200b\u88ab\u200b\u91cd\u65b0\u5206\u914d\u200b IP\u3002</li> </ol> <p>\u200b\u96d6\u7136\u200b\u5df2\u7d93\u200b\u662f\u200b\u5f88\u200b\u820a\u200b\u7684\u200b\u6587\u7ae0\u200b\u4e86\u200b\uff0c\u200b\u4e0d\u904e\u200b\u9084\u662f\u200b\u6709\u200b\u5176\u200b\u53c3\u8003\u200b\u50f9\u503c\u200b\u3002\u200b\u6709\u200b\u4e00\u4e9b\u200b\u5167\u5bb9\u200b\u5728\u200b\u73fe\u5728\u200b\u5df2\u7d93\u200b\u53ef\u4ee5\u200b\u7b97\u662f\u200b\u57fa\u672c\u200b\u5e38\u8b58\u200b\u4e86\u200b\uff0c\u200b\u5982\u200b\u4e0d\u8981\u200b\u5728\u200b Container \u200b\u4e2d\u5132\u5b58\u200b\u8cc7\u6599\u200b\b\uff0c\u200b\u4e0d\u8981\u200b\u628a\u200b\u670d\u52d9\u200b\u90e8\u7f72\u200b\u5230\u200b Container \u200b\u4e2d\u200b\u3002\u200b\u4e5f\u200b\u6709\u200b\u4e00\u4e9b\u200b\u5247\u7e7c\u7e8c\u200b\u5ef6\u4f38\u200b\uff0c\u200b\u5982\u200b\u4e0d\u8981\u200b\u53ea\u200b\u4f7f\u7528\u200b latest tag\uff0c\u200b\u73fe\u5728\u200b\u5927\u591a\u200b\u63d0\u5021\u200b\u76f4\u63a5\u200b\u68c4\u7528\u200b latest tag\uff0c\u200b\u6bcf\u500b\u200b image \u200b\u90fd\u200b\u8981\u200b\u8ce6\u4e88\u200b\u53ef\u8fa8\u200b\u8b58\u200b\u7684\u200b tag\uff0c\u200b\u907f\u514d\u200b\u5728\u200b\u90e8\u7f72\u200b\u6642\u200b\u610f\u5916\u200b\u5c07\u200b latest \u200b\u90e8\u7f72\u200b\u51fa\u53bb\u200b\u3002</p> <p>\b\u200b\u4e0b\u9762\u200b\u4e5f\u200b\u6709\u200b\u7db2\u53cb\u91dd\u200b\u5c0d\u200b credentials \u200b\u63d0\u51fa\u200b\u4e0d\u540c\u200b\u7684\u200b\u770b\u6cd5\u200b\uff0c\u200b\u96a8\u8457\u200b\u6280\u8853\u200b\u7684\u200b\u63a8\u5c55\u200b\u793e\u7fa4\u200b\u4e5f\u200b\u63d0\u51fa\u200b\u5176\u4ed6\u200b\u66f4\u597d\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8a2d\u5b9a\u200b credentials\uff0c\u200b\u4f8b\u5982\u200b\u4f7f\u7528\u200b Volume \u200b\u7684\u200b\u65b9\u5f0f\u200b\u639b\u5165\u200b\u5beb\u200b\u6709\u200b credentials \u200b\u7684\u200b\u6a94\u6848\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u74b0\u5883\u200b\u8b8a\u6578\u200b\u88ab\u200b\u610f\u5916\u200b\u5beb\u51fa\u200b\u81f3\u200b Log \u200b\u6216\u662f\u200b\u88ab\u200b\u5165\u4fb5\u200b\u6642\u8f15\u200b\u6613\u5730\u200b\u627e\u51fa\u200b\u3002\u200b\u800c\u200b\u5230\u200b\u4e86\u200b K8s \u200b\u98a8\u884c\u200b\u7684\u200b\u6642\u4ee3\u200b\u53c8\u200b\u66f4\u91dd\u200b\u5c0d\u200b credentials \u200b\u63d0\u51fa\u200b\u66f4\u591a\u200b\u8655\u7406\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u5982\u200b\u4f7f\u7528\u200b Secrets \u200b\u6216\u662f\u200b\u4f7f\u7528\u200b Vault \u200b\u9019\u985e\u200b\u5de5\u5177\u200b\u9032\u884c\u200b\u7ba1\u7406\u200b\u7b49\u200b\u3002</p>","tags":["Docker","Container"]},{"location":"blog/2021/07/21/get-column-index-of-field-in-csv-file/","title":"Get column index of field in CSV file","text":"<p>get-column-index-of-field-in-csv-file</p> <p>\u200b\u9700\u6c42\u200b\uff1a\u200b\u53d6\u5f97\u200b\u6709\u200b\u6a19\u982d\u200b\u7684\u200b CSV \u200b\u6a94\u4e2d\u200b\u6307\u5b9a\u200b\u6b04\u4f4d\u200b\u7684\u200b index</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u4f7f\u7528\u200b <code>sed</code> \u200b\u5c07\u6a19\u982d\u200b\u7684\u200b\u5206\u9694\u7b26\u200b\u865f\u200b <code>,</code> \u200b\u53d6\u4ee3\u200b\u70ba\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\uff0c\u200b\u63a5\u8457\u200b\u4f7f\u7528\u200b <code>grep</code> \u200b\u641c\u5c0b\u8981\u200b\u67e5\u8a62\u200b\u7684\u200b\u6b04\u4f4d\u200b\u540d\u7a31\u200b\u4e26\u56de\u200b\u50b3\u884c\u6578\u200b</p> <pre><code># some.csv\n# a,b,c,d,e,f,g\n# 11,22,33,44,55,66,77\n# ...\n\nsed -n $'1s/,/\\\\\\n/gp' some.csv | grep -nx 'e'\n#output: 5:e\n\nsed -n $'1s/,/\\\\\\n/gp' some.csv | grep -nx 'e' | cut -f 1 -d :\n#output: 5\n</code></pre> <p>sed \u200b\u53c3\u6578\u200b\u8aaa\u660e\u200b\uff1a</p> <ol> <li><code>-n</code>: \u200b\u540c\u200b <code>--quiet</code> \u200b\u8207\u200b <code>--silent</code>\uff0c\u200b\u53ea\u200b\u5217\u51fa\u200b\u8655\u7406\u200b\u6709\u200b\u8655\u7406\u904e\u200b\u7684\u200b\u90a3\u200b\u4e00\u884c\u200b\uff0csed \u200b\u662f\u200b\u9810\u8a2d\u200b\u5370\u51fa\u200b\u6240\u6709\u200b\u5167\u5bb9\u200b</li> <li><code>$'...'</code>: ANSI-C Quoting\uff0c\u200b\u80fd\u5920\u200b\u4ee5\u200b <code>\\n</code> \u200b\u6216\u200b <code>\\t</code> \u200b\u7684\u200b\u65b9\u5f0f\u200b\u8868\u793a\u200b\u63db\u884c\u200b\u6216\u200b Tab\uff0c\u200b\u55ae\u7d14\u200b\u7684\u200b quotes \u200b\u53ea\u6703\u200b\u88ab\u200b\u8996\u70ba\u200b\u4e00\u822c\u200b\u6587\u5b57\u200b</li> <li><code>1s/,/\\\\\\n/gp</code>: \u200b\u4ee5\u200b <code>/</code> \u200b\u5206\u5272\u200b\u70ba\u200b\u56db\u6bb5\u200b</li> <li><code>1s</code>: <code>1</code> \u200b\u8868\u793a\u200b\u53ea\u200b\u8655\u7406\u200b\u7b2c\u4e00\u884c\u200b\uff0c<code>s</code> \u200b\u8868\u793a\u200b\u9032\u884c\u200b\u53d6\u4ee3\u200b</li> <li><code>,</code>: \u200b\u8981\u200b\u88ab\u200b\u53d6\u4ee3\u200b\u7684\u200b\u5167\u5bb9\u200b</li> <li><code>\\\\\\n</code>: \u200b\u8981\u200b\u53d6\u4ee3\u200b\u7684\u200b\u5167\u5bb9\u200b\uff0c\u200b\u56e0\u70ba\u200b\u63db\u884c\u200b\u7b26\u865f\u200b\u7684\u200b <code>\\</code> \u200b\u8655\u7406\u200b\u5169\u6b21\u200b\u8df3\u200b\u812b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u524d\u9762\u200b\u6709\u984d\u200b\u5916\u200b\u7684\u200b\u5169\u500b\u200b <code>\\</code>\uff0c\u200b\u4e00\u6b21\u200b\u70ba\u200b sed \u200b\u7684\u200b\u6b63\u200b\u898f\u8868\u9054\u5f0f\u200b\u7684\u200b\u8df3\u200b\u812b\u200b\uff0c\u200b\u53e6\u200b\u4e00\u6b21\u200b\u70ba\u200b shell \u200b\u7684\u200b\u8df3\u200b\u812b\u200b</li> <li><code>gp</code>: <code>g</code> \u200b\u8868\u793a\u200b\u6240\u6709\u200b\u5167\u5bb9\u200b\u90fd\u200b\u8981\u200b\u53d6\u4ee3\u200b\uff0c<code>p</code> \u200b\u8868\u793a\u200b\u628a\u200b\u8655\u7406\u200b\u5f8c\u200b\u7684\u200b\u7d50\u679c\u200b\u76f4\u63a5\u200b\u5370\u200b\u51fa\u200b</li> </ol> <p>grep \u200b\u53c3\u6578\u200b\u8aaa\u660e\u200b\uff1a</p> <ol> <li><code>-n</code>: \u200b\u540c\u6642\u200b\u56de\u50b3\u67e5\u200b\u8a62\u5230\u200b\u7684\u200b\u884c\u6578\u200b</li> <li><code>-x</code>: \u200b\u53ea\u200b\u56de\u50b3\u200b\u6574\u884c\u200b\u90fd\u200b\u7b26\u5408\u200b\u67e5\u8a62\u200b\u5167\u5bb9\u200b\u7684\u200b\u6587\u5b57\u200b</li> </ol> <p>\u200b\u6216\u8005\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>tr</code> \u200b\u53d6\u4ee3\u200b <code>sed</code> \u200b\u7684\u200b\u53d6\u4ee3\u200b\u529f\u80fd\u200b</p> <pre><code># some.csv\n# a,b,c,d,e,f,g\n# 11,22,33,44,55,66,77\n# ...\n\nhead -n 1 some.csv | tr \",\" \"\\n\" | grep -nx e\n#output: 5:e\n</code></pre> <p>\u200b\u53e6\u5916\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u518d\u200b\u642d\u914d\u200b <code>cut</code> \u200b\u76f4\u63a5\u200b\u53d6\u51fa\u200b\u8a72\u6b04\u200b\u7684\u200b\u6574\u6392\u200b\u8cc7\u6599\u200b</p> <pre><code># some.csv\n# a,b,c,d,e,f,g\n# 11,22,33,44,55,66,77\n# ...\n\ncut -f $(sed -n $'1s/,/\\\\\\n/gp' some.csv | grep -nx 'e' | cut -f 1 -d :) -d , some.csv\n#output:\n# e\n# 55\n</code></pre> <p>Reference:</p> <ol> <li>How to get column index of field in unix shell</li> <li>How does the leading dollar sign affect single quotes in Bash?</li> <li>Pass the output of previous command to next as an argument</li> <li>Remove backslashes from a text file</li> </ol>","tags":["Unix"]},{"location":"blog/2021/07/22/traefik-with-config-hot-reload/","title":"Traefik with config hot reload","text":"<p>Traefik \u200b\u652f\u63f4\u200b hot reload provider config\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\u900f\u904e\u200b toml \u200b\u8a2d\u5b9a\u200b\u7684\u200b Service \u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u6642\u200b\uff0c\u200b\u4fee\u6539\u200b toml \u200b\u5f8c\u200b\u5373\u53ef\u200b\u7acb\u5373\u200b\u751f\u6548\u200b\u3002\u200b\u53e6\u5916\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5c07\u591a\u500b\u200b Service \u200b\u7684\u200b config \u200b\u653e\u5728\u200b\u7d71\u4e00\u200b\u7684\u200b\u8cc7\u6599\u200b\u593e\u4e2d\u200b\uff0c\u200b\u9054\u5230\u200b\u52d5\u614b\u200b\u8a2d\u5b9a\u200b\u591a\u7d44\u200b\u4e0d\u540c\u200b\u7684\u200b Service\u3002</p> <p>\u200b\u5b8c\u6574\u200b\u7bc4\u4f8b\u200b\u53ef\u200b\u53c3\u8003\u200b Traefik Template</p> <p>Traefik \u200b\u7684\u200b docker-compose.yaml</p> <pre><code>version: '3'\n\nservices:\n  traefik:\n    # The official v2 Traefik docker image\n    image: traefik:v2.4.11\n    container_name: traefik\n    restart: always\n    network_mode: bridge\n    labels:\n      traefik.enable: \"true\"\n      traefik.http.routers.traefik.service: api@internal\n      traefik.http.routers.traefik.entrypoints: http\n    ports:\n      # The HTTP port\n      - \"80:80\"\n    volumes:\n      # So that Traefik can listen to the Docker events\n      - /var/run/docker.sock:/var/run/docker.sock\n      - $PWD/traefik.toml:/etc/traefik/traefik.toml\n      - $PWD/conf:/etc/traefik/conf    \n</code></pre> <p>network_mode \u200b\u8a2d\u5b9a\u200b\u70ba\u200b bridge\uff0c\u200b\u4e0d\u200b\u4f7f\u7528\u200b compose \u200b\u9810\u8a2d\u200b\u5efa\u7acb\u200b\u7684\u200b network\uff0c\u200b\u6539\u7528\u200b docker \u200b\u7684\u200b default bridge network\u3002\u200b\u5176\u4ed6\u200b Container \u200b\u82e5\u200b\u8981\u200b\u4f7f\u7528\u200b label \u200b\u5c07\u200b Service \u200b\u8a3b\u200b\u518a\u200b\u65bc\u200b Traefik \u200b\u53ea\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b default \u200b\u7684\u200b bridge network \u200b\u5373\u53ef\u200b\u3002</p> <p>labels:</p> <ol> <li>traefik.enable: \"true\" =&gt; \u200b\u8b93\u200b Traefik \u200b\u4ee3\u7406\u200b\u6b64\u200b container</li> <li>traefik.http.routers.traefik.service: api@internal =&gt; traefik \u200b\u7684\u200b API \u200b\u529f\u80fd\u200b\u555f\u7528\u200b\u6642\u200b\uff08traefik config traefik.toml \u200b\u4e2d\u200b\u8a2d\u5b9a\u200b\uff09\uff0capi@internal \u200b\u9019\u500b\u200b Service \u200b\u6703\u200b\u88ab\u200b\u81ea\u52d5\u200b\u5efa\u7acb\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u591a\u500b\u200b API \u200b\u4f9b\u6aa2\u8996\u200b Traefik \u200b\u7684\u200b\u5404\u7a2e\u200b\u8cc7\u8a0a\u200b Traefik Doc about API\u3002Dashboard \u200b\u555f\u7528\u200b\u6642\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6b64\u200b Service \u200b\u6aa2\u8996\u200b Dashboard\u3002</li> <li>traefik.http.routers.traefik.entrypoints: http =&gt; traefik config traefik.toml \u200b\u4e2d\u5b9a\u200b\u7fa9\u540d\u200b\u70ba\u200b http \u200b\u7684\u200b entrypoint</li> </ol> <p>volumes:</p> <ol> <li>$PWD/traefik.toml:/etc/traefik/traefik.toml =&gt; \u200b\u8a2d\u5b9a\u200b traefik \u200b\u7684\u200b config</li> <li>$PWD/conf:/etc/traefik/conf =&gt; \u200b\u7d71\u4e00\u200b\u5b58\u653e\u200b file based provider \u200b\u7684\u200b\u4f4d\u7f6e\u200b</li> </ol> <p>Traefik \u200b\u7684\u200b config traefik.toml</p> <pre><code>[entryPoints]\n\n  [entryPoints.http]\n     address = \":80\"\n\n[providers]\n  [providers.docker]\n    defaultRule = \"Host(`traefik.admin`)\"\n    exposedByDefault = false\n  [providers.file]\n    directory = \"/etc/traefik/conf\"\n    watch = true\n\n[api]\n  dashboard = true\n</code></pre> <ol> <li>entryPoints.http: \u200b\u5b9a\u7fa9\u4e00\u500b\u200b\u540d\u70ba\u200b http \u200b\u7684\u200b entryPoints\uff0c\u200b\u76e3\u807d\u200b 80 Port</li> <li>providers.docker:</li> <li>defaultRule: \u200b\u6c92\u6709\u200b\u5b9a\u7fa9\u200b Rule \u200b\u7684\u200b docker provider \u200b\u90fd\u200b\u6703\u200b\u4f7f\u7528\u200b\u9019\u7d44\u200b rule</li> <li>exposedByDefault: Container \u200b\u53ea\u6709\u200b\u5728\u200b\u52a0\u4e0a\u200b traefik.enable: \"true\" \u200b\u7684\u200b label Traefik \u200b\u624d\u200b\u6703\u200b\u9032\u884c\u200b\u4ee3\u7406\u200b</li> <li>providers.file:</li> <li>directory: config file \u200b\u7684\u200b\u76ee\u9304\u200b</li> <li>watch: true \u200b\u8868\u793a\u200b\u76e3\u63a7\u200b\u6a94\u6848\u200b\u7570\u52d5\u200b\uff0c\u200b\u7570\u52d5\u200b\u767c\u751f\u200b\u6642\u6703\u200b hot reload</li> <li>api dashboard: \u200b\u555f\u7528\u200b traefik dashboard</li> </ol> <p>Traefik mount \u200b\u7684\u200b conf \u200b\u76ee\u9304\u200b\u4e2d\u200b\u7684\u200b Service toml \u200b\u7bc4\u4f8b\u200b dynamic.toml</p> <pre><code>[http]\n [http.routers]\n    [http.routers.file-based-app-router]\n       entryPoints = [\"http\"]\n       rule = \"PathPrefix(`/file-based-app`)\"\n       service = \"file-based-app\"\n\n\n [http.services]\n    [http.services.file-based-app.loadBalancer]\n       [[http.services.file-based-app.loadBalancer.servers]]\n           url = \"http://[continaer file-based-app's ip]:80\" # proxy url \u200b\u9808\u4f9d\u200b\u5be6\u969b\u200b\u4f4d\u7f6e\u200b\u8abf\u6574\u200b\n</code></pre> <p>file-based-app \u200b\u662f\u200b Service \u200b\u540d\u7a31\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f9d\u64da\u200b\u9700\u6c42\u200b\u8abf\u6574\u200b</p> <p>Reference:</p> <ol> <li>Serving Traefik\u2019s internal dashboard behind Traefik itself</li> </ol>","tags":["Traefik"]},{"location":"blog/2021/07/25/vue-select/","title":"Vue Select","text":"<p>Vue Select \u200b\u662f\u200b\u4e00\u500b\u200b\u64f4\u5145\u200b\u4e86\u200b\u591a\u7a2e\u200b\u529f\u80fd\u200b\u7684\u200b Select Component\u3002\u200b\u5305\u62ec\u200b\u4e86\u200b\u7be9\u9078\u200b\u3001\u200b\u641c\u5c0b\u200b\u3001Tag\u3001\u200b\u81ea\u8a02\u200b\u986f\u793a\u200b\u7b49\u200b\u529f\u80fd\u200b\uff0c\u200b\u540c\u6642\u200b\u4e3b\u6253\u200b\u8f15\u200b\u91cf\u5316\u200b\u4e26\u53ef\u200b\u5ba2\u200b\u88fd\u200b\u5316\u200b\u3002</p> <p>\u200b\u7c21\u55ae\u200b\u5beb\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u7bc4\u4f8b\u200b\uff0c\u200b\u8a73\u7d30\u200b\u7a0b\u5f0f\u200b\u78bc\u200b\u5982\u4e0b\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u53c3\u8003\u200b CodeSandbox\u3002</p> <ol> <li>country \u200b\u70ba\u200b\u57fa\u790e\u200b\u7684\u200b\u9078\u55ae\u200b</li> <li>author \u200b\u7684\u200b\u8cc7\u6599\u200b\u4f86\u6e90\u200b\u70ba\u200b object list\uff0c\u200b\u53ef\u4ee5\u200b\u81ea\u8a02\u200b value \u200b\u8207\u200b label \u200b\u8981\u200b\u4f7f\u7528\u200b\u54ea\u4e9b\u200b\u503c\u200b</li> <li>customer \u200b\u7684\u200b\u8cc7\u6599\u200b\u4f86\u6e90\u200b\u70ba\u200b object list\uff0c\u200b\u53ef\u4ee5\u200b\u81ea\u8a02\u200b\u4e0b\u62c9\u9078\u55ae\u200b\u7684\u200b\u5448\u73fe\u200b\u65b9\u5f0f\u200b\u8207\u200b\u67e5\u7121\u8a0a\u606f\u200b\uff0c\u200b\u4e26\u8986\u5beb\u200b filter-by \u200b\u540c\u6642\u200b\u7528\u200b customer.title \u200b\u7be9\u9078\u200b</li> </ol> <p>{% raw %} <pre><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/vue\"&gt;&lt;/script&gt;\n&lt;script src=\"https://unpkg.com/vue-select@latest\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" href=\"https://unpkg.com/vue-select@latest/dist/vue-select.css\"&gt;\n\n&lt;div id=\"app\"&gt;\n  &lt;template&gt;\n    &lt;div&gt;\n      &lt;v-select v-model=\"country\" :options=\"['Canada', 'United States']\"&gt;&lt;/v-select&gt;\n      &lt;div&gt;country: {{ country }}&lt;/div&gt;\n      &lt;v-select v-model=\"author_id\" label=\"name\" :reduce=\"item =&gt; item.id\" :options=\"authorList\" :clearable=\"false\"&gt;\n      &lt;/v-select&gt;\n      &lt;div&gt;author_id: {{ author_id }}&lt;/div&gt;\n      &lt;v-select v-model=\"customer_code\" label=\"code\" :reduce=\"customer =&gt; customer.code\" :options=\"customers\" :filter-by=\"customerFilter\"&gt;\n        &lt;template slot=\"no-options\"&gt;\n          \u200b\u67e5\u7121\u5ba2\u200b\u6236\u540d\u200b\u7a31\u200b\u6216\u200b\u7de8\u865f\u200b\n        &lt;/template&gt;\n        &lt;template slot=\"option\" slot-scope=\"option\"&gt;\n          &lt;div class=\"d-center\"&gt;\n            {{ option.code }} | {{ option.title }}\n          &lt;/div&gt;\n        &lt;/template&gt;\n      &lt;/v-select&gt;\n      &lt;div&gt;customer_code: {{ customer_code }}&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/template&gt;\n&lt;/div&gt;\n</code></pre></p> <pre><code>var Main = {\n  data() {\n    return {\n      country: \"\",\n      customer_code: \"\",\n      customers: [\n        { code: \"001\", title: \"Apple\" },\n        { code: \"002\", title: \"Microsoft\" },\n        { code: \"003\", title: \"Facebook\" }\n      ],\n      author_id: \"\",\n      authorList: [\n        { id: \"001\", name: \"John\" },\n        { id: \"002\", name: \"Peter\" },\n        { id: \"003\", name: \"Jim\" }\n      ]\n    };\n  },\n  methods: {\n    customerFilter: function (option, label, search) {\n      return (\n        (label || \"\").toLowerCase().indexOf(search.toLowerCase()) &gt; -1 ||\n        (option[\"title\"] || \"\").toLowerCase().indexOf(search.toLowerCase()) &gt; -1\n      );\n    }\n  }\n};\nVue.component(\"v-select\", VueSelect.VueSelect);\nvar vue = Vue.extend(Main);\nnew vue().$mount(\"#app\");\n</code></pre>","tags":["Vue"]},{"location":"blog/2021/07/26/valid-parentheses/","title":"Valid Parentheses","text":"<p>20. Valid Parentheses</p> <pre><code>class Solution:\n    def isValid(self, s: str) -&gt; bool:\n        if len(s) % 2 != 0:\n            return False\n        stack = []\n        left = [\"(\", \"{\", \"[\"]\n        right = [\")\", \"}\", \"]\"]\n        for char in s:\n            if len(stack) == 0 or char in left:\n                stack.append(char)\n            else:\n                if stack[-1] == left[right.index(char)]:\n                    stack.pop()\n                else:\n                    return False\n        return len(stack) == 0\n</code></pre> <p>Reference:</p> <ol> <li>Blind Curated 75</li> </ol>","tags":[]},{"location":"blog/2021/07/28/maven-block-http-repositories/","title":"Maven block http repositories","text":"<p>\u200b\u554f\u984c\u200b\uff1amaven build \u200b\u6642\u200b\u51fa\u73fe\u200b <code>Could not resolve dependencies for project ... Could not transfer artifact ... from/to maven-default-http-blocker (http://0.0.0.0/) ...</code> \u200b\u932f\u8aa4\u200b\u8a0a\u606f\u200b\uff0chttp repository \u200b\u88ab\u200b maven block \u200b\u7121\u6cd5\u200b\u53d6\u5f97\u200b\u76f8\u4f9d\u200b jar\uff0c\u200b\u5c0e\u81f4\u200b\u5efa\u7f6e\u200b\u5931\u6557\u200b</p> <p>\u200b\u4ee5\u200b\u76f8\u4f9d\u200b <code>com.lowagie:itext:jar:2.1.7</code> \u200b\u70ba\u4f8b\u200b\uff0c\u200b\u5b8c\u6574\u200b\u932f\u8aa4\u200b\u8a0a\u606f\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>[ERROR] Failed to execute goal on project sample: Could not resolve dependencies for project \ncom.sample:sample:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at net.sf.jasperreports:\njasperreports:jar:6.16.0 -&gt; com.lowagie:itext:jar:2.1.7.js8: Failed to read artifact descriptor \nfor com.lowagie:itext:jar:2.1.7.js8: Could not transfer artifact com.lowagie:itext:pom:2.1.7.js8 \nfrom/to maven-default-http-blocker (http://0.0.0.0/): Blocked mirror for repositories: \n[jaspersoft-third-party (http://jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts/, \ndefault, releases+snapshots), jr-ce-releases (http://jaspersoft.jfrog.io/jaspersoft/jr-ce-releases, \ndefault, releases+snapshots)]\n</code></pre> <p>\u200b\u539f\u56e0\u200b\uff1aMaven \u200b\u5728\u200b 3.8.1 \u200b\u4e4b\u5f8c\u70ba\u200b\u4e86\u200b\u907f\u514d\u200b\u88ab\u200b\u5229\u7528\u200b http \u200b\u57f7\u884c\u200b\u4e2d\u9593\u200b\u4eba\u200b\u653b\u64ca\u200b\uff08CVE-2021-26291\uff09\uff0c\u200b\u9810\u8a2d\u200b\u6703\u200b block \u200b\u6240\u6709\u200b http repositories</p> <p>\u200b\u89e3\u6cd5\u200b\uff1a\u200b\u5728\u200b\u7121\u6cd5\u200b\u627e\u5230\u200b\u53ef\u200b\u4f7f\u7528\u200b\u7684\u200b https repository \u200b\u6642\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b maven \u200b\u7684\u200b config \u200b\u81ea\u8a02\u200b mirror \u200b\u4e26\u5c07\u200b blocked \u200b\u8a2d\u5b9a\u200b\u95dc\u9589\u200b</p> <p>\u200b\u4ee5\u200b <code>http://jaspersoft.jfrog.io/</code> \u200b\u9019\u500b\u200b http repository \u200b\u70ba\u4f8b\u200b\uff1a</p> <pre><code>&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.2.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.2.0 http://maven.apache.org/xsd/settings-1.2.0.xsd\"&gt;\n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n      &lt;id&gt;jaspersoft-third-party-mirror&lt;/id&gt;\n      &lt;mirrorOf&gt;jaspersoft-third-party&lt;/mirrorOf&gt;\n      &lt;url&gt;http://jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts/&lt;/url&gt;\n      &lt;blocked&gt;false&lt;/blocked&gt;\n    &lt;/mirror&gt;\n  &lt;/mirrors&gt;\n&lt;/settings&gt;\n</code></pre> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u4ee5\u200b maven \u200b\u7684\u200b Docker Image \u200b\u5efa\u7f6e\u200b\u5c08\u6848\u200b\u53ef\u4ee5\u200b\u53c3\u8003\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u7d50\u69cb\u200b\uff0c\u200b\u5728\u200b <code>.mvn</code> \u200b\u8cc7\u6599\u200b\u593e\u4e2d\u200b\u5beb\u5165\u200b <code>maven.config</code> \u200b\u8207\u200b <code>local-settings.xml</code> \u200b\u5169\u500b\u200b\u6a94\u6848\u200b</p> <pre><code>\u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 mvnw\n\u251c\u2500\u2500 pom.xml\n\u251c\u2500\u2500 src\n\u2514\u2500\u2500 .mvn\n \u00a0\u00a0 \u251c\u2500\u2500 local-settings.xml\n \u00a0\u00a0 \u251c\u2500\u2500 maven.config\n \u00a0\u00a0 \u2514\u2500\u2500 wrapper\n</code></pre>","tags":["Java","Maven"]},{"location":"blog/2021/07/28/maven-block-http-repositories/#dockerfile","title":"Dockerfile","text":"<pre><code>FROM maven:3.6.3-openjdk-8\nWORKDIR /workspace\nCOPY . .\nRUN unset MAVEN_CONFIG &amp;&amp; ./mvnw package\n</code></pre>","tags":["Java","Maven"]},{"location":"blog/2021/07/28/maven-block-http-repositories/#mavenconfig","title":"maven.config","text":"<pre><code>--settings ./.mvn/local-settings.xml\n</code></pre>","tags":["Java","Maven"]},{"location":"blog/2021/07/28/maven-block-http-repositories/#local-settingsxml","title":"local-settings.xml","text":"<pre><code>&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.2.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.2.0 http://maven.apache.org/xsd/settings-1.2.0.xsd\"&gt;\n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n      &lt;id&gt;jaspersoft-third-party-mirror&lt;/id&gt;\n      &lt;mirrorOf&gt;jaspersoft-third-party&lt;/mirrorOf&gt;\n      &lt;url&gt;http://jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts/&lt;/url&gt;\n      &lt;blocked&gt;false&lt;/blocked&gt;\n    &lt;/mirror&gt;\n  &lt;/mirrors&gt;\n&lt;/settings&gt;\n</code></pre> <p>Reference:</p> <ol> <li>Release Notes \u2013 Maven 3.8.1</li> <li>How to disable maven blocking external HTTP repositores?</li> <li>Maven Build Failure \u2014 DependencyResolutionException</li> </ol>","tags":["Java","Maven"]},{"location":"blog/2021/08/02/merge-two-sorted-lists/","title":"Merge Two Sorted Lists","text":"<p>21. Merge Two Sorted Lists</p>","tags":[]},{"location":"blog/2021/08/02/merge-two-sorted-lists/#iteratively","title":"Iteratively","text":"<pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, val=0, next=None):\n#         self.val = val\n#         self.next = next\nclass Solution:\n    def mergeTwoLists(self, l1: ListNode, l2: ListNode) -&gt; ListNode:\n        if l1 is None or l2 is None:\n            return l1 or l2\n        head = None\n        pre_node = None\n        while l1 is not None or l2 is not None:\n            if l1 is None:\n                pre_node.next = l2\n                break\n            elif l2 is None:\n                pre_node.next = l1\n                break\n            if l1.val &lt; l2.val:\n                cur_node = l1\n                l1 = l1.next\n            else:\n                cur_node = l2\n                l2 = l2.next\n            if head is None:\n                head = cur_node\n            else:\n                pre_node.next = cur_node\n            pre_node = cur_node\n        return head\n</code></pre>","tags":[]},{"location":"blog/2021/08/02/merge-two-sorted-lists/#recursively","title":"Recursively","text":"<pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, val=0, next=None):\n#         self.val = val\n#         self.next = next\nclass Solution:\n    def mergeTwoLists(self, l1: ListNode, l2: ListNode) -&gt; ListNode:\n        if l1 is None or l2 is None:\n            return l1 or l2\n        if l1.val &lt; l2.val:\n            l1.next = self.mergeTwoLists(l1.next, l2)\n            return l1\n        else:\n            l2.next = self.mergeTwoLists(l1, l2.next)\n            return l2\n</code></pre> <p>Reference:</p> <ol> <li>Blind Curated 75</li> </ol>","tags":[]},{"location":"blog/2021/08/04/container-timezone/","title":"Container Timezone","text":"<p>\u200b\u9700\u6c42\u200b\uff1aContainer OS \u200b\u6642\u5340\u200b\u70ba\u200b UTC+0\uff0c\u200b\u9700\u8981\u200b\u8a2d\u5b9a\u200b\u70ba\u200b\u6307\u5b9a\u200b\u6642\u5340\u200b\uff0c\u200b\u5982\u53f0\u7063\u200b\u7684\u200b UTC+8</p> <p>\u200b\u89e3\u6c7a\u200b\u65b9\u6848\u200b\uff1a\u200b\u4f9d\u64da\u200b\u6240\u200b\u4f7f\u7528\u200b\u7684\u200b Linux \u200b\u7248\u672c\u200b\uff0c\u200b\u4ee5\u200b\u4e0d\u540c\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8a2d\u5b9a\u200b Timezone</p>","tags":["Linux","Docker","Container"]},{"location":"blog/2021/08/04/container-timezone/#alpine","title":"alpine","text":"<p>\u200b\u5fc5\u9808\u200b\u5148\u5b89\u88dd\u200b <code>tzdata</code>\uff0c\u200b\u4e26\u57f7\u884c\u200b\u76f8\u95dc\u200b\u8a2d\u5b9a\u200b</p> <p>Dockerfile:</p> <pre><code>FROM apline:3.14.0\n\nRUN apk --update add tzdata &amp;&amp; \\\n    apk upgrade &amp;&amp; \\\n    cp /usr/share/zoneinfo/Asia/Taipei /etc/localtime &amp;&amp; \\\n    echo \"Asia/Taipei\" &gt; /etc/timezone\n</code></pre>","tags":["Linux","Docker","Container"]},{"location":"blog/2021/08/04/container-timezone/#alpine_1","title":"\u975e\u200b alpine \u200b\u7248\u672c","text":"<p>\u200b\u53ea\u200b\u9700\u200b\u8a2d\u5b9a\u200b\u74b0\u5883\u200b\u8b8a\u6578\u200b <code>TZ</code></p> <p>Dockerfile:</p> <pre><code>FROM debian:buster\n\nEVN TZ=Asia/Taipei\n</code></pre> <p>\u200b\u6216\u8005\u200b\u57f7\u884c\u200b Container \u200b\u6642\u200b\u76f4\u63a5\u200b\u8a2d\u5b9a\u200b</p> <pre><code>docker run -e \"TZ=Asia/Taipei\" debian:buster\n</code></pre> <p>Reference:</p> <ol> <li>\u200b\u4f7f\u7528\u200b Dockerfile \u200b\u8a2d\u5b9a\u200b Container \u200b\u6642\u5340\u200b</li> <li>\u3010\u200b\u7b46\u8a18\u200b\u3011Docker Timezone \u200b\u8a2d\u5b9a\u200b</li> <li>Explanation of the \u201c--update add\u201d command for Alpine Linux</li> </ol>","tags":["Linux","Docker","Container"]},{"location":"blog/2021/08/05/we-need-to-talk-about-testing/","title":"We need to talk about testing","text":"<p>We need to talk about testing</p>","tags":["Testing"]},{"location":"blog/2021/08/05/we-need-to-talk-about-testing/#the-purpose-of-testing","title":"The purpose of testing","text":"<p>\u200b\u6bcf\u6b21\u200b\u7570\u52d5\u200b\u7a0b\u5f0f\u200b\u78bc\u200b\uff0c\u200b\u90fd\u200b\u6709\u200b\u53ef\u80fd\u200b\u7834\u58de\u200b\u4ee5\u4e0b\u200b\u9019\u4e9b\u200b\u7279\u6027\u200b\uff0c\u200b\u5c0e\u81f4\u200b\u58de\u4e8b\u200b\u767c\u751f\u200b</p> <ol> <li>Functional correctness: It doesn\u2019t produce the results we expect.</li> <li>Reliability: It mostly shows correct answers but sometimes it doesn\u2019t.</li> <li>Usability: Sure it works but it is inconsistent and frustrating to use.</li> <li>Accessibility: Like usability, but exclusionary and probably illegal.</li> <li>Predictability: It has random spikes in resources such as memory, I/O, or CPU usage, or occasionally hangs for a noticeable amount of time.</li> <li>Security: It works as designed but it exposes security vulnerabilities.</li> <li>Compliance: It works but it doesn\u2019t handle personal information correctly, say.</li> <li>Observability: It mostly works, but when it doesn\u2019t it is hard to identify why.</li> </ol> <p>\u200b\u7d44\u7e54\u200b\u4e2d\u200b\u6709\u200b\u4e00\u7fa4\u200b\u4eba\u95dc\u200b\u5fc3\u8457\u200b\u4ee5\u4e0a\u200b\u9019\u4e9b\u200b\u7279\u6027\u200b\uff0c\u200b\u9019\u4e9b\u200b\u4eba\u200b\u5373\u200b\u70ba\u200b stakeholders\u3002\u200b\u4ed6\u5011\u200b\u4ee3\u8868\u200b\u4e86\u200b\u9019\u500b\u200b\u7522\u54c1\u200b\u5728\u200b\u4e0d\u540c\u200b\u9762\u5411\u200b\u4e0a\u200b\u6240\u200b\u5448\u73fe\u200b\u7684\u200b\u98a8\u96aa\u200b\u8207\u200b\u54c1\u8cea\u200b\u3002</p> <p>The purpose of testing is to increase confidence for stakeholders through evidence.</p> <p>\u200b\u6e2c\u8a66\u200b\u7684\u200b\u76ee\u7684\u200b\u662f\u200b\u900f\u904e\u200b \u200b\u8b49\u64da\u200b \u200b\u63d0\u9ad8\u200b \u200b\u5229\u76ca\u200b\u76f8\u95dc\u200b\u4eba\u200b \u200b\u5c0d\u7522\u54c1\u200b\u7684\u200b \u200b\u4fe1\u5fc3\u200b</p> <ol> <li>Stakeholders: \u200b\u4e0d\u200b\u53ea\u662f\u200b\u76f4\u63a5\u200b\u8207\u200b\u7522\u54c1\u200b\u76f4\u63a5\u200b\u76f8\u95dc\u200b\u7684\u200b\u958b\u200b\u767c\u8005\u200b\u3001\u200b\u4f7f\u7528\u8005\u200b\uff0c\u200b\u4efb\u4f55\u200b\u9593\u63a5\u200b\u76f8\u95dc\u200b\u7684\u200b\u4eba\u200b\u90fd\u200b\u7b97\u662f\u200b Stakeholder\uff0c\u200b\u4f8b\u5982\u200b\u7dad\u904b\u4eba\u54e1\u200b\u3001\u200b\u5408\u898f\u4eba\u54e1\u200b\u3001\u200b\u7a3d\u6838\u200b\u4eba\u54e1\u200b\u7b49\u200b\u4efb\u4f55\u200b\u95dc\u5fc3\u200b\u4e0a\u9762\u200b\u63d0\u5230\u200b\u7684\u200b\u7279\u6027\u200b\u7684\u200b\u4eba\u200b</li> <li>Increasing confidence: \u200b\u4e86\u89e3\u200b Stakeholder \u200b\u95dc\u5fc3\u200b\u54ea\u4e9b\u200b\u4e8b\u200b\uff0c\u200b\u8b93\u200b\u4ed6\u5011\u200b\u665a\u4e0a\u200b\u80fd\u5920\u200b\u7761\u200b\u5f97\u200b\u66f4\u597d\u200b</li> <li>Evidence: \u200b\u900f\u904e\u200b\u8cc7\u8a0a\u200b\u6216\u200b\u6578\u64da\u200b\u8b49\u660e\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u8981\u200b Stakeholder \u200b\u4f9d\u8cf4\u200b\u4f60\u200b\u7684\u200b\u627f\u8afe\u200b\u3001\u200b\u4fdd\u8b49\u200b\u6216\u662f\u200b\u540d\u8072\u200b</li> </ol> <p>Three \u201csuperpowers\u201d that associate with a testing mindset</p> <ol> <li>Empathy: \u200b\u540c\u7406\u200b\u5fc3\u200b\uff0c\u200b\u5f9e\u200b Stakeholder \u200b\u7684\u200b\u89d2\u5ea6\u770b\u200b\u554f\u984c\u200b\uff0c\u200b\u7406\u89e3\u200b\u4ed6\u5011\u200b\u5728\u610f\u200b\u7684\u200b\u4e8b\u60c5\u200b\uff0c\u200b\u4e86\u89e3\u200b\u4ed6\u5011\u200b\u70ba\u200b\u4ec0\u9ebc\u200b\u6703\u200b\u6709\u200b\u90a3\u4e9b\u200b\u7591\u616e\u200b</li> <li>Scepticism: \u200b\u61f7\u7591\u8ad6\u200b\uff0c\u200b\u5c0d\u200b\u4efb\u4f55\u200b\u4e8b\u60c5\u200b\u90fd\u200b\u4fdd\u6301\u200b\u61f7\u7591\u200b\u7684\u200b\u614b\u5ea6\u200b\uff0c\u200b\u63d0\u51fa\u200b\u5047\u8a2d\u200b\u3001\u200b\u8a2d\u8a08\u200b\u5be6\u9a57\u200b\u3001\u200b\u8a66\u5716\u200b\u8b49\u507d\u200b\uff0c\u200b\u7a4d\u6975\u200b\u5730\u200b\u63d0\u51fa\u200b\u9810\u6e2c\u200b\u4e26\u8b49\u5be6\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u53ea\u662f\u200b\u900f\u904e\u200b\u6b78\u7d0d\u6cd5\u200b\u89e3\u91cb\u200b\u904e\u53bb\u200b\u7684\u200b\u89c0\u6e2c\u200b\u7d50\u679c\u200b</li> <li>Ingenuity: \u200b\u5320\u5fc3\u200b\uff0c\u200b\u628a\u200b Stakeholder \u200b\u5728\u610f\u200b\u7684\u200b\u4e8b\u60c5\u200b\u505a\u5230\u200b\u6700\u597d\u200b\u7684\u200b\u6c7a\u5fc3\u200b\u8207\u200b\u80fd\u529b\u200b</li> </ol>","tags":["Testing"]},{"location":"blog/2021/08/05/we-need-to-talk-about-testing/#test-driven-development-a-sidebar","title":"Test-Driven Development - a sidebar","text":"<p>TDD, BDD(behaviour-driven development), ATDD(acceptance test\u2013driven development) \u200b\u4e0d\u662f\u200b\u7528\u4f86\u200b\u53d6\u4ee3\u200b Testing\uff0c\u200b\u800c\u662f\u200b\u88ab\u200b\u8a2d\u8a08\u4f86\u200b\u4f5c\u70ba\u200b\u4e00\u7a2e\u200b\u958b\u767c\u200b\u6280\u5de7\u200b\u3002</p>","tags":["Testing"]},{"location":"blog/2021/08/05/we-need-to-talk-about-testing/#is-test-coverage-a-useful-metric","title":"Is test coverage a useful metric?","text":"<p>\u200b\u7a0b\u5f0f\u200b\u78bc\u8986\u84cb\u5ea6\u200b(test coverage or code coverage)\u200b\u662f\u5426\u200b\u6709\u7528\u200b\u7aef\u200b\u770b\u200b Stakeholders \u200b\u95dc\u6ce8\u200b\u7684\u200b\u662f\u200b\u4ec0\u9ebc\u200b\uff0c\u200b\u82e5\u200b\u4ed6\u200b\u95dc\u6ce8\u200b\u7684\u200b\u662f\u200b\u5b89\u5168\u6027\u200b\uff0c\u200b\u7a0b\u5f0f\u200b\u78bc\u8986\u84cb\u5ea6\u200b\u7121\u6cd5\u200b\u63d0\u4f9b\u200b\u4efb\u4f55\u200b\u8cc7\u8a0a\u200b\u3002\u200b\u7a0b\u5f0f\u200b\u78bc\u8986\u84cb\u5ea6\u200b\u53ea\u80fd\u200b\u78ba\u4fdd\u200b\u9019\u4efd\u200b Code \u200b\u6709\u200b\u81ea\u52d5\u5316\u200b\u6e2c\u8a66\u200b\uff0c\u200b\u4e26\u200b\u7b26\u5408\u200b\u5b9a\u7fa9\u7684\u200b\u6e2c\u8a66\u200b\u6848\u4f8b\u200b\uff0c\u200b\u7121\u6cd5\u200b\u4fdd\u8b49\u200b\u4efb\u4f55\u200b\u6848\u4f8b\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u9810\u671f\u200b\u7d50\u679c\u200b\u3002</p>","tags":["Testing"]},{"location":"blog/2021/08/05/we-need-to-talk-about-testing/#what-does-it-mean-to-shift-testing-left","title":"What does it mean to \u201cshift testing left\u201d?","text":"<p>\u200b\u4e0d\u200b\u55ae\u7d14\u200b\u53ea\u662f\u200b\u76e1\u65e9\u200b\u57f7\u884c\u200b\u5404\u7a2e\u200b\u6e2c\u8a66\u200b\uff0c\u200b\u800c\u662f\u200b\u8981\u200b\u5118\u200b\u65e9\u200b\u628a\u200b Stakeholders \u200b\u95dc\u6ce8\u200b\u7684\u200b\u6771\u897f\u7d0d\u5165\u200b\u8003\u91cf\u200b\u4e2d\u200b\uff0c\u200b\u4f8b\u5982\u200b\u958b\u767c\u6642\u200b\u5c31\u200b\u601d\u8003\u200b\u5408\u898f\u200b\u3001\u200b\u5b89\u5168\u6027\u200b\u7b49\u200b\u8b70\u984c\u200b\u3002</p> <p>Ant \u200b\u5927\u200b\u5728\u200b FB \u200b\u5206\u4eab\u200b\u4e86\u200b\u9019\u200b\u7bc7\u6587\u7ae0\u200b\uff0c\u200b\u4e5d\u200b\u4e00\u5927\u200b\u5728\u200b\u8cbc\u200b\u6587\u4e0b\u200b\u4e5f\u200b\u91dd\u5c0d\u200b\u6587\u4e2d\u200b\u8aaa\u660e\u200b\u63d0\u5230\u200b TDD, BDD, ATDD \u200b\u4e0d\u8a72\u200b\u53d6\u4ee3\u200b Testing \u200b\u5206\u4eab\u200b\u4e86\u200b\u4ed6\u200b\u7684\u200b\u770b\u6cd5\u200b</p> <p>\u200b\u91dd\u5c0d\u200b2\u200b\u7684\u200b\u90e8\u5206\u200b\uff0c\u200b\u60f3\u200b\u7528\u200b TDD/BDD/ATDD \u200b\u4f86\u200b\u505a\u200b\u6e2c\u8a66\u200b\uff08\u200b\u9054\u5230\u200b\u6e2c\u8a66\u200b\u76ee\u7684\u200b\uff09\u200b\u7684\u200b\u4eba\u200b\uff0c\u200b\u662f\u4e0d\u662f\u200b\u672c\u8eab\u200b\u5c31\u200b\u8a72\u200b\u5148\u200b\u4e86\u89e3\u200b\u4e00\u4e0b\u200b\u9019\u4e9b\u200b\u540d\u8a5e\u200b\u7684\u200b\u300c\u200b\u5168\u540d\u200b\u300d\u3002</p> <p>\u200b\u4ed6\u5011\u200b\u90fd\u200b\u662f\u200b development \u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4ed6\u5011\u200b\u4e5f\u200b\u90fd\u200b\u4e0d\u662f\u200b\u7528\u4f86\u200b\u53d6\u4ee3\u200b\u6e2c\u8a66\u200b\u3002</p> <p>\u200b\u6240\u4ee5\u200b yes, \u200b\u5982\u679c\u200b\u62ff\u200b\u9019\u4e9b\u200b\u4f86\u200b\u53d6\u4ee3\u200b\u6e2c\u8a66\u200b\uff0c\u200b\u662f\u200b\u932f\u200b\u7684\u200b\u3002</p> <p>\u200b\u62ff\u200b\u9019\u4e9b\u200b\u4f86\u200b\u505a\u200b\u9700\u6c42\u200b\u5206\u6790\u200b\u3001\u200b\u60c5\u5883\u200b\u5206\u6790\u200b\u3001\u200b\u9a57\u8b49\u200b\u300c\u200b\u5df2\u77e5\u200b\u7684\u200b\u6771\u897f\u200b\u300d\u200b\u662f\u5426\u200b\u7b26\u5408\u200b\u9810\u671f\u200b\uff0c\u200b\u90fd\u200b\u5f88\u200b\u5408\u9069\u200b\u3002</p> <p>\u200b\u7528\u4f86\u9a57\u8b49\u200b\u90a3\u4e9b\u200b\u4f60\u200b\u4e0d\u200b\u77e5\u9053\u200b\u7684\u200b\u6771\u897f\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u662f\u200b\u81ea\u52d5\u5316\u200b\u80fd\u200b\u505a\u200b\u7684\u200b\u3002</p> <p>\u200b\u9019\u4e5f\u200b\u662f\u200b\u70ba\u200b\u4ec0\u9ebc\u200b\u6709\u200b\u4e00\u6d3e\u200b\u7684\u200b\u6e2c\u8a66\u200b\uff0c\u200b\u6307\u51fa\u200b\u81ea\u52d5\u5316\u200b\u6e2c\u8a66\u200b\u7684\u200b\u90e8\u5206\u200b\u4e0d\u61c9\u200b\u8a72\u200b\u53eb\u200b testing, \u200b\u800c\u662f\u200b validation \u200b\u6216\u200b check\u3002</p> <p>\u200b\u771f\u6b63\u200b\u7684\u200b\u6e2c\u8a66\u200b\u66f4\u200b\u504f\u5411\u200b\u63a2\u7d22\u200b\u6e2c\u8a66\u200b\u985e\u578b\u200b\u7684\u200b\u3002</p> <p>-Joey Chen</p>","tags":["Testing"]},{"location":"blog/2022/03/02/connect-docker-host-from-inside-a-docker-container/","title":"Connect docker host from inside a docker container","text":"<p>\u200b\u9700\u6c42\u200b\uff1a\u200b\u5728\u200b Container \u200b\u5167\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b Hostname \u200b\u8207\u200b Host \u200b\u6e9d\u901a\u200b</p> <ol> <li>Container \u200b\u4e2d\u200b\u7684\u200b Application \u200b\u8207\u200b\u5728\u200b Host \u200b\u4e0a\u200b\u57f7\u884c\u200b\u7684\u200b Application \u200b\u6e9d\u901a\u200b</li> <li>\u200b\u4f7f\u7528\u200b Container \u200b\u4f5c\u70ba\u200b Proxy\uff08\u200b\u5982\u200b Traefik\uff09\uff0c\u200b\u9700\u8981\u200b Proxy \u200b\u7684\u200b\u670d\u52d9\u958b\u200b\u5728\u200b Host \u200b\u4e0a\u200b</li> </ol> <p>\u200b\u89e3\u6cd5\u200b\uff1a</p> <p>\u200b\u6700\u200b\u66b4\u529b\u200b\u89e3\u200b\u7684\u200b\u89e3\u6cd5\u200b\u70ba\u200b\u76f4\u63a5\u200b\u5c07\u5728\u200b Container \u200b\u5167\u200b\u7684\u200b\u76ee\u6a19\u200b\u6307\u5411\u200b Host \u200b\u7684\u200b IP\uff0c\u200b\u4f46\u200b\u9019\u7a2e\u200b\u7576\u74b0\u5883\u200b\u8b8a\u52d5\u6642\u200b\u5c31\u200b\u6703\u200b\u9700\u8981\u200b\u624b\u52d5\u200b\u8abf\u6574\u200b\uff0c\u200b\u4f8b\u5982\u200b DHCP\u3001\u200b\u6d6e\u52d5\u200b IP \u200b\u6216\u662f\u200b\u5207\u63db\u200b\u5230\u200b\u4e0d\u540c\u200b\u4e3b\u6a5f\u200b\u57f7\u884c\u200b\u6642\u200b\u3002</p> <p>How to connect to the Docker host from inside a Docker container? \u200b\u9019\u200b\u7bc7\u6587\u7ae0\u200b\u4ecb\u7d39\u200b\u4e86\u200b\u5728\u200b Docker Desktop \u200b\u8207\u200b Linux \u200b\u4e0a\u200b\u7684\u200b Docker Engine \u200b\u7684\u200b\u5169\u7a2e\u200b\u89e3\u6cd5\u200b</p> <ol> <li> <p>Docker Desktop</p> <p>\u200b\u5728\u200b Windows \u200b\u6216\u200b Mac \u200b\u8981\u200b\u4f7f\u7528\u200b\u901a\u5e38\u200b\u90fd\u200b\u6703\u5b89\u88dd\u200b Docker Desktop\uff0c\u200b\u5728\u200b\u5b98\u65b9\u200b\u7684\u200b\u8aaa\u660e\u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff08Mac\u3001Windows\uff09\uff0c\u200b\u8aaa\u660e\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b <code>host.docker.internal</code> \u200b\u9019\u500b\u200b Hostname \u200b\u5f9e\u200b Container \u200b\u9023\u63a5\u200b Host\u3002</p> </li> <li> <p>Linux Docker Engine</p> <p>\u200b\u5728\u200b 20.10 \u200b\u7248\u200b\u5f8c\u200b\uff0cDocker Engine \u200b\u4e5f\u200b\u652f\u63f4\u200b\u4e86\u200b <code>host.docker.internal</code> \u200b\u9019\u500b\u200b Hostname\uff0c\u200b\u4f46\u662f\u200b\u7121\u6cd5\u200b\u958b\u7bb1\u200b\u5373\u200b\u7528\u200b\uff0c\u200b\u5728\u200b\u555f\u52d5\u200b Container \u200b\u6642\u200b\u9700\u8981\u200b\u984d\u5916\u200b\u4f7f\u7528\u200b <code>--add-host</code> \u200b\u53c3\u6578\u200b\u8a2d\u5b9a\u200b Host\uff0c\u200b\u8a2d\u5b9a\u200b\u5982\u4e0b\u200b</p> <pre><code>--add-host=host.docker.internal:host-gateway\n</code></pre> <p>\u200b\u5728\u200b Docker Compose \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u900f\u904e\u200b <code>extra_hosts</code> \u200b\u589e\u52a0\u200b Host\uff0cCompose \u200b\u7bc4\u200b\u4f8b\u5982\u200b\u4e0b\u200b\uff1a</p> <pre><code>version: \"3.8\"\nservices:\n\nubuntu:\n    image: ubuntu\n    container_name: ubuntu\n    extra_hosts:\n    - \"host.docker.internal:host-gateway\"\n    command: tail -f /dev/null\n</code></pre> </li> </ol> <p>Reference:</p> <ol> <li>How to connect to the Docker host from inside a Docker container?</li> </ol>","tags":["Docker"]},{"location":"blog/2023/10/22/grafana-stat-panel-%E5%90%8C%E6%99%82%E9%A1%AF%E7%A4%BA%E6%9C%80%E6%96%B0%E7%9A%84%E5%80%BC%E8%88%87-sparkline/","title":"Grafana Stat Panel \u200b\u540c\u6642\u200b\u986f\u793a\u200b\u6700\u65b0\u200b\u7684\u200b\u503c\u200b\u8207\u200b Sparkline","text":"","tags":["Grafana","Prometheus"]},{"location":"blog/2023/10/22/grafana-stat-panel-%E5%90%8C%E6%99%82%E9%A1%AF%E7%A4%BA%E6%9C%80%E6%96%B0%E7%9A%84%E5%80%BC%E8%88%87-sparkline/#_1","title":"\u9700\u6c42","text":"<p>\u200b\u5728\u200b Grafana \u200b\u7684\u200b Stat Panel \u200b\u540c\u6642\u200b\u986f\u793a\u200b\u6700\u65b0\u200b\u7684\u200b\u503c\u200b\u8207\u200b Sparkline\uff08\u200b\u8ff7\u4f60\u200b\u5716\u8868\u200b\uff09\u3002</p>","tags":["Grafana","Prometheus"]},{"location":"blog/2023/10/22/grafana-stat-panel-%E5%90%8C%E6%99%82%E9%A1%AF%E7%A4%BA%E6%9C%80%E6%96%B0%E7%9A%84%E5%80%BC%E8%88%87-sparkline/#_2","title":"\u554f\u984c\u200b\u5206\u6790","text":"<p>Stat Panel \u200b\u652f\u63f4\u200b Instant Query \u200b\u8207\u200b Range Query\uff1a</p> <ol> <li>Instant Query\uff1aQuery Type <code>Instant</code>\uff0c\u200b\u53ea\u67e5\u8a62\u200b\u6700\u65b0\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u8a72\u503c\u200b\u6703\u200b\u986f\u793a\u200b\u5728\u200b Panel \u200b\u4e0a\u200b</li> <li>Range Query\uff1aQuery Type <code>Range</code>\uff0c\u200b\u67e5\u8a62\u200b\u4e00\u6bb5\u200b\u6642\u9593\u200b\u5167\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u6700\u5f8c\u4e00\u500b\u200b\u503c\u6703\u200b\u986f\u793a\u200b\u5728\u200b Panel \u200b\u4e0a\u200b\uff0c\u200b\u6240\u6709\u200b\u8cea\u6703\u200b\u4ee5\u200b Sparkline \u200b\u7684\u200b\u65b9\u5f0f\u200b\u986f\u793a\u200b\u5728\u200b Panel \u200b\u4e0a\u200b</li> </ol> <p> Instant Query \u200b\u756b\u9762\u200b</p> <p> Range Query \u200b\u756b\u9762\u200b</p> <p>\u200b\u4f46\u200b\u55ae\u7d14\u200b\u4f7f\u7528\u200b Range Query \u200b\u6642\u6703\u200b\u767c\u73fe\u200b\uff0c\u200b\u6709\u200b\u6642\u5019\u200b\u6539\u8b8a\u200b\u6642\u9593\u200b\u5340\u9593\u200b\u6642\u200b\uff0c\u200b\u986f\u793a\u200b\u5728\u200b Panel \u200b\u4e0a\u200b\u60f3\u50cf\u4e2d\u200b\u4ee3\u8868\u200b\u6700\u65b0\u200b\u7684\u200b\u503c\u6703\u200b\u8b8a\u5927\u200b\u6216\u200b\u8b8a\u5c0f\u200b\uff0c\u200b\u5c0e\u81f4\u200b\u4f7f\u7528\u8005\u200b\u6703\u200b\u5c0d\u200b\u65bc\u200b\u6578\u503c\u200b\u7684\u200b\u6b63\u78ba\u200b\u6027\u7522\u200b\u751f\u7591\u200b\u616e\u200b\u3002</p> <p>\u200b\u9019\u662f\u200b\u56e0\u70ba\u200b\u5728\u200b Grafana \u200b\u4f7f\u7528\u200b Range Query \u200b\u6642\u200b\uff0c\u200b\u5be6\u969b\u200b\u7684\u200b\u67e5\u8a62\u200b\u6642\u9593\u200b\u5340\u9593\u200b\u6703\u200b\u70ba\u200b\u4e86\u200b\u914d\u5408\u200b\u67e5\u8a62\u200b Prometheus \u200b\u6642\u8981\u200b\u4f7f\u7528\u200b\u7684\u200b Step \u200b\u53c3\u6578\u200b\u800c\u200b\u88ab\u200b\u8abf\u6574\u200b\uff0c\u200b\u67e5\u8a62\u200b\u4f7f\u7528\u200b\u7684\u200b\u958b\u59cb\u200b\u8207\u200b\u7d50\u675f\u200b\u6642\u9593\u200b\u90fd\u200b\u6703\u200b\u8b8a\u5f97\u200b\u6bd4\u200b Grafana \u200b\u756b\u9762\u200b\u8a2d\u5b9a\u200b\u7684\u200b\u6642\u9593\u200b\u5340\u9593\u200b\u9084\u8981\u200b\u65e9\u200b\u3002\u200b\u82e5\u200b\u8abf\u6574\u200b\u5f8c\u200b\u7684\u200b\u7d50\u675f\u200b\u6642\u9593\u200b\u8207\u200b\u756b\u9762\u200b\u8a2d\u5b9a\u200b\u7684\u200b\u7d50\u675f\u200b\u6642\u9593\u200b\u4e2d\u9593\u200b\u525b\u597d\u200b\u6709\u200b\u8cc7\u6599\u200b\u9ede\u6642\u200b\uff0c\u200b\u5c31\u6703\u200b\u767c\u751f\u200b Range Query \u200b\u7684\u200b\u7d50\u679c\u200b\u4e0d\u662f\u200b\u8a72\u200b Series \u200b\u6700\u65b0\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u800c\u662f\u200b\u8abf\u6574\u200b\u5f8c\u200b\u7684\u200b\u7d50\u675f\u200b\u6642\u9593\u9ede\u200b\u5f80\u524d\u200b\u627e\u5230\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u5982\u4e0b\u200b\u5716\u200b\u6240\u793a\u200b\uff1a</p> <p> \u200b\u85cd\u8272\u200b\u7684\u200b\u6700\u5f8c\u4e00\u500b\u200b\u8cc7\u6599\u9ede\u200b\uff0c\u200b\u56e0\u70ba\u200b\u67e5\u8a62\u200b\u6642\u9593\u200b\u4f4d\u79fb\u200b\u7684\u95dc\u200b\u4fc2\u200b\u800c\u200b\u4e0d\u6703\u200b\u88ab\u200b\u8a72\u6b21\u200b\u67e5\u8a62\u200b\u67e5\u5230\u200b</p> <p>\u200b\u66f4\u200b\u8a73\u7d30\u200b\u7684\u200b Step \u200b\u53c3\u6578\u200b\u8207\u200b Grafana \u200b\u8a2d\u5b9a\u200b\u65b9\u5f0f\u200b\u5c07\u65bc\u200b\u53e6\u200b\u4e00\u7bc7\u200b\u6587\u7ae0\u200b\u4e2d\u200b\u8aaa\u660e\u200b\u3002</p> <p>\u200b\u96d6\u7136\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Both Type \u200b\u9032\u884c\u200b\u67e5\u8a62\u200b\uff0c\u200b\u540c\u6642\u200b\u986f\u793a\u200b Instant Query \u200b\u8207\u200b Range Query \u200b\u7684\u200b\u7d50\u679c\u200b\uff0c\u200b\u4f46\u200b Panel \u200b\u6703\u200b\u986f\u793a\u200b\u5169\u500b\u503c\u200b\uff0c\u200b\u5bb9\u6613\u200b\u9020\u6210\u200b\u4f7f\u7528\u8005\u200b\u6df7\u6dc6\u200b\u3002</p> <p> Both Query \u200b\u756b\u9762\u200b</p> <p>\u200b\u5716\u4e2d\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u53f3\u5074\u200b Instant Query \u200b\u7684\u200b\u503c\u200b\u8207\u200b\u5de6\u5074\u200b Range Query \u200b\u7684\u200b\u503c\u200b\u4e0d\u540c\u200b\uff0c\u200b\u9019\u5728\u200b\u67e5\u8a62\u200b\u5340\u9593\u200b\u7bc4\u570d\u200b\u8f03\u200b\u5927\u200b\u6642\u6703\u200b\u66f4\u200b\u660e\u986f\u200b\u3002</p>","tags":["Grafana","Prometheus"]},{"location":"blog/2023/10/22/grafana-stat-panel-%E5%90%8C%E6%99%82%E9%A1%AF%E7%A4%BA%E6%9C%80%E6%96%B0%E7%9A%84%E5%80%BC%E8%88%87-sparkline/#_3","title":"\u89e3\u6cd5","text":"<p>\u200b\u4f7f\u7528\u200b <code>Both</code> Type\uff0c\u200b\u4e26\u5c07\u200b\u5169\u500b\u200b Series \u200b\u5408\u200b\u4f75\u200b\uff0c\u200b\u8b93\u200b Instant Query \u200b\u7684\u200b\u503c\u200b\u6700\u70ba\u200b\u6700\u5f8c\u4e00\u500b\u200b\u503c\u200b\uff0c\u200b\u540c\u6642\u200b\u6709\u200b Range Query \u200b\u7684\u200b\u8cc7\u6599\u200b\u4f9b\u200b\u7e6a\u200b\u88fd\u200b Sparkline\u3002</p> <ol> <li> <p>\u200b\u4f7f\u7528\u200b <code>Both</code> Type \u200b\u67e5\u8a62\u200b</p> <p> Query Type \u200b\u8a2d\u5b9a\u200b</p> </li> <li> <p>\u200b\u4f7f\u7528\u200b <code>Series to rows</code> \u200b\u8207\u200b <code>Sort by</code> \u200b\u5169\u500b\u200b Transform</p> <ol> <li>Series to rows\uff1a\u200b\u5c07\u200b Instant Query \u200b\u8207\u200b Range Query \u200b\u7684\u200b\u8cc7\u6599\u200b\u5408\u200b\u4f75\u200b</li> <li>Sort by\uff1a\u200b\u5c07\u5408\u200b\u4f75\u200b\u5f8c\u200b\u7684\u200b\u8cc7\u6599\u200b\u4f9d\u7167\u200b <code>Time</code> \u200b\u6b04\u4f4d\u200b\u6392\u5e8f\u200b\uff0c\u200b\u78ba\u4fdd\u200b\u6700\u5f8c\u4e00\u7b46\u200b\u8cc7\u6599\u200b\u70ba\u200b\u6700\u65b0\u200b\u7684\u200b\u8cc7\u6599\u200b</li> </ol> <p> Transform \u200b\u8a2d\u5b9a\u200b</p> </li> </ol>","tags":["Grafana","Prometheus"]},{"location":"blog/2023/10/22/grafana-stat-panel-%E5%90%8C%E6%99%82%E9%A1%AF%E7%A4%BA%E6%9C%80%E6%96%B0%E7%9A%84%E5%80%BC%E8%88%87-sparkline/#_4","title":"\u8aaa\u660e","text":"<p> \u200b\u5148\u95dc\u9589\u200b Transform\uff0c\u200b\u4e26\u5207\u200b\u63db\u70ba\u200b Table \u200b\u6aa2\u8996\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u5169\u500b\u200b Series\uff0c\u200b\u7b2c\u4e00\u200b\u500b\u200b\u662f\u200b Range Query \u200b\u7684\u200b\u8cc7\u6599\u200b\u3002</p> <p> \u200b\u7b2c\u4e8c\u200b\u500b\u200b\u662f\u200b Instant Query \u200b\u7684\u200b\u8cc7\u6599\u200b\u3002</p> <p> \u200b\u555f\u7528\u200b <code>Series to rows</code> transform\uff0c\u200b\u5169\u500b\u200b Series \u200b\u6703\u5408\u200b\u4f75\u200b\u6210\u4e00\u500b\u200b Series\uff0c\u200b\u4f46\u200b\u9810\u8a2d\u200b\u7684\u200b\u6392\u5e8f\u200b\u662f\u200b\u4f9d\u7167\u200b\u6642\u9593\u200b\u6b04\u4f4d\u200b\u964d\u200b\u51aa\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5c0e\u81f4\u200b\u6700\u5f8c\u4e00\u7b46\u200b\u8cc7\u6599\u200b\u4e0d\u662f\u200b\u6700\u65b0\u200b\u7684\u200b\u8cc7\u6599\u200b\uff0c\u200b\u800c\u200b Stat Panel \u200b\u9810\u8a2d\u200b\u6703\u200b\u986f\u793a\u200b\u6700\u5f8c\u4e00\u7b46\u200b\u8cc7\u6599\u200b\u3002</p> <p> \u200b\u555f\u7528\u200b <code>Sort by</code> transform\uff0c\u200b\u4e26\u4ee5\u200b <code>Time</code> \u200b\u6b04\u4f4d\u200b\u6392\u5e8f\u200b\uff0c\u200b\u78ba\u4fdd\u200b\u6700\u5f8c\u4e00\u7b46\u200b\u8cc7\u6599\u200b\u70ba\u200b\u6700\u65b0\u200b\u7684\u200b\u8cc7\u6599\u200b\u3002</p>","tags":["Grafana","Prometheus"]},{"location":"blog/2023/10/22/grafana-stat-panel-%E5%90%8C%E6%99%82%E9%A1%AF%E7%A4%BA%E6%9C%80%E6%96%B0%E7%9A%84%E5%80%BC%E8%88%87-sparkline/#_5","title":"\u591a\u7b46\u200b\u8cc7\u6599\u200b\u61c9\u7528","text":"<p>\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u5728\u200b\u540c\u4e00\u200b\u500b\u200b Stat Panel \u200b\u4e0a\u200b\u986f\u793a\u200b\u591a\u200b\u7b46\u8cc7\u6599\u200b\u4f46\u200b\u9054\u200b\u5230\u200b\u4e00\u6a23\u200b\u7684\u200b\u6548\u679c\u200b\uff0c\u200b\u5247\u8981\u200b\u4f7f\u7528\u200b\u591a\u984d\u200b\u5916\u200b\u4f7f\u7528\u200b <code>Partition by values</code> transform \u200b\u4ee5\u200b <code>Metrics</code> \u200b\u6b04\u4f4d\u200b\u5206\u5272\u200b\u8cc7\u6599\u200b\u3002</p> <ol> <li> <p>\u200b\u4f7f\u7528\u200b <code>Both</code> Type \u200b\u67e5\u8a62\u200b</p> <p> Query Type \u200b\u8a2d\u5b9a\u200b</p> </li> <li> <p>\u200b\u4f7f\u7528\u200b <code>Series to rows</code>\u3001<code>Sort by</code>\u3001<code>Partition by values</code> \u200b\u4e09\u500b\u200b Transform</p> <ol> <li>Series to rows\uff1a\u200b\u5c07\u200b Instant Query \u200b\u8207\u200b Range Query \u200b\u7684\u200b\u8cc7\u6599\u200b\u5408\u200b\u4f75\u200b</li> <li>Sort by\uff1a\u200b\u5c07\u5408\u200b\u4f75\u200b\u5f8c\u200b\u7684\u200b\u8cc7\u6599\u200b\u4f9d\u7167\u200b <code>Time</code> \u200b\u6b04\u4f4d\u200b\u6392\u5e8f\u200b\uff0c\u200b\u78ba\u4fdd\u200b\u6700\u5f8c\u4e00\u7b46\u200b\u8cc7\u6599\u200b\u70ba\u200b\u6700\u65b0\u200b\u7684\u200b\u8cc7\u6599\u200b</li> <li>Partition by values\uff1a\u200b\u5c07\u200b\u5168\u90e8\u200b\u88ab\u5408\u200b\u4f75\u200b\u7684\u200b\u8cc7\u6599\u200b\u518d\u200b\u4ee5\u200b <code>Metrics</code> \u200b\u6b04\u4f4d\u200b\u5206\u5272\u200b\u6210\u591a\u7b46\u200b Series</li> </ol> <p> Transform \u200b\u8a2d\u5b9a\u200b</p> </li> </ol> <p>\u200b\u53c3\u8003\u200b\u8cc7\u6599\u200b\uff1a</p> <ol> <li>How to easily retrieve values from a range in Grafana using a stat panel</li> <li>\u200b\u8be6\u89e3\u200bPrometheus range query\u200b\u4e2d\u200b\u7684\u200bstep\u200b\u53c2\u6570\u200b</li> </ol>","tags":["Grafana","Prometheus"]},{"location":"blog/archive/2023/","title":"2023","text":""},{"location":"blog/archive/2022/","title":"2022","text":""},{"location":"blog/archive/2021/","title":"2021","text":""},{"location":"blog/archive/2020/","title":"2020","text":""},{"location":"blog/category/tip/","title":"Tip","text":""},{"location":"blog/category/review/","title":"Review","text":""},{"location":"blog/category/algorithm/","title":"Algorithm","text":""},{"location":"blog/category/share/","title":"Share","text":""},{"location":"blog/archive/2021/page/2/","title":"2021","text":""},{"location":"blog/archive/2021/page/3/","title":"2021","text":""},{"location":"blog/archive/2020/page/2/","title":"2020","text":""},{"location":"blog/archive/2020/page/3/","title":"2020","text":""},{"location":"blog/archive/2020/page/4/","title":"2020","text":""},{"location":"blog/archive/2020/page/5/","title":"2020","text":""},{"location":"blog/archive/2020/page/6/","title":"2020","text":""},{"location":"blog/archive/2020/page/7/","title":"2020","text":""},{"location":"blog/category/algorithm/page/2/","title":"Algorithm","text":""},{"location":"blog/category/algorithm/page/3/","title":"Algorithm","text":""},{"location":"blog/category/review/page/2/","title":"Review","text":""},{"location":"blog/category/review/page/3/","title":"Review","text":""},{"location":"blog/category/share/page/2/","title":"Share","text":""},{"location":"blog/category/share/page/3/","title":"Share","text":""},{"location":"blog/category/tip/page/2/","title":"Tip","text":""},{"location":"blog/category/tip/page/3/","title":"Tip","text":""},{"location":"tags/","title":"Tags","text":""},{"location":"tags/#api","title":"API","text":"<ul> <li>JSON end with newline</li> <li>OpenAPI \u2013 An eBay Perspective</li> <li>OpenAPI / Swagger Resource List for API Developers</li> <li>Why we switched from Flask to FastAPI for production machine learning</li> <li>Implementing request-based autoscaling for machine learning workloads</li> </ul>"},{"location":"tags/#architecture","title":"Architecture","text":"<ul> <li>Saving Files In A Database Or In A File System?</li> </ul>"},{"location":"tags/#bitwise","title":"Bitwise","text":"<ul> <li>Number of 1 Bits</li> <li>Pseudo-Palindromic Paths in a Binary Tree</li> </ul>"},{"location":"tags/#business-thinking","title":"Business Thinking","text":"<ul> <li>\u200b\u6280\u8853\u200b\u5de5\u4f5c\u8005\u200b\u7684\u200b\u5546\u696d\u200b\u601d\u7dad\u200b</li> </ul>"},{"location":"tags/#css","title":"CSS","text":"<ul> <li>MkDocs CSS \u200b\u5b57\u9ad4\u200b\u4e2d\u82f1\u6587\u200b\u5206\u5225\u200b\u8a2d\u5b9a\u200b</li> </ul>"},{"location":"tags/#cloud-native","title":"Cloud Native","text":"<ul> <li>Principles of container-based application design</li> </ul>"},{"location":"tags/#container","title":"Container","text":"<ul> <li>10 things to avoid in docker containers</li> <li>Container Timezone</li> </ul>"},{"location":"tags/#devops","title":"DevOps","text":"<ul> <li>Ledge - DevOps \u200b\u77e5\u8b58\u200b\u5e73\u53f0\u200b</li> <li>Differences Between Junior DevOps and Senior DevOps Engineers</li> <li>The Future of Ops Jobs</li> <li>Technologies &amp; Tools to Watch in 2021</li> </ul>"},{"location":"tags/#django","title":"Django","text":"<ul> <li>Django Multiple Files Upload</li> <li>Django Custom User with DRF and Simple JWT</li> </ul>"},{"location":"tags/#docker","title":"Docker","text":"<ul> <li>The best Docker base image for your Python application</li> <li>\u200b\u9632\u6b62\u200b Container \u200b\u555f\u52d5\u200b\u5f8c\u200b\u9000\u51fa\u200b</li> <li>R Plumber - API Service</li> <li>Install the Microsoft ODBC driver for SQL Server (Linux)</li> <li>Nginx with Docker Compose</li> <li>Use Local Images in Minikube</li> <li>Docker Multi-Stage Build</li> <li>10 things to avoid in docker containers</li> <li>Container Timezone</li> <li>Connect docker host from inside a docker container</li> </ul>"},{"location":"tags/#frontend","title":"Frontend","text":"<ul> <li>iframe access parent URL query string</li> <li>CORS</li> <li>JavaScript Promise</li> </ul>"},{"location":"tags/#gis","title":"GIS","text":"<ul> <li>TWD97TM2 to WGS84</li> </ul>"},{"location":"tags/#gitbook","title":"GitBook","text":"<ul> <li>GitBook Base Path</li> </ul>"},{"location":"tags/#go","title":"Go","text":"<ul> <li>Why we\u2019re writing machine learning infrastructure in Go, not Python</li> <li>Race Condition</li> </ul>"},{"location":"tags/#grafana","title":"Grafana","text":"<ul> <li>Grafana Stat Panel \u200b\u540c\u6642\u200b\u986f\u793a\u200b\u6700\u65b0\u200b\u7684\u200b\u503c\u200b\u8207\u200b Sparkline</li> </ul>"},{"location":"tags/#jwt","title":"JWT","text":"<ul> <li>Django Custom User with DRF and Simple JWT</li> </ul>"},{"location":"tags/#jasperreport","title":"JasperReport","text":"<ul> <li>JasperReports with Spring</li> </ul>"},{"location":"tags/#java","title":"Java","text":"<ul> <li>Maven block http repositories</li> </ul>"},{"location":"tags/#javascript","title":"JavaScript","text":"<ul> <li>iframe access parent URL query string</li> <li>JavaScript Promise</li> </ul>"},{"location":"tags/#jenkins","title":"Jenkins","text":"<ul> <li>Jenkins with Git Operation</li> <li>Move all files including hidden</li> </ul>"},{"location":"tags/#k8s","title":"K8s","text":"<ul> <li>Istio in Production</li> <li>Principles of container-based application design</li> <li>GitOps for Kubernetes with Jenkins</li> <li>K8s \u200b\u7bc0\u9ede\u200b\u8cc7\u6e90\u8017\u200b\u76e1\u200b</li> <li>Kubernetes Probes</li> <li>Use Local Images in Minikube</li> <li>10 most common mistakes using kubernetes</li> <li>Kubernetes Operator for Beginners \u2014 What, Why, How</li> <li>Implementing request-based autoscaling for machine learning workloads</li> </ul>"},{"location":"tags/#linux","title":"Linux","text":"<ul> <li>Container Timezone</li> </ul>"},{"location":"tags/#maven","title":"Maven","text":"<ul> <li>Maven block http repositories</li> </ul>"},{"location":"tags/#misc","title":"Misc","text":"<ul> <li>Hello World</li> </ul>"},{"location":"tags/#nginx","title":"Nginx","text":"<ul> <li>Nginx with Docker Compose</li> </ul>"},{"location":"tags/#nodejs","title":"Node.js","text":"<ul> <li>npm ERR! code SELF_SIGNED_CERT_IN_CHAIN</li> <li>Install node-sass without download the binding.node file from GitHub</li> </ul>"},{"location":"tags/#openapi","title":"OpenAPI","text":"<ul> <li>OpenAPI \u2013 An eBay Perspective</li> <li>OpenAPI / Swagger Resource List for API Developers</li> <li>Prism OpenAPI Mock Server</li> <li>Disable 'Try it out' in Swagger UI</li> </ul>"},{"location":"tags/#prometheus","title":"Prometheus","text":"<ul> <li>Grafana Stat Panel \u200b\u540c\u6642\u200b\u986f\u793a\u200b\u6700\u65b0\u200b\u7684\u200b\u503c\u200b\u8207\u200b Sparkline</li> </ul>"},{"location":"tags/#python","title":"Python","text":"<ul> <li>The best Docker base image for your Python application</li> <li>Understanding Best Practice Python Tooling by Comparing Popular Project Templates</li> <li>JSON end with newline</li> <li>Python package include command line tools</li> <li>Race Condition</li> <li>AIOHTTP - asynchronous HTTP client/server for python</li> <li>TWD97TM2 to WGS84</li> <li>Django Custom User with DRF and Simple JWT</li> <li>Why we switched from Flask to FastAPI for production machine learning</li> <li>Implementing request-based autoscaling for machine learning workloads</li> </ul>"},{"location":"tags/#r","title":"R","text":"<ul> <li>R Plumber - API Service</li> </ul>"},{"location":"tags/#roadmap","title":"Roadmap","text":"<ul> <li>The 2020 Web Developer Roadmap</li> </ul>"},{"location":"tags/#rules-of-thumb","title":"Rules of thumb","text":"<ul> <li>Rules of thumb for a 1x developer</li> <li>\u200b\u6280\u8853\u200b\u5de5\u4f5c\u8005\u200b\u7684\u200b\u5546\u696d\u200b\u601d\u7dad\u200b</li> </ul>"},{"location":"tags/#sre","title":"SRE","text":"<ul> <li>How we implemented RED and USE metrics for monitoring</li> </ul>"},{"location":"tags/#ssl","title":"SSL","text":"<ul> <li>HTTPS, SSL and TLS</li> </ul>"},{"location":"tags/#scraper","title":"Scraper","text":"<ul> <li>AIOHTTP - asynchronous HTTP client/server for python</li> </ul>"},{"location":"tags/#spring-boot","title":"Spring Boot","text":"<ul> <li>JasperReports with Spring</li> </ul>"},{"location":"tags/#testing","title":"Testing","text":"<ul> <li>We need to talk about testing</li> </ul>"},{"location":"tags/#thread","title":"Thread","text":"<ul> <li>Race Condition</li> </ul>"},{"location":"tags/#toolbox","title":"Toolbox","text":"<ul> <li>OpenVPN for Docker</li> </ul>"},{"location":"tags/#traefik","title":"Traefik","text":"<ul> <li>Serving Traefik\u2019s internal dashboard behind Traefik itself</li> <li>Traefik with config hot reload</li> </ul>"},{"location":"tags/#tree","title":"Tree","text":"<ul> <li>Sum of Left Leaves</li> <li>Balance a Binary Search Tree</li> <li>Pseudo-Palindromic Paths in a Binary Tree</li> <li>Populating Next Right Pointers in Each Node</li> <li>Binary Tree Coloring Game</li> <li>Distribute Coins in Binary Tree</li> </ul>"},{"location":"tags/#unix","title":"Unix","text":"<ul> <li>split large csv file</li> <li>Install the Microsoft ODBC driver for SQL Server (Linux)</li> <li>Move all files including hidden</li> <li>Until curl success</li> <li>Open JDK Download</li> <li>Get column index of field in CSV file</li> </ul>"},{"location":"tags/#vue","title":"Vue","text":"<ul> <li>Vue Bootstrap Admin Menu</li> <li>Vue vs React: Best Choice for Startups</li> <li>vxe-table with filter search and pagination</li> <li>Vue Select</li> </ul>"},{"location":"tags/#web-development","title":"Web Development","text":"<ul> <li>HTTPS, SSL and TLS</li> <li>Chrome ERR_UNSAFE_PORT</li> </ul>"},{"location":"tags/#git","title":"git","text":"<ul> <li>Jenkins with Git Operation</li> </ul>"},{"location":"tags/#jupyter-notebook","title":"jupyter notebook","text":"<ul> <li>Nginx with Docker Compose</li> <li>Arrow keys not working in vim in Jupyter console</li> </ul>"}]}